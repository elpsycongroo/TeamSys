!function(e,t){function n(e){var t=e.length,n=oe.type(e);return!oe.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}function r(e){var t=he[e]={};return oe.each(e.match(ae)||[],function(e,n){t[n]=!0}),t}function i(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=oe.expando+Math.random()}function o(e,n,r){var i;if(r===t&&1===e.nodeType)if(i="data-"+n.replace(ve,"-$1").toLowerCase(),r=e.getAttribute(i),"string"==typeof r){try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:ye.test(r)?JSON.parse(r):r)}catch(o){}ge.set(e,n,r)}else r=t;return r}function s(){return!0}function a(){return!1}function u(){try{return X.activeElement}catch(e){}}function l(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e,t,n){if(oe.isFunction(t))return oe.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return oe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(je.test(t))return oe.filter(t,e,n);t=oe.filter(t,e)}return oe.grep(e,function(e){return te.call(t,e)>=0!==n})}function f(e,t){return oe.nodeName(e,"table")&&oe.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function d(e){var t=We.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function h(e,t){for(var n=e.length,r=0;n>r;r++)me.set(e[r],"globalEval",!t||me.get(t[r],"globalEval"))}function g(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(me.hasData(e)&&(o=me.access(e),s=me.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)oe.event.add(t,i,l[i][n])}ge.hasData(e)&&(a=ge.access(e),u=oe.extend({},a),ge.set(t,u))}}function m(e,n){var r=e.getElementsByTagName?e.getElementsByTagName(n||"*"):e.querySelectorAll?e.querySelectorAll(n||"*"):[];return n===t||n&&oe.nodeName(e,n)?oe.merge([e],r):r}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Pe.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function v(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Ze.length;i--;)if(t=Ze[i]+n,t in e)return t;return r}function x(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)}function b(t){return e.getComputedStyle(t,null)}function w(e,t){for(var n,r,i,o=[],s=0,a=e.length;a>s;s++)r=e[s],r.style&&(o[s]=me.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&x(r)&&(o[s]=me.access(r,"olddisplay",k(r.nodeName)))):o[s]||(i=x(r),(n&&"none"!==n||!i)&&me.set(r,"olddisplay",i?n:oe.css(r,"display"))));for(s=0;a>s;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function T(e,t,n){var r=Ue.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function C(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=oe.css(e,n+Ke[o],!0,i)),r?("content"===n&&(s-=oe.css(e,"padding"+Ke[o],!0,i)),"margin"!==n&&(s-=oe.css(e,"border"+Ke[o]+"Width",!0,i))):(s+=oe.css(e,"padding"+Ke[o],!0,i),"padding"!==n&&(s+=oe.css(e,"border"+Ke[o]+"Width",!0,i)));return s}function N(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=b(e),s=oe.support.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Ie(e,t,o),(0>i||null==i)&&(i=e.style[t]),Ye.test(i))return i;r=s&&(oe.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+C(e,t,n||(s?"border":"content"),r,o)+"px"}function k(e){var t=X,n=Ge[e];return n||(n=E(e,t),"none"!==n&&n||(ze=(ze||oe("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(ze[0].contentWindow||ze[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=E(e,t),ze.detach()),Ge[e]=n),n}function E(e,t){var n=oe(t.createElement(e)).appendTo(t.body),r=oe.css(n[0],"display");return n.remove(),r}function S(e,t,n,r){var i;if(oe.isArray(t))oe.each(t,function(t,i){n||tt.test(e)?r(e,i):S(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==oe.type(t))r(e,t);else for(i in t)S(e+"["+i+"]",t[i],n,r)}function j(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(ae)||[];if(oe.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function D(e,n,r,i){function o(u){var l;return s[u]=!0,oe.each(e[u]||[],function(e,u){var c=u(n,r,i);return"string"!=typeof c||a||s[c]?a?!(l=c):t:(n.dataTypes.unshift(c),o(c),!1)}),l}var s={},a=e===vt;return o(n.dataTypes[0])||!s["*"]&&o("*")}function A(e,n){var r,i,o=oe.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);return i&&oe.extend(!0,e,i),e}function L(e,n,r){for(var i,o,s,a,u=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("Content-Type"));if(i)for(o in u)if(u[o]&&u[o].test(i)){l.unshift(o);break}if(l[0]in r)s=l[0];else{for(o in r){if(!l[0]||e.converters[o+" "+l[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==l[0]&&l.unshift(s),r[s]):t}function q(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[i]:l[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(f){return{state:"parsererror",error:s?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function H(){return setTimeout(function(){St=t}),St=oe.now()}function O(e,t,n){for(var r,i=(Ht[t]||[]).concat(Ht["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,t,e))return r}function F(e,t,n){var r,i,o=0,s=qt.length,a=oe.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=St||H(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),1>o&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:St||H(),duration:n.duration,tweens:[],createTween:function(t,n){var r=oe.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(P(c,l.opts.specialEasing);s>o;o++)if(r=qt[o].call(l,e,c,l.opts))return r;return oe.map(c,O,l),oe.isFunction(l.opts.start)&&l.opts.start.call(e,l),oe.fx.timer(oe.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(e,t){var n,r,i,o,s;for(n in e)if(r=oe.camelCase(n),i=t[r],o=e[n],oe.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=oe.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function R(e,n,r){var i,o,s,a,u,l,c=this,f={},p=e.style,d=e.nodeType&&x(e),h=me.get(e,"fxshow");r.queue||(u=oe._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,l=u.empty.fire,u.empty.fire=function(){u.unqueued||l()}),u.unqueued++,c.always(function(){c.always(function(){u.unqueued--,oe.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in n||"width"in n)&&(r.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===oe.css(e,"display")&&"none"===oe.css(e,"float")&&(p.display="inline-block")),r.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=r.overflow[0],p.overflowX=r.overflow[1],p.overflowY=r.overflow[2]}));for(i in n)if(o=n[i],Dt.exec(o)){if(delete n[i],s=s||"toggle"===o,o===(d?"hide":"show")){if("show"!==o||!h||h[i]===t)continue;d=!0}f[i]=h&&h[i]||oe.style(e,i)}if(!oe.isEmptyObject(f)){h?"hidden"in h&&(d=h.hidden):h=me.access(e,"fxshow",{}),s&&(h.hidden=!d),d?oe(e).show():c.done(function(){oe(e).hide()}),c.done(function(){var t;me.remove(e,"fxshow");for(t in f)oe.style(e,t,f[t])});for(i in f)a=O(d?h[i]:0,i,c),i in h||(h[i]=a.start,d&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function M(e,t,n,r,i){return new M.prototype.init(e,t,n,r,i)}function W(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Ke[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function $(e){return oe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var B,I,z=typeof t,_=e.location,X=e.document,U=X.documentElement,Y=e.jQuery,V=e.$,G={},J=[],Q="2.0.3",K=J.concat,Z=J.push,ee=J.slice,te=J.indexOf,ne=G.toString,re=G.hasOwnProperty,ie=Q.trim,oe=function(e,t){return new oe.fn.init(e,t,B)},se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ae=/\S+/g,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,le=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ce=/^-ms-/,fe=/-([\da-z])/gi,pe=function(e,t){return t.toUpperCase()},de=function(){X.removeEventListener("DOMContentLoaded",de,!1),e.removeEventListener("load",de,!1),oe.ready()};oe.fn=oe.prototype={jquery:Q,constructor:oe,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ue.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof oe?n[0]:n,oe.merge(this,oe.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:X,!0)),le.test(i[1])&&oe.isPlainObject(n))for(i in n)oe.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}return o=X.getElementById(i[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))},selector:"",length:0,toArray:function(){return ee.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return oe.each(this,e,t)},ready:function(e){return oe.ready.promise().done(e),this},slice:function(){return this.pushStack(ee.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(oe.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:[].sort,splice:[].splice},oe.fn.init.prototype=oe.fn,oe.extend=oe.fn.extend=function(){var e,n,r,i,o,s,a=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},u=2),"object"==typeof a||oe.isFunction(a)||(a={}),l===u&&(a=this,--u);l>u;u++)if(null!=(e=arguments[u]))for(n in e)r=a[n],i=e[n],a!==i&&(c&&i&&(oe.isPlainObject(i)||(o=oe.isArray(i)))?(o?(o=!1,s=r&&oe.isArray(r)?r:[]):s=r&&oe.isPlainObject(r)?r:{},a[n]=oe.extend(c,s,i)):i!==t&&(a[n]=i));return a},oe.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===oe&&(e.$=V),t&&e.jQuery===oe&&(e.jQuery=Y),oe},isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){(e===!0?--oe.readyWait:oe.isReady)||(oe.isReady=!0,e!==!0&&--oe.readyWait>0||(I.resolveWith(X,[oe]),oe.fn.trigger&&oe(X).trigger("ready").off("ready")))},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?G[ne.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;try{if(e.constructor&&!re.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||X;var r=le.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=oe.buildFragment([e],t,i),i&&oe(i).remove(),oe.merge([],r.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var n,r;if(!e||"string"!=typeof e)return null;try{r=new DOMParser,n=r.parseFromString(e,"text/xml")}catch(i){n=t}return(!n||n.getElementsByTagName("parsererror").length)&&oe.error("Invalid XML: "+e),n},noop:function(){},globalEval:function(e){var t,n=eval;e=oe.trim(e),e&&(1===e.indexOf("use strict")?(t=X.createElement("script"),t.text=e,X.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ce,"ms-").replace(fe,pe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,s=e.length,a=n(e);if(r){if(a)for(;s>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(a)for(;s>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":ie.call(e)},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?oe.merge(r,"string"==typeof e?[e]:e):Z.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:te.call(t,e,n)},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,s=e.length;for(n=!!n;s>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,s=e.length,a=n(e),u=[];if(a)for(;s>o;o++)i=t(e[o],o,r),null!=i&&(u[u.length]=i);else for(o in e)i=t(e[o],o,r),null!=i&&(u[u.length]=i);return K.apply([],u)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(r=e[n],n=e,e=r),oe.isFunction(e)?(i=ee.call(arguments,2),o=function(){return e.apply(n||this,i.concat(ee.call(arguments)))},o.guid=e.guid=e.guid||oe.guid++,o):t},access:function(e,n,r,i,o,s,a){var u=0,l=e.length,c=null==r;if("object"===oe.type(r)){o=!0;for(u in r)oe.access(e,n,u,r[u],!0,s,a)}else if(i!==t&&(o=!0,oe.isFunction(i)||(a=!0),c&&(a?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(oe(e),n)})),n))for(;l>u;u++)n(e[u],r,a?i:i.call(e[u],u,n(e[u],r)));return o?e:c?n.call(e):l?n(e[0],r):s},now:Date.now,swap:function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i}}),oe.ready.promise=function(t){return I||(I=oe.Deferred(),"complete"===X.readyState?setTimeout(oe.ready):(X.addEventListener("DOMContentLoaded",de,!1),e.addEventListener("load",de,!1))),I.promise(t)},oe.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){G["[object "+t+"]"]=t.toLowerCase()}),B=oe(X),function(e,t){function n(e,t,n,r){var i,o,s,a,u,l,c,f,h,g;if((t?t.ownerDocument||t:$)!==q&&L(t),t=t||q,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(O&&!r){if(i=xe.exec(e))if(s=i[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&M(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return ee.apply(n,t.getElementsByTagName(e)),n;if((s=i[3])&&C.getElementsByClassName&&t.getElementsByClassName)return ee.apply(n,t.getElementsByClassName(s)),n}if(C.qsa&&(!F||!F.test(e))){if(f=c=W,h=t,g=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(l=p(e),(c=t.getAttribute("id"))?f=c.replace(Te,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",u=l.length;u--;)l[u]=f+d(l[u]);h=de.test(e)&&t.parentNode||t,g=l.join(",")}if(g)try{return ee.apply(n,h.querySelectorAll(g)),n}catch(m){}finally{c||t.removeAttribute("id")}}}return w(e.replace(ce,"$1"),t,n,r)}function r(){function e(n,r){return t.push(n+=" ")>k.cacheLength&&delete e[t.shift()],e[n]=r}var t=[];return e}function i(e){return e[W]=!0,e}function o(e){var t=q.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),r=e.length;r--;)k.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function u(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function f(){}function p(e,t){var r,i,o,s,a,u,l,c=_[e+" "];if(c)return t?0:c.slice(0);for(a=e,u=[],l=k.preFilter;a;){(!r||(i=fe.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=pe.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ce," ")}),a=a.slice(r.length));for(s in k.filter)!(i=ye[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return t?a.length:a?n.error(e):_(e,u).slice(0)}function d(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=I++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,u,l,c=B+" "+o;if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(l=t[W]||(t[W]={}),(u=l[r])&&u[0]===c){if((a=u[1])===!0||a===N)return a===!0}else if(u=l[r]=[c],u[1]=e(t,n,s)||N,u[1]===!0)return!0}}function g(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;u>a;a++)(o=e[a])&&(!n||n(o,r,i))&&(s.push(o),l&&t.push(a));return s}function y(e,t,n,r,o,s){return r&&!r[W]&&(r=y(r)),o&&!o[W]&&(o=y(o,s)),i(function(i,s,a,u){var l,c,f,p=[],d=[],h=s.length,g=i||b(t||"*",a.nodeType?[a]:a,[]),y=!e||!i&&t?g:m(g,p,e,a,u),v=n?o||(i?e:h||r)?[]:s:y;if(n&&n(y,v,a,u),r)for(l=m(v,d),r(l,[],a,u),c=l.length;c--;)(f=l[c])&&(v[d[c]]=!(y[d[c]]=f));if(i){if(o||e){if(o){for(l=[],c=v.length;c--;)(f=v[c])&&l.push(y[c]=f);o(null,v=[],l,u)}for(c=v.length;c--;)(f=v[c])&&(l=o?ne.call(i,f):p[c])>-1&&(i[l]=!(s[l]=f))}}else v=m(v===s?v.splice(h,v.length):v),o?o(null,s,v,u):ee.apply(s,v)})}function v(e){for(var t,n,r,i=e.length,o=k.relative[e[0].type],s=o||k.relative[" "],a=o?1:0,u=h(function(e){return e===t},s,!0),l=h(function(e){return ne.call(t,e)>-1},s,!0),c=[function(e,n,r){return!o&&(r||n!==D)||((t=n).nodeType?u(e,n,r):l(e,n,r))}];i>a;a++)if(n=k.relative[e[a].type])c=[h(g(c),n)];else{if(n=k.filter[e[a].type].apply(null,e[a].matches),n[W]){for(r=++a;i>r&&!k.relative[e[r].type];r++);return y(a>1&&g(c),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ce,"$1"),n,r>a&&v(e.slice(a,r)),i>r&&v(e=e.slice(r)),i>r&&d(e))}c.push(n)}return g(c)}function x(e,t){var r=0,o=t.length>0,s=e.length>0,a=function(i,a,u,l,c){var f,p,d,h=[],g=0,y="0",v=i&&[],x=null!=c,b=D,w=i||s&&k.find.TAG("*",c&&a.parentNode||a),T=B+=null==b?1:Math.random()||.1;for(x&&(D=a!==q&&a,N=r);null!=(f=w[y]);y++){if(s&&f){for(p=0;d=e[p++];)if(d(f,a,u)){l.push(f);break}x&&(B=T,N=++r)}o&&((f=!d&&f)&&g--,i&&v.push(f))}if(g+=y,o&&y!==g){for(p=0;d=t[p++];)d(v,h,a,u);if(i){if(g>0)for(;y--;)v[y]||h[y]||(h[y]=K.call(l));h=m(h)}ee.apply(l,h),x&&!i&&h.length>0&&g+t.length>1&&n.uniqueSort(l)}return x&&(B=T,D=b),v};return o?i(a):a}function b(e,t,r){for(var i=0,o=t.length;o>i;i++)n(e,t[i],r);return r}function w(e,t,n,r){var i,o,s,a,u,l=p(e);if(!r&&1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&C.getById&&9===t.nodeType&&O&&k.relative[o[1].type]){if(t=(k.find.ID(s.matches[0].replace(Ce,Ne),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(i=ye.needsContext.test(e)?0:o.length;i--&&(s=o[i],!k.relative[a=s.type]);)if((u=k.find[a])&&(r=u(s.matches[0].replace(Ce,Ne),de.test(o[0].type)&&t.parentNode||t))){if(o.splice(i,1),e=r.length&&d(o),!e)return ee.apply(n,r),n;break}}return j(e,l)(r,t,!O,n,de.test(e)),n}var T,C,N,k,E,S,j,D,A,L,q,H,O,F,P,R,M,W="sizzle"+-new Date,$=e.document,B=0,I=0,z=r(),_=r(),X=r(),U=!1,Y=function(e,t){return e===t?(U=!0,0):0},V=typeof t,G=1<<31,J={}.hasOwnProperty,Q=[],K=Q.pop,Z=Q.push,ee=Q.push,te=Q.slice,ne=Q.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},re="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",se="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=se.replace("w","w#"),ue="\\["+ie+"*("+se+")"+ie+"*(?:([*^$|!~]?=)"+ie+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ae+")|)|)"+ie+"*\\]",le=":("+se+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ue.replace(3,8)+")*)|.*)\\)|)",ce=RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),fe=RegExp("^"+ie+"*,"+ie+"*"),pe=RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),de=RegExp(ie+"*[+~]"),he=RegExp("="+ie+"*([^\\]'\"]*)"+ie+"*\\]","g"),ge=RegExp(le),me=RegExp("^"+ae+"$"),ye={ID:RegExp("^#("+se+")"),CLASS:RegExp("^\\.("+se+")"),TAG:RegExp("^("+se.replace("w","w*")+")"),ATTR:RegExp("^"+ue),PSEUDO:RegExp("^"+le),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:RegExp("^(?:"+re+")$","i"),needsContext:RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},ve=/^[^{]+\{\s*\[native \w/,xe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/^(?:input|select|textarea|button)$/i,we=/^h\d$/i,Te=/'|\\/g,Ce=RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),Ne=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{ee.apply(Q=te.call($.childNodes),$.childNodes),Q[$.childNodes.length].nodeType}catch(ke){ee={apply:Q.length?function(e,t){Z.apply(e,te.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}S=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},C=n.support={},L=n.setDocument=function(e){var n=e?e.ownerDocument||e:$,r=n.defaultView;return n!==q&&9===n.nodeType&&n.documentElement?(q=n,H=n.documentElement,O=!S(n),r&&r.attachEvent&&r!==r.top&&r.attachEvent("onbeforeunload",function(){L()}),C.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=o(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),C.getById=o(function(e){return H.appendChild(e).id=W,!n.getElementsByName||!n.getElementsByName(W).length}),C.getById?(k.find.ID=function(e,t){if(typeof t.getElementById!==V&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(Ce,Ne);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(Ce,Ne);return function(e){var n=typeof e.getAttributeNode!==V&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=C.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==V?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},k.find.CLASS=C.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==V&&O?n.getElementsByClassName(e):t},P=[],F=[],(C.qsa=ve.test(n.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||F.push("\\["+ie+"*(?:value|"+re+")"),e.querySelectorAll(":checked").length||F.push(":checked")}),o(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&F.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(C.matchesSelector=ve.test(R=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&o(function(e){C.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),P.push("!=",le)}),F=F.length&&RegExp(F.join("|")),P=P.length&&RegExp(P.join("|")),M=ve.test(H.contains)||H.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=H.compareDocumentPosition?function(e,t){if(e===t)return U=!0,0;var r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return r?1&r||!C.sortDetached&&t.compareDocumentPosition(e)===r?e===n||M($,e)?-1:t===n||M($,t)?1:A?ne.call(A,e)-ne.call(A,t):0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(e===t)return U=!0,0;if(!o||!s)return e===n?-1:t===n?1:o?-1:s?1:A?ne.call(A,e)-ne.call(A,t):0;if(o===s)return a(e,t);for(r=e;r=r.parentNode;)u.unshift(r);for(r=t;r=r.parentNode;)l.unshift(r);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===$?-1:l[i]===$?1:0},n):q},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==q&&L(e),t=t.replace(he,"='$1']"),!(!C.matchesSelector||!O||P&&P.test(t)||F&&F.test(t)))try{var r=R.call(e,t);if(r||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return n(t,q,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==q&&L(e),M(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==q&&L(e);var r=k.attrHandle[n.toLowerCase()],i=r&&J.call(k.attrHandle,n.toLowerCase())?r(e,n,!O):t;return i===t?C.attributes||!O?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null:i},n.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],r=0,i=0;if(U=!C.detectDuplicates,A=!C.sortStable&&e.slice(0),e.sort(Y),U){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},E=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=E(t);return n},k=n.selectors={cacheLength:50,createPseudo:i,match:ye,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ce,Ne),e[3]=(e[4]||e[5]||"").replace(Ce,Ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return ye.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&ge.test(r)&&(n=p(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ce,Ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==V&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(i){var o=n.attr(i,e);return null==o?"!="===t:!t||(o+="","="===t?o===r:"!="===t?o!==r:"^="===t?r&&0===o.indexOf(r):"*="===t?r&&o.indexOf(r)>-1:"$="===t?r&&o.slice(-r.length)===r:"~="===t?(" "+o+" ").indexOf(r)>-1:"|="===t&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,y=a&&t.nodeName.toLowerCase(),v=!u&&!a;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(a?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?m.firstChild:m.lastChild],s&&v){for(c=m[W]||(m[W]={}),l=c[e]||[],d=l[0]===B&&l[1],p=l[0]===B&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(p=d=0)||h.pop();)if(1===f.nodeType&&++p&&f===t){c[e]=[B,d,p];break}}else if(v&&(l=(t[W]||(t[W]={}))[e])&&l[0]===B)p=l[1];else for(;(f=++d&&f&&f[g]||(p=d=0)||h.pop())&&((a?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++p||(v&&((f[W]||(f[W]={}))[e]=[B,p]),f!==t)););return p-=i,p===r||0===p%r&&p/r>=0}}},PSEUDO:function(e,t){var r,o=k.pseudos[e]||k.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return o[W]?o(t):o.length>1?(r=[e,e,"",t],k.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,n){for(var r,i=o(e,t),s=i.length;s--;)r=ne.call(e,i[s]),e[r]=!(n[r]=i[s])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=j(e.replace(ce,"$1"));return r[W]?i(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(e){return function(t){return n(e,t).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:i(function(e){return me.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(Ce,Ne).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return we.test(e.nodeName)},input:function(e){return be.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=0>n?n+t:n;t>++r;)e.push(r);return e})}},k.pseudos.nth=k.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[T]=u(T);for(T in{submit:!0,reset:!0})k.pseudos[T]=l(T);
f.prototype=k.filters=k.pseudos,k.setFilters=new f,j=n.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=p(e)),n=t.length;n--;)o=v(t[n]),o[W]?r.push(o):i.push(o);o=X(e,x(i,r))}return o},C.sortStable=W.split("").sort(Y).join("")===W,C.detectDuplicates=U,L(),C.sortDetached=o(function(e){return 1&e.compareDocumentPosition(q.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),C.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||s(re,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.specified?i.value:e[n]===!0?n.toLowerCase():null}),oe.find=n,oe.expr=n.selectors,oe.expr[":"]=oe.expr.pseudos,oe.unique=n.uniqueSort,oe.text=n.getText,oe.isXMLDoc=n.isXML,oe.contains=n.contains}(e);var he={};oe.Callbacks=function(e){e="string"==typeof e?he[e]||r(e):oe.extend({},e);var n,i,o,s,a,u,l=[],c=!e.once&&[],f=function(t){for(n=e.memory&&t,i=!0,u=s||0,s=0,a=l.length,o=!0;l&&a>u;u++)if(l[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}o=!1,l&&(c?c.length&&f(c.shift()):n?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;!function r(t){oe.each(t,function(t,n){var i=oe.type(n);"function"===i?e.unique&&p.has(n)||l.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),o?a=l.length:n&&(s=t,f(n))}return this},remove:function(){return l&&oe.each(arguments,function(e,t){for(var n;(n=oe.inArray(t,l,n))>-1;)l.splice(n,1),o&&(a>=n&&a--,u>=n&&u--)}),this},has:function(e){return e?oe.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=n=t,this},disabled:function(){return!l},lock:function(){return c=t,n||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||i&&!c||(t=t||[],t=[e,t.slice?t.slice():t],o?c.push(t):f(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(n){oe.each(t,function(t,o){var s=o[0],a=oe.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,r):r}},i={};return r.pipe=r.then,oe.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=ee.call(arguments),s=o.length,a=1!==s||e&&oe.isFunction(e.promise)?s:0,u=1===a?e:oe.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?ee.call(arguments):i,r===t?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(t=Array(s),n=Array(s),r=Array(s);s>i;i++)o[i]&&oe.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--a;return a||u.resolveWith(r,o),u.promise()}}),oe.support=function(t){var n=X.createElement("input"),r=X.createDocumentFragment(),i=X.createElement("div"),o=X.createElement("select"),s=o.appendChild(X.createElement("option"));return n.type?(n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=s.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!s.disabled,n=X.createElement("input"),n.value="t",n.type="radio",t.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),r.appendChild(n),t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===i.style.backgroundClip,oe(function(){var n,r,o="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",s=X.getElementsByTagName("body")[0];s&&(n=X.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(i),i.innerHTML="",i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",oe.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===i.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,r=i.appendChild(X.createElement("div")),r.style.cssText=i.style.cssText=o,r.style.marginRight=r.style.width="0",i.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),s.removeChild(n))}),t):t}({});var ge,me,ye=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ve=/([A-Z])/g;i.uid=1,i.accepts=function(e){return!e.nodeType||(1===e.nodeType||9===e.nodeType)},i.prototype={key:function(e){if(!i.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=i.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,oe.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(oe.isEmptyObject(o))oe.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,n){var r=this.cache[this.key(e)];return n===t?r:r[n]},access:function(e,n,r){var i;return n===t||n&&"string"==typeof n&&r===t?(i=this.get(e,n),i!==t?i:this.get(e,oe.camelCase(n))):(this.set(e,n,r),r!==t?r:n)},remove:function(e,n){var r,i,o,s=this.key(e),a=this.cache[s];if(n===t)this.cache[s]={};else{oe.isArray(n)?i=n.concat(n.map(oe.camelCase)):(o=oe.camelCase(n),n in a?i=[n,o]:(i=o,i=i in a?[i]:i.match(ae)||[])),r=i.length;for(;r--;)delete a[i[r]]}},hasData:function(e){return!oe.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},ge=new i,me=new i,oe.extend({acceptData:i.accepts,hasData:function(e){return ge.hasData(e)||me.hasData(e)},data:function(e,t,n){return ge.access(e,t,n)},removeData:function(e,t){ge.remove(e,t)},_data:function(e,t,n){return me.access(e,t,n)},_removeData:function(e,t){me.remove(e,t)}}),oe.fn.extend({data:function(e,n){var r,i,s=this[0],a=0,u=null;if(e===t){if(this.length&&(u=ge.get(s),1===s.nodeType&&!me.get(s,"hasDataAttrs"))){for(r=s.attributes;r.length>a;a++)i=r[a].name,0===i.indexOf("data-")&&(i=oe.camelCase(i.slice(5)),o(s,i,u[i]));me.set(s,"hasDataAttrs",!0)}return u}return"object"==typeof e?this.each(function(){ge.set(this,e)}):oe.access(this,function(n){var r,i=oe.camelCase(e);if(s&&n===t){if(r=ge.get(s,e),r!==t)return r;if(r=ge.get(s,i),r!==t)return r;if(r=o(s,i,t),r!==t)return r}else this.each(function(){var r=ge.get(this,i);ge.set(this,i,n),-1!==e.indexOf("-")&&r!==t&&ge.set(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ge.remove(this,e)})}}),oe.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=me.get(e,n),r&&(!i||oe.isArray(r)?i=me.access(e,n,oe.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=oe.queue(e,t),r=n.length,i=n.shift(),o=oe._queueHooks(e,t),s=function(){oe.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return me.get(e,n)||me.access(e,n,{empty:oe.Callbacks("once memory").add(function(){me.remove(e,[t+"queue",n])})})}}),oe.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?oe.queue(this[0],e):n===t?this:this.each(function(){var t=oe.queue(this,e,n);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},delay:function(e,t){return e=oe.fx?oe.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=oe.Deferred(),s=this,a=this.length,u=function(){--i||o.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";a--;)r=me.get(s[a],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u));return u(),o.promise(n)}});var xe,be,we=/[\t\r\n\f]/g,Te=/\r/g,Ce=/^(?:input|select|textarea|button)$/i;oe.fn.extend({attr:function(e,t){return oe.access(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})},prop:function(e,t){return oe.access(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[oe.propFix[e]||e]})},addClass:function(e){var t,n,r,i,o,s=0,a=this.length,u="string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(ae)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(we," "):" ")){for(o=0;i=t[o++];)0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=oe.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,s=0,a=this.length,u=0===arguments.length||"string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(ae)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(we," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?oe.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):oe.isFunction(e)?this.each(function(n){oe(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=oe(this),o=e.match(ae)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===z||"boolean"===n)&&(this.className&&me.set(this,"__className__",this.className),this.className=this.className||e===!1?"":me.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(we," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];return arguments.length?(i=oe.isFunction(e),this.each(function(r){var o;1===this.nodeType&&(o=i?e.call(this,r,oe(this).val()):e,null==o?o="":"number"==typeof o?o+="":oe.isArray(o)&&(o=oe.map(o,function(e){return null==e?"":e+""})),n=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))})):o?(n=oe.valHooks[o.type]||oe.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,"string"==typeof r?r.replace(Te,""):null==r?"":r)):void 0}}),oe.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;a>u;u++)if(n=r[u],!(!n.selected&&u!==i||(oe.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&oe.nodeName(n.parentNode,"optgroup"))){if(t=oe(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=oe.makeArray(t),s=i.length;s--;)r=i[s],(r.selected=oe.inArray(oe(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===z?oe.prop(e,n,r):(1===s&&oe.isXMLDoc(e)||(n=n.toLowerCase(),i=oe.attrHooks[n]||(oe.expr.match.bool.test(n)?be:xe)),r===t?i&&"get"in i&&null!==(o=i.get(e,n))?o:(o=oe.find.attr(e,n),null==o?t:o):null!==r?i&&"set"in i&&(o=i.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r):(oe.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(ae);if(o&&1===e.nodeType)for(;n=o[i++];)r=oe.propFix[n]||n,oe.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!oe.support.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,o,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!oe.isXMLDoc(e),s&&(n=oe.propFix[n]||n,o=oe.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Ce.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),be={set:function(e,t,n){return t===!1?oe.removeAttr(e,n):e.setAttribute(n,n),n}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,n){var r=oe.expr.attrHandle[n]||oe.find.attr;oe.expr.attrHandle[n]=function(e,n,i){var o=oe.expr.attrHandle[n],s=i?t:(oe.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return oe.expr.attrHandle[n]=o,s}}),oe.support.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,n){return oe.isArray(n)?e.checked=oe.inArray(oe(e).val(),n)>=0:t}},oe.support.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ne=/^key/,ke=/^(?:mouse|contextmenu)|click/,Ee=/^(?:focusinfocus|focusoutblur)$/,Se=/^([^.]*)(?:\.(.+)|)$/;oe.event={global:{},add:function(e,n,r,i,o){var s,a,u,l,c,f,p,d,h,g,m,y=me.get(e);if(y){for(r.handler&&(s=r,r=s.handler,o=s.selector),r.guid||(r.guid=oe.guid++),(l=y.events)||(l=y.events={}),(a=y.handle)||(a=y.handle=function(e){return typeof oe===z||e&&oe.event.triggered===e.type?t:oe.event.dispatch.apply(a.elem,arguments)},a.elem=e),n=(n||"").match(ae)||[""],c=n.length;c--;)u=Se.exec(n[c])||[],h=m=u[1],g=(u[2]||"").split(".").sort(),h&&(p=oe.event.special[h]||{},h=(o?p.delegateType:p.bindType)||h,p=oe.event.special[h]||{},f=oe.extend({type:h,origType:m,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&oe.expr.match.needsContext.test(o),namespace:g.join(".")},s),(d=l[h])||(d=l[h]=[],d.delegateCount=0,p.setup&&p.setup.call(e,i,g,a)!==!1||e.addEventListener&&e.addEventListener(h,a,!1)),p.add&&(p.add.call(e,f),f.handler.guid||(f.handler.guid=r.guid)),o?d.splice(d.delegateCount++,0,f):d.push(f),oe.event.global[h]=!0);e=null}},remove:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=me.hasData(e)&&me.get(e);if(m&&(u=m.events)){for(t=(t||"").match(ae)||[""],l=t.length;l--;)if(a=Se.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d){for(f=oe.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],a=a[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));s&&!p.length&&(f.teardown&&f.teardown.call(e,h,m.handle)!==!1||oe.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)oe.event.remove(e,d+t[l],n,r,!0);oe.isEmptyObject(u)&&(delete m.handle,me.remove(e,"events"))}},trigger:function(n,r,i,o){var s,a,u,l,c,f,p,d=[i||X],h=re.call(n,"type")?n.type:n,g=re.call(n,"namespace")?n.namespace.split("."):[];if(a=u=i=i||X,3!==i.nodeType&&8!==i.nodeType&&!Ee.test(h+oe.event.triggered)&&(h.indexOf(".")>=0&&(g=h.split("."),h=g.shift(),g.sort()),c=0>h.indexOf(":")&&"on"+h,n=n[oe.expando]?n:new oe.Event(h,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:oe.makeArray(r,[n]),p=oe.event.special[h]||{},o||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!o&&!p.noBubble&&!oe.isWindow(i)){for(l=p.delegateType||h,Ee.test(l+h)||(a=a.parentNode);a;a=a.parentNode)d.push(a),u=a;u===(i.ownerDocument||X)&&d.push(u.defaultView||u.parentWindow||e)}for(s=0;(a=d[s++])&&!n.isPropagationStopped();)n.type=s>1?l:p.bindType||h,f=(me.get(a,"events")||{})[n.type]&&me.get(a,"handle"),f&&f.apply(a,r),f=c&&a[c],f&&oe.acceptData(a)&&f.apply&&f.apply(a,r)===!1&&n.preventDefault();return n.type=h,o||n.isDefaultPrevented()||p._default&&p._default.apply(d.pop(),r)!==!1||!oe.acceptData(i)||c&&oe.isFunction(i[h])&&!oe.isWindow(i)&&(u=i[c],u&&(i[c]=null),oe.event.triggered=h,i[h](),oe.event.triggered=t,u&&(i[c]=u)),n.result}},dispatch:function(e){e=oe.event.fix(e);var n,r,i,o,s,a=[],u=ee.call(arguments),l=(me.get(this,"events")||{})[e.type]||[],c=oe.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=oe.event.handlers.call(this,e,l),n=0;(o=a[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(s=o.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,i=((oe.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,u),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,s,a=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(i=[],r=0;u>r;r++)s=n[r],o=s.selector+" ",i[o]===t&&(i[o]=s.needsContext?oe(o,this).index(l)>=0:oe.find(o,this,null,[l]).length),i[o]&&i.push(s);i.length&&a.push({elem:l,handlers:i})}return n.length>u&&a.push({elem:this,handlers:n.slice(u)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,s=n.button;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||X,i=r.documentElement,o=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[oe.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=ke.test(i)?this.mouseHooks:Ne.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new oe.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=X),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==u()&&this.focus?(this.focus(),!1):t},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&oe.nodeName(this,"input")?(this.click(),!1):t},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=oe.extend(new oe.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?oe.event.trigger(i,null,t):oe.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},oe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},oe.Event=function(e,n){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?s:a):this.type=e,n&&oe.extend(this,n),this.timeStamp=e&&e.timeStamp||oe.now(),this[oe.expando]=!0,t):new oe.Event(e,n)},oe.Event.prototype={isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=s,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=s,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!oe.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),oe.support.focusinBubbles||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){oe.event.simulate(t,e.target,oe.event.fix(e),!0)};oe.event.special[t]={setup:function(){0===n++&&X.addEventListener(e,r,!0)},teardown:function(){0===--n&&X.removeEventListener(e,r,!0)}}}),oe.fn.extend({on:function(e,n,r,i,o){var s,u;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=a;else if(!i)return this;return 1===o&&(s=i,i=function(e){return oe().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=oe.guid++)),this.each(function(){oe.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,oe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=a),this.each(function(){oe.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?oe.event.trigger(e,n,r,!0):t}});var je=/^.[^:#\[\.,]*$/,De=/^(?:parents|prev(?:Until|All))/,Ae=oe.expr.match.needsContext,Le={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;i>t;t++)if(oe.contains(r[t],this))return!0}));for(t=0;i>t;t++)oe.find(e,r[t],n);return n=this.pushStack(i>1?oe.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t=oe(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(oe.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(c(this,e||[],!0))},filter:function(e){return this.pushStack(c(this,e||[],!1))},is:function(e){return!!c(this,"string"==typeof e&&Ae.test(e)?oe(e):e||[],!1).length},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=Ae.test(e)||"string"!=typeof e?oe(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(s?s.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?oe.unique(o):o)},index:function(e){return e?"string"==typeof e?te.call(oe(e),this[0]):te.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?oe(e,t):oe.makeArray(e&&e.nodeType?[e]:e),r=oe.merge(this.get(),n);return this.pushStack(oe.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return oe.dir(e,"parentNode")},parentsUntil:function(e,t,n){return oe.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return oe.dir(e,"nextSibling")},prevAll:function(e){return oe.dir(e,"previousSibling")},nextUntil:function(e,t,n){return oe.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return oe.dir(e,"previousSibling",n)},siblings:function(e){return oe.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return oe.sibling(e.firstChild)},contents:function(e){return e.contentDocument||oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(n,r){var i=oe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=oe.filter(r,i)),this.length>1&&(Le[e]||oe.unique(i),De.test(e)&&i.reverse()),this.pushStack(i)}}),oe.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?oe.find.matchesSelector(r,e)?[r]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){for(var i=[],o=r!==t;(e=e[n])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&oe(e).is(r))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var qe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,He=/<([\w:]+)/,Oe=/<|&#?\w+;/,Fe=/<(?:script|style|link)/i,Pe=/^(?:checkbox|radio)$/i,Re=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^$|\/(?:java|ecma)script/i,We=/^true\/(.*)/,$e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Be={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Be.optgroup=Be.option,Be.tbody=Be.tfoot=Be.colgroup=Be.caption=Be.thead,Be.th=Be.td,oe.fn.extend({text:function(e){return oe.access(this,function(e){return e===t?oe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?oe.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||oe.cleanData(m(n)),n.parentNode&&(t&&oe.contains(n.ownerDocument,n)&&h(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(oe.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return oe.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t&&1===n.nodeType)return n.innerHTML;if("string"==typeof e&&!Fe.test(e)&&!Be[(He.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(qe,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(oe.cleanData(m(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=oe.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),oe(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=K.apply([],e);var r,i,o,s,a,u,l=0,c=this.length,f=this,h=c-1,g=e[0],y=oe.isFunction(g);if(y||!(1>=c||"string"!=typeof g||oe.support.checkClone)&&Re.test(g))return this.each(function(r){var i=f.eq(r);y&&(e[0]=g.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(r=oe.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=r.firstChild,1===r.childNodes.length&&(r=i),i)){for(o=oe.map(m(r,"script"),p),s=o.length;c>l;l++)a=r,l!==h&&(a=oe.clone(a,!0,!0),s&&oe.merge(o,m(a,"script"))),t.call(this[l],a,l);if(s)for(u=o[o.length-1].ownerDocument,oe.map(o,d),l=0;s>l;l++)a=o[l],Me.test(a.type||"")&&!me.access(a,"globalEval")&&oe.contains(u,a)&&(a.src?oe._evalUrl(a.src):oe.globalEval(a.textContent.replace($e,"")))}return this}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var n,r=[],i=oe(e),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),oe(i[s])[t](n),Z.apply(r,n.get());return this.pushStack(r)}}),oe.extend({clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=oe.contains(e.ownerDocument,e);if(!(oe.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(s=m(a),o=m(e),r=0,i=o.length;i>r;r++)y(o[r],s[r]);if(t)if(n)for(o=o||m(e),s=s||m(a),r=0,i=o.length;i>r;r++)g(o[r],s[r]);else g(e,a);return s=m(a,"script"),s.length>0&&h(s,!u&&m(e,"script")),a},buildFragment:function(e,t,n,r){for(var i,o,s,a,u,l,c=0,f=e.length,p=t.createDocumentFragment(),d=[];f>c;c++)if(i=e[c],i||0===i)if("object"===oe.type(i))oe.merge(d,i.nodeType?[i]:i);else if(Oe.test(i)){for(o=o||p.appendChild(t.createElement("div")),s=(He.exec(i)||["",""])[1].toLowerCase(),a=Be[s]||Be._default,o.innerHTML=a[1]+i.replace(qe,"<$1></$2>")+a[2],l=a[0];l--;)o=o.lastChild;oe.merge(d,o.childNodes),o=p.firstChild,o.textContent=""}else d.push(t.createTextNode(i));for(p.textContent="",c=0;i=d[c++];)if((!r||-1===oe.inArray(i,r))&&(u=oe.contains(i.ownerDocument,i),o=m(p.appendChild(i),"script"),u&&h(o),n))for(l=0;i=o[l++];)Me.test(i.type||"")&&n.push(i);return p},cleanData:function(e){for(var n,r,o,s,a,u,l=oe.event.special,c=0;(r=e[c])!==t;c++){if(i.accepts(r)&&(a=r[me.expando],a&&(n=me.cache[a]))){if(o=Object.keys(n.events||{}),o.length)for(u=0;(s=o[u])!==t;u++)l[s]?oe.event.remove(r,s):oe.removeEvent(r,s,n.handle);me.cache[a]&&delete me.cache[a]}delete ge.cache[r[ge.expando]]}},_evalUrl:function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),oe.fn.extend({wrapAll:function(e){var t;return oe.isFunction(e)?this.each(function(t){oe(this).wrapAll(e.call(this,t))}):(this[0]&&(t=oe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return oe.isFunction(e)?this.each(function(t){oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=oe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(n){oe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}});var Ie,ze,_e=/^(none|table(?!-c[ea]).+)/,Xe=/^margin/,Ue=RegExp("^("+se+")(.*)$","i"),Ye=RegExp("^("+se+")(?!px)[a-z%]+$","i"),Ve=RegExp("^([+-])=("+se+")","i"),Ge={BODY:"block"},Je={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:0,fontWeight:400},Ke=["Top","Right","Bottom","Left"],Ze=["Webkit","O","Moz","ms"];oe.fn.extend({css:function(e,n){return oe.access(this,function(e,n,r){var i,o,s={},a=0;if(oe.isArray(n)){for(i=b(e),o=n.length;o>a;a++)s[n[a]]=oe.css(e,n[a],!1,i);return s}return r!==t?oe.style(e,n,r):oe.css(e,n);
},e,n,arguments.length>1)},show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){x(this)?oe(this).show():oe(this).hide()})}}),oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ie(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,a,u=oe.camelCase(n),l=e.style;return n=oe.cssProps[u]||(oe.cssProps[u]=v(l,u)),a=oe.cssHooks[n]||oe.cssHooks[u],r===t?a&&"get"in a&&(o=a.get(e,!1,i))!==t?o:l[n]:(s=typeof r,"string"===s&&(o=Ve.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(oe.css(e,n)),s="number"),null==r||"number"===s&&isNaN(r)||("number"!==s||oe.cssNumber[u]||(r+="px"),oe.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(l[n]="inherit"),a&&"set"in a&&(r=a.set(e,r,i))===t||(l[n]=r)),t)}},css:function(e,n,r,i){var o,s,a,u=oe.camelCase(n);return n=oe.cssProps[u]||(oe.cssProps[u]=v(e.style,u)),a=oe.cssHooks[n]||oe.cssHooks[u],a&&"get"in a&&(o=a.get(e,!0,r)),o===t&&(o=Ie(e,n,i)),"normal"===o&&n in Qe&&(o=Qe[n]),""===r||r?(s=parseFloat(o),r===!0||oe.isNumeric(s)?s||0:o):o}}),Ie=function(e,n,r){var i,o,s,a=r||b(e),u=a?a.getPropertyValue(n)||a[n]:t,l=e.style;return a&&(""!==u||oe.contains(e.ownerDocument,e)||(u=oe.style(e,n)),Ye.test(u)&&Xe.test(n)&&(i=l.width,o=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=u,u=a.width,l.width=i,l.minWidth=o,l.maxWidth=s)),u},oe.each(["height","width"],function(e,n){oe.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&_e.test(oe.css(e,"display"))?oe.swap(e,Je,function(){return N(e,n,i)}):N(e,n,i):t},set:function(e,t,r){var i=r&&b(e);return T(e,t,r?C(e,n,r,oe.support.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,i),i):0)}}}),oe(function(){oe.support.reliableMarginRight||(oe.cssHooks.marginRight={get:function(e,n){return n?oe.swap(e,{display:"inline-block"},Ie,[e,"marginRight"]):t}}),!oe.support.pixelPosition&&oe.fn.position&&oe.each(["top","left"],function(e,n){oe.cssHooks[n]={get:function(e,r){return r?(r=Ie(e,n),Ye.test(r)?oe(e).position()[n]+"px":r):t}}})}),oe.expr&&oe.expr.filters&&(oe.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight},oe.expr.filters.visible=function(e){return!oe.expr.filters.hidden(e)}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Ke[r]+t]=o[r]||o[r-2]||o[0];return i}},Xe.test(e)||(oe.cssHooks[e+t].set=T)});var et=/%20/g,tt=/\[\]$/,nt=/\r?\n/g,rt=/^(?:submit|button|image|reset|file)$/i,it=/^(?:input|select|textarea|keygen)/i;oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&it.test(this.nodeName)&&!rt.test(e)&&(this.checked||!Pe.test(e))}).map(function(e,t){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(e){return{name:t.name,value:e.replace(nt,"\r\n")}}):{name:t.name,value:n.replace(nt,"\r\n")}}).get()}}),oe.param=function(e,n){var r,i=[],o=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){o(this.name,this.value)});else for(r in e)S(r,e[r],n,o);return i.join("&").replace(et,"+")},oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ot,st,at=oe.now(),ut=/\?/,lt=/#.*$/,ct=/([?&])_=[^&]*/,ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,dt=/^(?:GET|HEAD)$/,ht=/^\/\//,gt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,mt=oe.fn.load,yt={},vt={},xt="*/".concat("*");try{st=_.href}catch(bt){st=X.createElement("a"),st.href="",st=st.href}ot=gt.exec(st.toLowerCase())||[],oe.fn.load=function(e,n,r){if("string"!=typeof e&&mt)return mt.apply(this,arguments);var i,o,s,a=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u),e=e.slice(0,u)),oe.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),a.length>0&&oe.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments,a.html(i?oe("<div>").append(oe.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){a.each(r,s||[e.responseText,t,e])}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:st,type:"GET",isLocal:pt.test(ot[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?A(A(e,oe.ajaxSettings),t):A(oe.ajaxSettings,e)},ajaxPrefilter:j(yt),ajaxTransport:j(vt),ajax:function(e,n){function r(e,n,r,a){var l,f,v,x,w,C=n;2!==b&&(b=2,u&&clearTimeout(u),i=t,s=a||"",T.readyState=e>0?4:0,l=e>=200&&300>e||304===e,r&&(x=L(p,T,r)),x=q(p,x,T,l),l?(p.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(oe.lastModified[o]=w),w=T.getResponseHeader("etag"),w&&(oe.etag[o]=w)),204===e||"HEAD"===p.type?C="nocontent":304===e?C="notmodified":(C=x.state,f=x.data,v=x.error,l=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),T.status=e,T.statusText=(n||C)+"",l?g.resolveWith(d,[f,C,T]):g.rejectWith(d,[T,C,v]),T.statusCode(y),y=t,c&&h.trigger(l?"ajaxSuccess":"ajaxError",[T,p,l?f:v]),m.fireWith(d,[T,C]),c&&(h.trigger("ajaxComplete",[T,p]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,s,a,u,l,c,f,p=oe.ajaxSetup({},n),d=p.context||p,h=p.context&&(d.nodeType||d.jquery)?oe(d):oe.event,g=oe.Deferred(),m=oe.Callbacks("once memory"),y=p.statusCode||{},v={},x={},b=0,w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=ft.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=x[n]=x[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)y[t]=[y[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),r(0,t),this}};if(g.promise(T).complete=m.add,T.success=T.done,T.error=T.fail,p.url=((e||p.url||st)+"").replace(lt,"").replace(ht,ot[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=oe.trim(p.dataType||"*").toLowerCase().match(ae)||[""],null==p.crossDomain&&(l=gt.exec(p.url.toLowerCase()),p.crossDomain=!(!l||l[1]===ot[1]&&l[2]===ot[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(ot[3]||("http:"===ot[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=oe.param(p.data,p.traditional)),D(yt,p,n,T),2===b)return T;c=p.global,c&&0===oe.active++&&oe.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!dt.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(ut.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=ct.test(o)?o.replace(ct,"$1_="+at++):o+(ut.test(o)?"&":"?")+"_="+at++)),p.ifModified&&(oe.lastModified[o]&&T.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&T.setRequestHeader("If-None-Match",oe.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+xt+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)T.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(d,T,p)===!1||2===b))return T.abort();w="abort";for(f in{success:1,error:1,complete:1})T[f](p[f]);if(i=D(vt,p,n,T)){T.readyState=1,c&&h.trigger("ajaxSend",[T,p]),p.async&&p.timeout>0&&(u=setTimeout(function(){T.abort("timeout")},p.timeout));try{b=1,i.send(v,r)}catch(C){if(!(2>b))throw C;r(-1,C)}}else r(-1,"No Transport");return T},getJSON:function(e,t,n){return oe.get(e,t,n,"json")},getScript:function(e,n){return oe.get(e,t,n,"script")}}),oe.each(["get","post"],function(e,n){oe[n]=function(e,r,i,o){return oe.isFunction(r)&&(o=o||i,i=r,r=t),oe.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=oe("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),X.head.appendChild(t[0])},abort:function(){n&&n()}}}});var wt=[],Tt=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=wt.pop()||oe.expando+"_"+at++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(n,r,i){var o,s,a,u=n.jsonp!==!1&&(Tt.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Tt.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=oe.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Tt,"$1"+o):n.jsonp!==!1&&(n.url+=(ut.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||oe.error(o+" was not called"),a[0]},n.dataTypes[0]="json",s=e[o],e[o]=function(){a=arguments},i.always(function(){e[o]=s,n[o]&&(n.jsonpCallback=r.jsonpCallback,wt.push(o)),a&&oe.isFunction(s)&&s(a[0]),a=s=t}),"script"):t}),oe.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Ct=oe.ajaxSettings.xhr(),Nt={0:200,1223:204},kt=0,Et={};e.ActiveXObject&&oe(e).on("unload",function(){for(var e in Et)Et[e]();Et=t}),oe.support.cors=!!Ct&&"withCredentials"in Ct,oe.support.ajax=Ct=!!Ct,oe.ajaxTransport(function(e){var n;return oe.support.cors||Ct&&!e.crossDomain?{send:function(r,i){var o,s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)a.setRequestHeader(o,r[o]);n=function(e){return function(){n&&(delete Et[s],n=a.onload=a.onerror=null,"abort"===e?a.abort():"error"===e?i(a.status||404,a.statusText):i(Nt[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:t,a.getAllResponseHeaders()))}},a.onload=n(),a.onerror=n("error"),n=Et[s=kt++]=n("abort"),a.send(e.hasContent&&e.data||null)},abort:function(){n&&n()}}:t});var St,jt,Dt=/^(?:toggle|show|hide)$/,At=RegExp("^(?:([+-])=|)("+se+")([a-z%]*)$","i"),Lt=/queueHooks$/,qt=[R],Ht={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=At.exec(t),o=i&&i[3]||(oe.cssNumber[e]?"":"px"),s=(oe.cssNumber[e]||"px"!==o&&+r)&&At.exec(oe.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,oe.style(n.elem,e,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};oe.Animation=oe.extend(F,{tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],Ht[n]=Ht[n]||[],Ht[n].unshift(t)},prefilter:function(e,t){t?qt.unshift(e):qt.push(e)}}),oe.Tween=M,M.prototype={constructor:M,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,n=M.propHooks[this.prop];return this.pos=t=this.options.duration?oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[oe.cssProps[e.prop]]||oe.cssHooks[e.prop])?oe.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.each(["toggle","show","hide"],function(e,t){var n=oe.fn[t];oe.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(W(t,!0),e,r,i)}}),oe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(x).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=oe.isEmptyObject(e),o=oe.speed(t,n,r),s=function(){var t=F(this,oe.extend({},e),o);(i||me.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=oe.timers,s=me.get(this);if(n)s[n]&&s[n].stop&&i(s[n]);else for(n in s)s[n]&&s[n].stop&&Lt.test(n)&&i(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&oe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=me.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=oe.timers,s=r?r.length:0;for(n.finish=!0,oe.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),oe.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),oe.speed=function(e,t,n){var r=e&&"object"==typeof e?oe.extend({},e):{complete:n||!n&&t||oe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!oe.isFunction(t)&&t};return r.duration=oe.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in oe.fx.speeds?oe.fx.speeds[r.duration]:oe.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){oe.isFunction(r.old)&&r.old.call(this),r.queue&&oe.dequeue(this,r.queue)},r},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},oe.timers=[],oe.fx=M.prototype.init,oe.fx.tick=function(){var e,n=oe.timers,r=0;for(St=oe.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||oe.fx.stop(),St=t},oe.fx.timer=function(e){e()&&oe.timers.push(e)&&oe.fx.start()},oe.fx.interval=13,oe.fx.start=function(){jt||(jt=setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){clearInterval(jt),jt=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fx.step={},oe.expr&&oe.expr.filters&&(oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length}),oe.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var n,r,i=this[0],o={top:0,left:0},s=i&&i.ownerDocument;return s?(n=s.documentElement,oe.contains(n,i)?(typeof i.getBoundingClientRect!==z&&(o=i.getBoundingClientRect()),r=$(s),{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}):o):void 0},oe.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=oe.css(e,"position"),f=oe(e),p={};"static"===c&&(e.style.position="relative"),a=f.offset(),o=oe.css(e,"top"),u=oe.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),oe.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+i),"using"in t?t.using.call(e,p):f.css(p)}},oe.fn.extend({position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===oe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(r=e.offset()),r.top+=oe.css(e[0],"borderTopWidth",!0),r.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-oe.css(n,"marginTop",!0),left:t.left-r.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||U;e&&!oe.nodeName(e,"html")&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||U})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var i="pageYOffset"===r;oe.fn[n]=function(o){return oe.access(this,function(n,o,s){var a=$(n);return s===t?a?a[r]:n[o]:(a?a.scrollTo(i?e.pageXOffset:s,i?s:e.pageYOffset):n[o]=s,t)},n,o,arguments.length,null)}}),oe.each({Height:"height",Width:"width"},function(e,n){oe.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){oe.fn[i]=function(i,o){var s=arguments.length&&(r||"boolean"!=typeof i),a=r||(i===!0||o===!0?"margin":"border");return oe.access(this,function(n,r,i){var o;return oe.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?oe.css(n,r,a):oe.style(n,r,i,a)},n,s?i:t,s,null)}})}),oe.fn.size=function(){return this.length},oe.fn.andSelf=oe.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=oe:"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=oe)}(window);
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});var s=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(s,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.alert");s||i.data("bs.alert",s=new o(this)),"string"==typeof e&&s[e].call(i)})}var i='[data-dismiss="alert"]',o=function(e){t(e).on("click",i,this.close)};o.VERSION="3.2.0",o.prototype.close=function(e){function i(){n.detach().trigger("closed.bs.alert").remove()}var o=t(this),s=o.attr("data-target");s||(s=o.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var n=t(s);e&&e.preventDefault(),n.length||(n=o.hasClass("alert")?o:o.parent()),n.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(n.removeClass("in"),t.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",i).emulateTransitionEnd(150):i())};var s=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=s,this},t(document).on("click.bs.alert.data-api",i,o.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.button"),n="object"==typeof e&&e;s||o.data("bs.button",s=new i(this,n)),"toggle"==e?s.toggle():e&&s.setState(e)})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.isLoading=!1};i.VERSION="3.2.0",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",o=this.$element,s=o.is("input")?"val":"html",n=o.data();e+="Text",null==n.resetText&&o.data("resetText",o[s]()),o[s](null==n[e]?this.options[e]:n[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,o.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,o.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var o=t(i.target);o.hasClass("btn")||(o=o.closest(".btn")),e.call(o,"toggle"),i.preventDefault()})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.carousel"),n=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e),r="string"==typeof e?e:n.slide;s||o.data("bs.carousel",s=new i(this,n)),"number"==typeof e?s.to(e):r?s[r]():n.interval&&s.pause().cycle()})}var i=function(e,i){this.$element=t(e).on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.2.0",i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},i.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.to=function(e){var i=this,o=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(e)}):o==e?this.pause().cycle():this.slide(e>o?"next":"prev",t(this.$items[e]))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),s=i||o[e](),n=this.interval,r="next"==e?"left":"right",a="next"==e?"first":"last",l=this;if(!s.length){if(!this.options.wrap)return;s=this.$element.find(".item")[a]()}if(s.hasClass("active"))return this.sliding=!1;var h=s[0],p=t.Event("slide.bs.carousel",{relatedTarget:h,direction:r});if(this.$element.trigger(p),!p.isDefaultPrevented()){if(this.sliding=!0,n&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=t(this.$indicators.children()[this.getItemIndex(s)]);c&&c.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:h,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,o.addClass(r),s.addClass(r),o.one("bsTransitionEnd",function(){s.removeClass([e,r].join(" ")).addClass("active"),o.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(1e3*o.css("transition-duration").slice(0,-1))):(o.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(d)),n&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(i){var o,s=t(this),n=t(s.attr("data-target")||(o=s.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(n.hasClass("carousel")){var r=t.extend({},n.data(),s.data()),a=s.attr("data-slide-to");a&&(r.interval=!1),e.call(n,r),a&&n.data("bs.carousel").to(a),i.preventDefault()}}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.collapse"),n=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);!s&&n.toggle&&"show"==e&&(e=!e),s||o.data("bs.collapse",s=new i(this,n)),"string"==typeof e&&s[e]()})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};i.VERSION="3.2.0",i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var i=t.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){var o=this.$parent&&this.$parent.find("> .panel > .in");if(o&&o.length){var s=o.data("bs.collapse");if(s&&s.transitioning)return;e.call(o,"hide"),s||o.data("bs.collapse",null)}var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[n](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var a=t.camelCase(["scroll",n].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(350)[n](this.$element[0][a])}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(350):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var o=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o,s=t(this),n=s.attr("data-target")||i.preventDefault()||(o=s.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""),r=t(n),a=r.data("bs.collapse"),l=a?"toggle":s.data(),h=s.attr("data-parent"),p=h&&t(h);a&&a.transitioning||(p&&p.find('[data-toggle="collapse"][data-parent="'+h+'"]').not(s).addClass("collapsed"),s[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(r,l)})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(s).remove(),t(n).each(function(){var o=i(t(this)),s={relatedTarget:this};o.hasClass("open")&&(o.trigger(e=t.Event("hide.bs.dropdown",s)),e.isDefaultPrevented()||o.removeClass("open").trigger("hidden.bs.dropdown",s))}))}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}function o(e){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new r(this)),"string"==typeof e&&o[e].call(i)})}var s=".dropdown-backdrop",n='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.2.0",r.prototype.toggle=function(o){var s=t(this);if(!s.is(".disabled, :disabled")){var n=i(s),r=n.hasClass("open");if(e(),!r){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(n.trigger(o=t.Event("show.bs.dropdown",a)),o.isDefaultPrevented())return;s.trigger("focus"),n.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},r.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var o=t(this);if(e.preventDefault(),e.stopPropagation(),!o.is(".disabled, :disabled")){var s=i(o),r=s.hasClass("open");if(!r||r&&27==e.keyCode)return 27==e.which&&s.find(n).trigger("focus"),o.trigger("click");var a=" li:not(.divider):visible a",l=s.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var h=l.index(l.filter(":focus"));38==e.keyCode&&h>0&&h--,40==e.keyCode&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",n,r.prototype.toggle).on("keydown.bs.dropdown.data-api",n+', [role="menu"], [role="listbox"]',r.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,o){return this.each(function(){var s=t(this),n=s.data("bs.modal"),r=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e);n||s.data("bs.modal",n=new i(this,r)),"string"==typeof e?n[e](o):r.show&&n.show(o)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.2.0",i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),o&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$element.find(".modal-dialog").one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(300):i.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&o;if(this.$backdrop=t('<div class="modal-backdrop '+o+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var n=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(150):n()}else e&&e()},i.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=t(this),s=o.attr("href"),n=t(o.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),r=n.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},n.data(),o.data());o.is("a")&&i.preventDefault(),n.one("show.bs.modal",function(t){t.isDefaultPrevented()||n.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(n,r,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.tooltip"),n="object"==typeof e&&e;(s||"destroy"!=e)&&(s||o.data("bs.tooltip",s=new i(this,n)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};i.VERSION="3.2.0",i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,o){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var s=this.options.trigger.split(" "),n=s.length;n--;){var r=s[n];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var o=this,s=this.tip(),n=this.getUID(this.type);this.setContent(),s.attr("id",n),this.$element.attr("aria-describedby",n),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,l=a.test(r);l&&(r=r.replace(a,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element);var h=this.getPosition(),p=s[0].offsetWidth,c=s[0].offsetHeight;if(l){var d=r,f=this.$element.parent(),u=this.getPosition(f);r="bottom"==r&&h.top+h.height+c-u.scroll>u.height?"top":"top"==r&&h.top-u.scroll-c<0?"bottom":"right"==r&&h.right+p>u.width?"left":"left"==r&&h.left-p<u.left?"right":r,s.removeClass(d).addClass(r)}var g=this.getCalculatedOffset(r,h,p,c);this.applyPlacement(g,r);var v=function(){o.$element.trigger("shown.bs."+o.type),o.hoverState=null};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",v).emulateTransitionEnd(150):v()}},i.prototype.applyPlacement=function(e,i){var o=this.tip(),s=o[0].offsetWidth,n=o[0].offsetHeight,r=parseInt(o.css("margin-top"),10),a=parseInt(o.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),e.top=e.top+r,e.left=e.left+a,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;"top"==i&&h!=n&&(e.top=e.top+n-h);var p=this.getViewportAdjustedDelta(i,e,l,h);p.left?e.left+=p.left:e.top+=p.top;var c=p.left?2*p.left-s+l:2*p.top-n+h,d=p.left?"left":"top",f=p.left?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(c,o[0][f],d)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(){function e(){"in"!=i.hoverState&&o.detach(),i.$element.trigger("hidden.bs."+i.type)}var i=this,o=this.tip(),s=t.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(s),s.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],o="BODY"==i.tagName;return t.extend({},"function"==typeof i.getBoundingClientRect?i.getBoundingClientRect():null,{scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:o?t(window).width():e.outerWidth(),height:o?t(window).height():e.outerHeight()},o?{top:0,left:0}:e.offset())},i.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,o){var s={top:0,left:0};if(!this.$viewport)return s;var n=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-n-r.scroll,l=e.top+n-r.scroll+o;a<r.top?s.top=r.top-a:l>r.top+r.height&&(s.top=r.top+r.height-l)}else{var h=e.left-n,p=e.left+n+i;h<r.left?s.left=r.left-h:p>r.width&&(s.left=r.left+r.width-p)}return s},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.popover"),n="object"==typeof e&&e;(s||"destroy"!=e)&&(s||o.data("bs.popover",s=new i(this,n)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.2.0",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").empty()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},i.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery),+function(t){"use strict";function e(i,o){var s=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(i).is("body")?window:i),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",s),this.refresh(),this.process()}function i(i){return this.each(function(){var o=t(this),s=o.data("bs.scrollspy"),n="object"==typeof i&&i;s||o.data("bs.scrollspy",s=new e(this,n)),"string"==typeof i&&s[i]()})}e.VERSION="3.2.0",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",i=0;t.isWindow(this.$scrollElement[0])||(e="position",i=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var o=this;this.$body.find(this.selector).map(function(){var o=t(this),s=o.data("target")||o.attr("href"),n=/^#./.test(s)&&t(s);return n&&n.length&&n.is(":visible")&&[[n[e]().top+i,s]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){o.offsets.push(this[0]),o.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),o=this.options.offset+i-this.$scrollElement.height(),s=this.offsets,n=this.targets,r=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=o)return r!=(t=n[n.length-1])&&this.activate(t);if(r&&e<=s[0])return r!=(t=n[0])&&this.activate(t);for(t=s.length;t--;)r!=n[t]&&e>=s[t]&&(!s[t+1]||e<=s[t+1])&&this.activate(n[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")};var o=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.tab");s||o.data("bs.tab",s=new i(this)),"string"==typeof e&&s[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.2.0",i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var s=i.find(".active:last a")[0],n=t.Event("show.bs.tab",{relatedTarget:s});if(e.trigger(n),!n.isDefaultPrevented()){var r=t(o);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:s})})}}},i.prototype.activate=function(e,i,o){function s(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),o&&o()}var n=i.find("> .active"),r=o&&t.support.transition&&n.hasClass("fade");r?n.one("bsTransitionEnd",s).emulateTransitionEnd(150):s(),n.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=o,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(i){i.preventDefault(),e.call(t(this),"show")})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.affix"),n="object"==typeof e&&e;s||o.data("bs.affix",s=new i(this,n)),"string"==typeof e&&s[e]()})}var i=function(e,o){this.options=t.extend({},i.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.2.0",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=t(document).height(),o=this.$target.scrollTop(),s=this.$element.offset(),n=this.options.offset,r=n.top,a=n.bottom;"object"!=typeof n&&(a=r=n),"function"==typeof r&&(r=n.top(this.$element)),"function"==typeof a&&(a=n.bottom(this.$element));var l=!(null!=this.unpin&&o+this.unpin<=s.top)&&(null!=a&&s.top+this.$element.height()>=e-a?"bottom":null!=r&&r>=o&&"top");if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var h="affix"+(l?"-"+l:""),p=t.Event(h+".bs.affix");this.$element.trigger(p),p.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(h).trigger(t.Event(h.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:e-this.$element.height()-a}))}}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),o=i.data();o.offset=o.offset||{},o.offsetBottom&&(o.offset.bottom=o.offsetBottom),o.offsetTop&&(o.offset.top=o.offsetTop),e.call(i,o)})})}(jQuery);
function getThemeColorFromCss(e){var s,a=$("<span></span>").hide().appendTo("body");return a.addClass(e),s=a.css("color"),a.remove(),s}function InitiateSideMenu(){$(".sidebar-toggler").on("click",function(){return $("#sidebar").toggleClass("hide"),$(".sidebar-toggler").toggleClass("active"),!1});var e=$("#sidebar").hasClass("menu-compact");$("#sidebar-collapse").on("click",function(){$("#sidebar").is(":visible")||$("#sidebar").toggleClass("hide"),$("#sidebar").toggleClass("menu-compact"),$(".sidebar-collapse").toggleClass("active"),e=$("#sidebar").hasClass("menu-compact"),e&&$(".open > .submenu").removeClass("open")}),$(".sidebar-menu").on("click",function(s){var a,t,o,i=$(s.target).closest("a");if(i&&0!=i.length){if(!i.hasClass("menu-dropdown"))return!(e&&i.get(0).parentNode.parentNode==this&&(a=i.find(".menu-text").get(0),s.target!=a&&!$.contains(a,s.target)))&&void 0;if(t=i.next().get(0),!$(t).is(":visible")){if(o=$(t.parentNode).closest("ul"),e&&o.hasClass("sidebar-menu"))return;o.find("> .open > .submenu").each(function(){this==t||$(this.parentNode).hasClass("active")||$(this).slideUp(200).parent().removeClass("open")})}return(!e||!$(t.parentNode.parentNode).hasClass("sidebar-menu"))&&($(t).slideToggle(200).parent().toggleClass("open"),!1)}})}function InitiateWidgets(){$('.widget-buttons *[data-toggle="maximize"]').on("click",function(e){e.preventDefault();var s=$(this).parents(".widget").eq(0),a=$(this).find("i").eq(0),t="fa-compress",o="fa-expand";s.hasClass("maximized")?(a&&a.addClass(o).removeClass(t),s.removeClass("maximized"),s.find(".widget-body").css("height","auto")):(a&&a.addClass(t).removeClass(o),s.addClass("maximized"),maximize(s))}),$('.widget-buttons *[data-toggle="collapse"]').on("click",function(e){e.preventDefault();var s=$(this).parents(".widget").eq(0),a=s.find(".widget-body"),t=$(this).find("i"),o="fa-plus",i="fa-minus",r=300;s.hasClass("collapsed")?(t&&t.addClass(i).removeClass(o),s.removeClass("collapsed"),a.slideUp(0,function(){a.slideDown(r)})):(t&&t.addClass(o).removeClass(i),a.slideUp(200,function(){s.addClass("collapsed")}))}),$('.widget-buttons *[data-toggle="dispose"]').on("click",function(e){e.preventDefault();var s=$(this),a=s.parents(".widget").eq(0);a.hide(300,function(){a.remove()})})}function maximize(e){if(e){var s=$(window).height(),a=e.find(".widget-header").height();e.find(".widget-body").height(s-a)}}function scrollTo(e,s){var a=e&&e.size()>0?e.offset().top:0;jQuery("html,body").animate({scrollTop:a+(s?s:0)},"slow")}function Notify(e,s,a,t,o,i){toastr.options.positionClass="toast-"+s,toastr.options.extendedTimeOut=0,toastr.options.timeOut=a,toastr.options.closeButton=i,toastr.options.iconClass=o+" toast-"+t,toastr.custom(e)}function InitiateSettings(){null!=readCookie("navbar-fixed-top")&&"true"==readCookie("navbar-fixed-top")&&($("#checkbox_fixednavbar").prop("checked",!0),$(".navbar").addClass("navbar-fixed-top")),null!=readCookie("sidebar-fixed")&&"true"==readCookie("sidebar-fixed")&&($("#checkbox_fixedsidebar").prop("checked",!0),$(".page-sidebar").addClass("sidebar-fixed")),null!=readCookie("breadcrumbs-fixed")&&"true"==readCookie("breadcrumbs-fixed")&&($("#checkbox_fixedbreadcrumbs").prop("checked",!0),$(".page-breadcrumbs").addClass("breadcrumbs-fixed")),null!=readCookie("page-header-fixed")&&"true"==readCookie("page-header-fixed")&&($("#checkbox_fixedheader").prop("checked",!0),$(".page-header").addClass("page-header-fixed")),$("#checkbox_fixednavbar").change(function(){$(".navbar").toggleClass("navbar-fixed-top"),$("#checkbox_fixedsidebar").is(":checked")&&($("#checkbox_fixedsidebar").prop("checked",!1),$(".page-sidebar").toggleClass("sidebar-fixed")),$("#checkbox_fixedbreadcrumbs").is(":checked")&&!$(this).is(":checked")&&($("#checkbox_fixedbreadcrumbs").prop("checked",!1),$(".page-breadcrumbs").toggleClass("breadcrumbs-fixed")),$("#checkbox_fixedheader").is(":checked")&&!$(this).is(":checked")&&($("#checkbox_fixedheader").prop("checked",!1),$(".page-header").toggleClass("page-header-fixed")),setCookiesForFixedSettings()}),$("#checkbox_fixedsidebar").change(function(){$(".page-sidebar").toggleClass("sidebar-fixed"),$("#checkbox_fixednavbar").is(":checked")||($("#checkbox_fixednavbar").prop("checked",!0),$(".navbar").toggleClass("navbar-fixed-top")),$("#checkbox_fixedbreadcrumbs").is(":checked")&&!$(this).is(":checked")&&($("#checkbox_fixedbreadcrumbs").prop("checked",!1),$(".page-breadcrumbs").toggleClass("breadcrumbs-fixed")),$("#checkbox_fixedheader").is(":checked")&&!$(this).is(":checked")&&($("#checkbox_fixedheader").prop("checked",!1),$(".page-header").toggleClass("page-header-fixed")),setCookiesForFixedSettings()}),$("#checkbox_fixedbreadcrumbs").change(function(){$(".page-breadcrumbs").toggleClass("breadcrumbs-fixed"),$("#checkbox_fixedsidebar").is(":checked")||($("#checkbox_fixedsidebar").prop("checked",!0),$(".page-sidebar").toggleClass("sidebar-fixed")),$("#checkbox_fixednavbar").is(":checked")||($("#checkbox_fixednavbar").prop("checked",!0),$(".navbar").toggleClass("navbar-fixed-top")),$("#checkbox_fixedheader").is(":checked")&&!$(this).is(":checked")&&($("#checkbox_fixedheader").prop("checked",!1),$(".page-header").toggleClass("page-header-fixed")),setCookiesForFixedSettings()}),$("#checkbox_fixedheader").change(function(){$(".page-header").toggleClass("page-header-fixed"),$("#checkbox_fixedbreadcrumbs").is(":checked")||($("#checkbox_fixedbreadcrumbs").prop("checked",!0),$(".page-breadcrumbs").toggleClass("breadcrumbs-fixed")),$("#checkbox_fixedsidebar").is(":checked")||($("#checkbox_fixedsidebar").prop("checked",!0),$(".page-sidebar").toggleClass("sidebar-fixed")),$("#checkbox_fixednavbar").is(":checked")||($("#checkbox_fixednavbar").prop("checked",!0),$(".navbar").toggleClass("navbar-fixed-top")),setCookiesForFixedSettings()})}function setCookiesForFixedSettings(){createCookie("navbar-fixed-top",$("#checkbox_fixednavbar").is(":checked"),100),createCookie("sidebar-fixed",$("#checkbox_fixedsidebar").is(":checked"),100),createCookie("breadcrumbs-fixed",$("#checkbox_fixedbreadcrumbs").is(":checked"),100),createCookie("page-header-fixed",$("#checkbox_fixedheader").is(":checked"),100)}function getcolor(e){switch(e){case"themeprimary":return themeprimary;case"themesecondary":return themesecondary;case"themethirdcolor":return themethirdcolor;case"themefourthcolor":return themefourthcolor;case"themefifthcolor":return themefifthcolor;default:return e}}function switchClasses(e,s){var a,t=document.getElementsByClassName(e);for(i=t.length-1;i>=0;i--)hasClass(t[i],"dropdown-menu")||(addClass(t[i],e+"-temp"),removeClass(t[i],e));for(a=document.getElementsByClassName(s),i=a.length-1;i>=0;i--)hasClass(a[i],"dropdown-menu")||(addClass(a[i],e),removeClass(a[i],s));for(tempClasses=document.getElementsByClassName(e+"-temp"),i=tempClasses.length-1;i>=0;i--)hasClass(tempClasses[i],"dropdown-menu")||(addClass(tempClasses[i],s),removeClass(tempClasses[i],e+"-temp"))}function addClass(e,s){var a=e.className;a&&(a+=" "),e.className=a+s}function removeClass(e,s){var a=" "+e.className+" ";e.className=a.replace(" "+s,"").replace(/^\s+/g,"").replace(/\s+$/g,"")}function hasClass(e,s){var a=" "+e.className+" ",t=" "+s+" ";return a.indexOf(t)!=-1}var themeprimary=getThemeColorFromCss("themeprimary"),themesecondary=getThemeColorFromCss("themesecondary"),themethirdcolor=getThemeColorFromCss("themethirdcolor"),themefourthcolor=getThemeColorFromCss("themefourthcolor"),themefifthcolor=getThemeColorFromCss("themefifthcolor"),rtlchanger,popovers,hoverpopovers;$("#skin-changer li a").click(function(){createCookie("current-skin",$(this).attr("rel"),10),window.location.reload()}),rtlchanger=document.getElementById("rtl-changer"),"/index-rtl-fa.html"!=location.pathname&&"/index-rtl-ar.html"!=location.pathname&&(readCookie("rtl-support")?(switchClasses("pull-right","pull-left"),switchClasses("databox-right","databox-left"),switchClasses("item-right","item-left"),$(".navbar-brand small img").attr("src","assets/img/logo-rtl.png"),null!=rtlchanger&&(document.getElementById("rtl-changer").checked=!0)):null!=rtlchanger&&(rtlchanger.checked=!1),null!=rtlchanger&&(rtlchanger.onchange=function(){this.checked?createCookie("rtl-support","true",10):eraseCookie("rtl-support"),setTimeout(function(){window.location.reload()},600)})),$(window).load(function(){setTimeout(function(){$(".loading-container").addClass("loading-inactive")},0)}),$("#btn-setting").on("click",function(){$(".navbar-account").toggleClass("setting-open")}),$("#fullscreen-toggler").on("click",function(){var e=document.documentElement;$("body").hasClass("full-screen")?($("body").removeClass("full-screen"),$("#fullscreen-toggler").removeClass("active"),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):($("body").addClass("full-screen"),$("#fullscreen-toggler").addClass("active"),e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())}),popovers=$("[data-toggle=popover]"),$.each(popovers,function(){$(this).popover({html:!0,template:'<div class="popover '+$(this).data("class")+'"><div class="arrow"></div><h3 class="popover-title '+$(this).data("titleclass")+'">Popover right</h3><div class="popover-content"></div></div>'})}),hoverpopovers=$("[data-toggle=popover-hover]"),$.each(hoverpopovers,function(){$(this).popover({html:!0,template:'<div class="popover '+$(this).data("class")+'"><div class="arrow"></div><h3 class="popover-title '+$(this).data("titleclass")+'">Popover right</h3><div class="popover-content"></div></div>',trigger:"hover"})}),$("[data-toggle=tooltip]").tooltip({html:!0}),InitiateSideMenu(),InitiateSettings(),InitiateWidgets();
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(e){function s(){var s,r;return!i.settings.submitHandler||(i.submitButton&&(s=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),r=i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&s.remove(),void 0!==r&&r)}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,s()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):s():(i.focusInvalid(),!1)})),i)},valid:function(){var e,i,s;return t(this[0]).is("form")?e=this.validate().form():(s=[],e=!0,i=t(this[0].form).validate(),this.each(function(){e=i.element(this)&&e,s=s.concat(i.errorList)}),i.errorList=s),e},rules:function(e,i){var s,r,n,a,o,l,h=this[0];if(e)switch(s=t.data(h.form,"validator").settings,r=s.rules,n=t.validator.staticRules(h),e){case"add":t.extend(n,t.validator.normalizeRule(i)),delete n.messages,r[h.name]=n,i.messages&&(s.messages[h.name]=t.extend(s.messages[h.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),function(e,i){l[i]=n[i],delete n[i],"required"===i&&t(h).removeAttr("aria-required")}),l):(delete r[h.name],n)}return a=t.validator.normalizeRules(t.extend({},t.validator.classRules(h),t.validator.attributeRules(h),t.validator.dataRules(h),t.validator.staticRules(h)),h),a.required&&(o=a.required,delete a.required,a=t.extend({required:o},a),t(h).attr("aria-required","true")),a.remote&&(o=a.remote,delete a.remote,a=t.extend(a,{remote:o})),a}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:"",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,i){var s=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===i.which&&""===this.elementValue(e)||t.inArray(i.keyCode,s)!==-1||(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(s):t(e).addClass(i).removeClass(s)},unhighlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(s):t(e).removeClass(i).addClass(s)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this.form,"validator"),s="on"+e.type.replace(/^validate/,""),r=i.settings;r[s]&&!t(this).is(r.ignore)&&r[s].call(i,this,e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,s=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){s[i]=e})}),i=this.settings.rules,t.each(i,function(e,s){i[e]=t.validator.normalizeRule(s)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i=this.clean(e),s=this.validationTargetFor(i),r=!0;return this.lastElement=s,void 0===s?delete this.invalid[i.name]:(this.prepareElement(s),this.currentElements=t(s),r=this.check(s)!==!1,r?delete this.invalid[s.name]:this.invalid[s.name]=!0),t(e).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(e){if(e){t.extend(this.errorMap,e);for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var e,i=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(e=0;i[e];e++)this.settings.unhighlight.call(this,i[e],this.settings.errorClass,"");else i.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),i[this.name]=!0,!0})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,s=t(e),r=e.type;return"radio"===r||"checkbox"===r?this.findByName(e.name).filter(":checked").val():"number"===r&&"undefined"!=typeof e.validity?!e.validity.badInput&&s.val():(i=s.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,s,r,n=t(e).rules(),a=t.map(n,function(t,e){return e}).length,o=!1,l=this.elementValue(e);for(s in n){r={method:s,parameters:n[s]};try{if(i=t.validator.methods[s].call(this,l,e,r.parameters),"dependency-mismatch"===i&&1===a){o=!0;continue}if(o=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,r),!1}catch(h){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+r.method+"' method.",h),h instanceof TypeError&&(h.message+=".  Exception occurred when checking element "+e.id+", check the '"+r.method+"' method."),h}}if(!o)return this.objectLength(n)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var s=this.defaultMessage(e,i.method),r=/\$?\{(\d+)\}/g;"function"==typeof s?s=s.call(this,i.parameters,e):r.test(s)&&(s=t.validator.format(s.replace(r,"{$1}"),i.parameters)),this.errorList.push({message:s,element:e,method:i.method}),this.errorMap[e.name]=s,this.submitted[e.name]=s},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var s,r,n,a=this.errorsFor(e),o=this.idOrName(e),l=t(e).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(i)):(a=t("<"+this.settings.errorElement+">").attr("id",o+"-error").addClass(this.settings.errorClass).html(i||""),s=a,this.settings.wrapper&&(s=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(s):this.settings.errorPlacement?this.settings.errorPlacement(s,t(e)):s.insertAfter(e),a.is("label")?a.attr("for",o):0===a.parents("label[for='"+o+"']").length&&(n=a.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),l?l.match(new RegExp("\\b"+n+"\\b"))||(l+=" "+n):l=n,t(e).attr("aria-describedby",l),r=this.groups[e.name],r&&t.each(this.groups,function(e,i){i===r&&t("[name='"+e+"']",this.currentForm).attr("aria-describedby",a.attr("id"))}))),!i&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,e)),this.toShow=this.toShow.add(a)},errorsFor:function(e){var i=this.idOrName(e),s=t(e).attr("aria-describedby"),r="label[for='"+i+"'], label[for='"+i+"'] *";return s&&(r=r+", #"+s.replace(/\s+/g,", #")),this.errors().filter(r)},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},s=t(e).attr("class");return s&&t.each(s.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(t,e,i,s){/min|max/.test(i)&&(null===e||/number|range|text/.test(e))&&(s=Number(s),isNaN(s)&&(s=void 0)),s||0===s?t[i]=s:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(e){var i,s,r={},n=t(e),a=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(s=e.getAttribute(i),""===s&&(s=!0),s=!!s):s=n.attr(i),this.normalizeAttributeRule(r,a,i,s);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(e){var i,s,r={},n=t(e),a=e.getAttribute("type");for(i in t.validator.methods)s=n.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(r,a,i,s);return r},staticRules:function(e){var i={},s=t.data(e.form,"validator");return null!=s&&s.settings.rules&&(i=t.validator.normalizeRule(s.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(s,r){if(r===!1)return void delete e[s];if(r.param||r.depends){var n=!0;switch(typeof r.depends){case"string":n=!!t(r.depends,i.form).length;break;case"function":n=r.depends.call(i,i)}n?e[s]=void 0===r.param||r.param:delete e[s]}}),t.each(e,function(s,r){e[s]=t.isFunction(r)?r(i):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,s){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==s?s:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,s){if(!this.depend(s,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=t(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(e,i)>0:e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i,s,r=0,n=0,a=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(i=t.length-1;i>=0;i--)s=t.charAt(i),n=parseInt(s,10),a&&(n*=2)>9&&(n-=9),r+=n,a=!a;return r%10===0},minlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||r>=s},maxlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||r<=s},rangelength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||r>=s[0]&&r<=s[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},equalTo:function(e,i,s){var r=t(s);return this.settings.onfocusout&&r.off(".validate-equalTo").on("blur.validate-equalTo",function(){t(i).valid()}),e===r.val()},remote:function(e,i,s){if(this.optional(i))return"dependency-mismatch";var r,n,a=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),a.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=a.message,s="string"==typeof s&&{url:s}||s,a.old===e)return a.valid;a.old=e,r=this,this.startRequest(i),n={},n[i.name]=e;var o,l,h,u;return t.ajax(t.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:n,context:r.currentForm,success:function(s){o=s===!0||"true"===s,r.settings.messages[i.name].remote=a.originalMessage,o?(u=r.formSubmitted,r.prepareElement(i),r.formSubmitted=u,r.successList.push(i),delete r.invalid[i.name],r.showErrors()):(l={},h=s||r.defaultMessage(i,"remote"),l[i.name]=a.message=t.isFunction(h)?h(e):h,r.invalid[i.name]=!0,r.showErrors(l)),a.valid=o,r.stopRequest(i,o)}},s)),o}}});var e,i={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,s){var r=t.port;"abort"===t.mode&&(i[r]&&i[r].abort(),i[r]=s)}):(e=t.ajax,t.ajax=function(s){var r=("mode"in s?s:t.ajaxSettings).mode,n=("port"in s?s:t.ajaxSettings).port;return"abort"===r?(i[n]&&i[n].abort(),i[n]=e.apply(this,arguments),i[n]):e.apply(this,arguments)})});
function getInternetExplorerVersion(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var n=navigator.userAgent,t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=t.exec(n)&&(e=parseFloat(RegExp.$1))}return e}function checkVersion(){var e="You're not using Windows Internet Explorer.",n=getInternetExplorerVersion();n>-1&&(e=n>=8?"You're using a recent copy of Windows Internet Explorer.":"You should upgrade your copy of Windows Internet Explorer."),alert(e)}function isIE8orlower(){var e="0",n=getInternetExplorerVersion();return n>-1&&(e=n>=9?0:1),e}!function(e){e(["jquery"],function(e){return function(){function n(e,n,t){return d({type:C.custom,iconClass:p().iconClass,message:e,optionsOverride:t,title:n})}function t(e,n,t){return d({type:C.error,iconClass:p().iconClasses.error,message:e,optionsOverride:t,title:n})}function o(e,n,t){return d({type:C.info,iconClass:p().iconClasses.info,message:e,optionsOverride:t,title:n})}function s(e){m=e}function i(e,n,t){return d({type:C.success,iconClass:p().iconClasses.success,message:e,optionsOverride:t,title:n})}function r(e,n,t){return d({type:C.warning,iconClass:p().iconClasses.warning,message:e,optionsOverride:t,title:n})}function a(n){var t=p();return f||l(t),n&&0===e(":focus",n).length?void n[t.hideMethod]({duration:t.hideDuration,easing:t.hideEasing,complete:function(){g(n)}}):void(f.children().length&&f[t.hideMethod]({duration:t.hideDuration,easing:t.hideEasing,complete:function(){f.remove()}}))}function u(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning",custom:"toast-custom"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0}}function c(e){m&&m(e)}function d(n){function t(n){if(!e(":focus",u).length||n)return u[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){g(u),i.onHidden&&i.onHidden(),C.state="hidden",C.endTime=new Date,c(C)}})}function o(){(i.timeOut>0||i.extendedTimeOut>0)&&(a=setTimeout(t,i.extendedTimeOut))}function s(){clearTimeout(a),u.stop(!0,!0)[i.showMethod]({duration:i.showDuration,easing:i.showEasing})}var i=p(),r=n.iconClass||i.iconClass;"undefined"!=typeof n.optionsOverride&&(i=e.extend(i,n.optionsOverride),r=n.optionsOverride.iconClass||r),v++,f=l(i);var a=null,u=e("<div/>"),d=e("<div/>"),m=e("<div/>"),h=e(i.closeHtml),C={toastId:v,state:"visible",startTime:new Date,options:i,map:n};n.iconClass&&u.addClass(i.toastClass).addClass(r),n.title&&(d.append(n.title).addClass(i.titleClass),u.append(d)),n.message&&(m.append(n.message).addClass(i.messageClass),u.append(m)),i.closeButton&&(h.addClass("toast-close-button"),u.prepend(h)),i.positionClass&&f.attr("class")!=i.positionClass&&(f.html(""),f.removeAttr("class"),f.addClass(i.positionClass)),u.hide(),i.newestOnTop?f.prepend(u):f.append(u),u[i.showMethod]({duration:i.showDuration,easing:i.showEasing,complete:i.onShown}),i.timeOut>0&&(a=setTimeout(t,i.timeOut)),u.hover(s,o),!i.onclick&&i.tapToDismiss&&u.click(t),i.closeButton&&h&&h.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),t(!0)}),i.onclick&&u.click(function(){i.onclick(),t()}),c(C);var w=0;if(w=1,0==isIE8orlower()){var E=document.createElement("audio");E.setAttribute("src","assets/sound/alert.mp3"),e.get(),E.addEventListener("load",function(){E.play()},!0),E.pause(),E.play()}return i.debug&&console&&console.log(C),u}function l(n){return n||(n=p()),f=e("#"+n.containerId),f.length?f:(f=e("<div/>").attr("id",n.containerId).addClass(n.positionClass),f.appendTo(e(n.target)),f)}function p(){return e.extend({},u(),w.options)}function g(e){f||(f=l()),e.is(":visible")||(e.remove(),e=null,0===f.children().length&&f.remove())}var f,m,h="2.0.1",v=0,C={error:"error",info:"info",success:"success",warning:"warning",custom:"custom"},w={clear:a,error:t,getContainer:l,info:o,options:{},subscribe:s,success:i,version:h,warning:r,custom:n};return w}()})}("function"==typeof define&&define.amd?define:function(e,n){"undefined"!=typeof module&&module.exports?module.exports=n(require("jquery")):window.toastr=n(window.jQuery)});
!function(e){var t={init:function(n){return this.each(function(){var o=e(this);o.data("uploadifive",{inputs:{},inputCount:0,fileID:0,queue:{count:0,selected:0,replaced:0,errors:0,queued:0,cancelled:0},uploads:{current:0,attempts:0,successful:0,errors:0,count:0}});var r=o.data("uploadifive"),u=r.settings=e.extend({auto:!0,buttonClass:!1,buttonText:"Select Files",checkScript:!1,dnd:!0,dropTarget:!1,fileObjName:"Filedata",fileSizeLimit:0,fileType:!1,formData:{},height:30,itemTemplate:!1,method:"post",multi:!0,overrideEvents:[],queueID:!1,queueSizeLimit:0,removeCompleted:!1,simUploadLimit:0,truncateLength:0,uploadLimit:0,uploadScript:"uploadifive.php",width:100},n);if(isNaN(u.fileSizeLimit)){var a=1.024*parseInt(u.fileSizeLimit);u.fileSizeLimit.indexOf("KB")>-1?u.fileSizeLimit=1e3*a:u.fileSizeLimit.indexOf("MB")>-1?u.fileSizeLimit=1e6*a:u.fileSizeLimit.indexOf("GB")>-1&&(u.fileSizeLimit=1e9*a)}else u.fileSizeLimit=1024*u.fileSizeLimit;if(r.inputTemplate=e('<input type="file">').css({"font-size":u.height+"px",opacity:0,position:"absolute",right:"-3px",top:"-3px","z-index":999}),r.createInput=function(){var i=r.inputTemplate.clone(),n=i.name="input"+r.inputCount++;u.multi&&i.attr("multiple",!0),i.bind("change",function(){r.queue.selected=0,r.queue.replaced=0,r.queue.errors=0,r.queue.queued=0;var i=this.files.length;if(r.queue.selected=i,r.queue.count+i>u.queueSizeLimit&&0!==u.queueSizeLimit)e.inArray("onError",u.overrideEvents)<0&&alert("The maximum number of queue items has been reached ("+u.queueSizeLimit+").  Please select fewer files."),"function"==typeof u.onError&&u.onError.call(o,"QUEUE_LIMIT_EXCEEDED");else{for(var a=0;a<i;a++)file=this.files[a],r.addQueueItem(file);r.inputs[n]=this,r.createInput()}u.auto&&t.upload.call(o),"function"==typeof u.onSelect&&u.onSelect.call(o,r.queue)}),r.currentInput&&r.currentInput.hide(),r.button.append(i),r.currentInput=i},r.destroyInput=function(t){e(r.inputs[t]).remove(),delete r.inputs[t],r.inputCount--},r.drop=function(i){r.queue.selected=0,r.queue.replaced=0,r.queue.errors=0,r.queue.queued=0;var n=i.dataTransfer,a=n.name="input"+r.inputCount++,l=n.files.length;if(r.queue.selected=l,r.queue.count+l>u.queueSizeLimit&&0!==u.queueSizeLimit)e.inArray("onError",u.overrideEvents)<0&&alert("The maximum number of queue items has been reached ("+u.queueSizeLimit+").  Please select fewer files."),"function"==typeof u.onError&&u.onError.call(o,"QUEUE_LIMIT_EXCEEDED");else{for(var s=0;s<l;s++)file=n.files[s],r.addQueueItem(file);r.inputs[a]=n}u.auto&&t.upload.call(o),"function"==typeof u.onDrop&&u.onDrop.call(o,n.files,n.files.length),i.preventDefault(),i.stopPropagation()},r.fileExistsInQueue=function(e){for(var t in r.inputs){input=r.inputs[t],limit=input.files.length;for(var i=0;i<limit;i++)if(existingFile=input.files[i],existingFile.name==e.name&&!existingFile.complete)return!0}return!1},r.removeExistingFile=function(e){for(var i in r.inputs){input=r.inputs[i],limit=input.files.length;for(var n=0;n<limit;n++)existingFile=input.files[n],existingFile.name!=e.name||existingFile.complete||(r.queue.replaced++,t.cancel.call(o,existingFile,!0))}},0==u.itemTemplate?r.queueItem=e('<div class="uploadifive-queue-item">                        <a class="close" href="#">X</a>                        <div><span class="filename"></span><span class="fileinfo"></span></div>                        <div class="progress">                            <div class="progress-bar"></div>                        </div>                    </div>'):r.queueItem=e(u.itemTemplate),r.addQueueItem=function(i){if(e.inArray("onAddQueueItem",u.overrideEvents)<0){r.removeExistingFile(i),i.queueItem=r.queueItem.clone(),i.queueItem.attr("id",u.id+"-file-"+r.fileID++),i.queueItem.find(".close").bind("click",function(){return t.cancel.call(o,i),!1});var n=i.name;n.length>u.truncateLength&&0!=u.truncateLength&&(n=n.substring(0,u.truncateLength)+"..."),i.queueItem.find(".filename").html(n),i.queueItem.data("file",i),r.queueEl.append(i.queueItem)}if("function"==typeof u.onAddQueueItem&&u.onAddQueueItem.call(o,i),u.fileType)if(e.isArray(u.fileType)){for(var a=!1,l=0;l<u.fileType.length;l++)i.type.indexOf(u.fileType[l])>-1&&(a=!0);a||r.error("FORBIDDEN_FILE_TYPE",i)}else i.type.indexOf(u.fileType)<0&&r.error("FORBIDDEN_FILE_TYPE",i);i.size>u.fileSizeLimit&&0!=u.fileSizeLimit?r.error("FILE_SIZE_LIMIT_EXCEEDED",i):(r.queue.queued++,r.queue.count++)},r.removeQueueItem=function(t,i,n){n||(n=0);var o=i?0:500;t.queueItem&&(" - Completed"!=t.queueItem.find(".fileinfo").html()&&t.queueItem.find(".fileinfo").html(" - Cancelled"),t.queueItem.find(".progress-bar").width(0),t.queueItem.delay(n).fadeOut(o,function(){e(this).remove()}),delete t.queueItem,r.queue.count--)},r.filesToUpload=function(){var e=0;for(var t in r.inputs){input=r.inputs[t],limit=input.files.length;for(var i=0;i<limit;i++)file=input.files[i],file.skip||file.complete||e++}return e},r.checkExists=function(i){if(e.inArray("onCheck",u.overrideEvents)<0){e.ajaxSetup({async:!1});var n=e.extend(u.formData,{filename:i.name});if(e.post(u.checkScript,n,function(e){i.exists=parseInt(e)}),i.exists&&!confirm("A file named "+i.name+" already exists in the upload folder.\nWould you like to replace it?"))return t.cancel.call(o,i),!0}return"function"==typeof u.onCheck&&u.onCheck.call(o,i,i.exists),!1},r.uploadFile=function(t,n){if(!t.skip&&!t.complete&&!t.uploading)if(t.uploading=!0,r.uploads.current++,r.uploads.attempted++,xhr=t.xhr=new XMLHttpRequest,"function"==typeof FormData||"object"==typeof FormData){var a=new FormData;a.append(u.fileObjName,t);for(i in u.formData)a.append(i,u.formData[i]);xhr.open(u.method,u.uploadScript,!0);var l=$("meta[name='CSRFToken']").attr("content");xhr.setRequestHeader("CSRFToken",l),xhr.upload.addEventListener("progress",function(e){e.lengthComputable&&r.progress(e,t)},!1),xhr.addEventListener("load",function(e){4==this.readyState&&(null!=xhr.getResponseHeader("CSRFToken")&&jQuery("meta[name='CSRFToken']").attr("content",xhr.getResponseHeader("CSRFToken")),t.uploading=!1,200==this.status?"Invalid file type."!==t.xhr.responseText?r.uploadComplete(e,t,n):r.error(t.xhr.responseText,t,n):404==this.status?r.error("404_FILE_NOT_FOUND",t,n):403==this.status?r.error("403_FORBIDDEN",t,n):r.error("Unknown Error",t,n))}),xhr.send(a)}else{var s=new FileReader;s.onload=function(i){var a="-------------------------"+(new Date).getTime(),l="--",s="\r\n",p="";p+=l+a+s,p+='Content-Disposition: form-data; name="'+u.fileObjName+'"',t.name&&(p+='; filename="'+t.name+'"'),p+=s,p+="Content-Type: application/octet-stream"+s+s,p+=i.target.result+s;for(key in u.formData)p+=l+a+s,p+='Content-Disposition: form-data; name="'+key+'"'+s+s,p+=u.formData[key]+s;p+=l+a+l+s,xhr.upload.addEventListener("progress",function(e){r.progress(e,t)},!1),xhr.addEventListener("load",function(e){t.uploading=!1;var i=this.status;404==i?r.error("404_FILE_NOT_FOUND",t,n):"Invalid file type."!=t.xhr.responseText?r.uploadComplete(e,t,n):r.error(t.xhr.responseText,t,n)},!1);var d=u.uploadScript;if("get"==u.method){var f=e(u.formData).param();d+=f}xhr.open(u.method,u.uploadScript,!0),xhr.setRequestHeader("Content-Type","multipart/form-data; boundary="+a),alert("bbbbbb");var c=$("meta[name='CSRFToken']").attr("content");xhr.setRequestHeader("CSRFToken",c),"function"==typeof u.onUploadFile&&u.onUploadFile.call(o,t),xhr.sendAsBinary(p)},s.readAsBinaryString(t)}},r.progress=function(t,i){if(e.inArray("onProgress",u.overrideEvents)<0){if(t.lengthComputable)var n=Math.round(t.loaded/t.total*100);i.queueItem.find(".fileinfo").html(" - "+n+"%"),i.queueItem.find(".progress-bar").css("width",n+"%")}"function"==typeof u.onProgress&&u.onProgress.call(o,i,t)},r.error=function(i,n,a){if(e.inArray("onError",u.overrideEvents)<0){switch(i){case"404_FILE_NOT_FOUND":errorMsg="找不到文件";break;case"403_FORBIDDEN":errorMsg="没有足够的访问权限";break;case"FORBIDDEN_FILE_TYPE":errorMsg="文件类型错误";break;case"FILE_SIZE_LIMIT_EXCEEDED":errorMsg="文件过大";break;default:errorMsg="未知错误"}n.queueItem.addClass("error").find(".fileinfo").html(" - "+errorMsg),n.queueItem.find(".progress").remove()}"function"==typeof u.onError&&u.onError.call(o,i,n),n.skip=!0,"404_FILE_NOT_FOUND"==i?r.uploads.errors++:r.queue.errors++,a&&t.upload.call(o,null,!0)},r.uploadComplete=function(i,n,a){e.inArray("onUploadComplete",u.overrideEvents)<0&&(n.queueItem.find(".progress-bar").css("width","100%"),n.queueItem.find(".fileinfo").html(" - Completed"),n.queueItem.find(".progress").slideUp(250),n.queueItem.addClass("complete")),"function"==typeof u.onUploadComplete&&u.onUploadComplete.call(o,n,n.xhr.responseText),u.removeCompleted&&setTimeout(function(){t.cancel.call(o,n)},3e3),n.complete=!0,r.uploads.successful++,r.uploads.count++,r.uploads.current--,delete n.xhr,a&&t.upload.call(o,null,!0)},r.queueComplete=function(){"function"==typeof u.onQueueComplete&&u.onQueueComplete.call(o,r.uploads)},!(window.File&&window.FileList&&window.Blob&&(window.FileReader||window.FormData)))return"function"==typeof u.onFallback&&u.onFallback.call(o),!1;if(u.id="uploadifive-"+o.attr("id"),r.button=e('<div id="'+u.id+'" class="uploadifive-button">'+u.buttonText+"</div>"),u.buttonClass&&r.button.addClass(u.buttonClass),r.button.css({height:u.height,"line-height":u.height+"px",overflow:"hidden",position:"relative","text-align":"center",width:u.width}),o.before(r.button).appendTo(r.button).hide(),r.createInput.call(o),u.queueID?r.queueEl=e("#"+u.queueID):(u.queueID=u.id+"-queue",r.queueEl=e('<div id="'+u.queueID+'" class="uploadifive-queue" />'),r.button.after(r.queueEl)),u.dnd){var l=u.dropTarget?e(u.dropTarget):r.queueEl.get(0);l.addEventListener("dragleave",function(e){e.preventDefault(),e.stopPropagation()},!1),l.addEventListener("dragenter",function(e){e.preventDefault(),e.stopPropagation()},!1),l.addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation()},!1),l.addEventListener("drop",r.drop,!1)}XMLHttpRequest.prototype.sendAsBinary||(XMLHttpRequest.prototype.sendAsBinary=function(e){function t(e){return 255&e.charCodeAt(0)}var i=Array.prototype.map.call(e,t),n=new Uint8Array(i);this.send(n.buffer)}),"function"==typeof u.onInit&&u.onInit.call(o)})},debug:function(){return this.each(function(){console.log(e(this).data("uploadifive"))})},clearQueue:function(){this.each(function(){var n=e(this),o=n.data("uploadifive"),r=o.settings;for(var u in o.inputs)for(input=o.inputs[u],limit=input.files.length,i=0;i<limit;i++)file=input.files[i],t.cancel.call(n,file);"function"==typeof r.onClearQueue&&r.onClearQueue.call(n,e("#"+o.settings.queueID))})},cancel:function(i,n){this.each(function(){var o=e(this),r=o.data("uploadifive"),u=r.settings;"string"==typeof i&&(isNaN(i)||(fileID="uploadifive-"+e(this).attr("id")+"-file-"+i),i=e("#"+fileID).data("file")),i.skip=!0,r.filesCancelled++,i.uploading&&(r.uploads.current--,i.uploading=!1,i.xhr.abort(),delete i.xhr,t.upload.call(o)),e.inArray("onCancel",u.overrideEvents)<0&&r.removeQueueItem(i,n),"function"==typeof u.onCancel&&u.onCancel.call(o,i)})},upload:function(t,i){this.each(function(){var n=e(this),o=n.data("uploadifive"),r=o.settings;if(t)o.uploadFile.call(n,t);else if(o.uploads.count+o.uploads.current<r.uploadLimit||0==r.uploadLimit){if(!i){o.uploads.attempted=0,o.uploads.successsful=0,o.uploads.errors=0;var u=o.filesToUpload();"function"==typeof r.onUpload&&r.onUpload.call(n,u)}e("#"+r.queueID).find(".uploadifive-queue-item").not(".error, .complete").each(function(){return _file=e(this).data("file"),!(o.uploads.current>=r.simUploadLimit&&0!==r.simUploadLimit||o.uploads.current>=r.uploadLimit&&0!==r.uploadLimit||o.uploads.count>=r.uploadLimit&&0!==r.uploadLimit)&&void(r.checkScript?(_file.checking=!0,skipFile=o.checkExists(_file),_file.checking=!1,skipFile||o.uploadFile(_file,!0)):o.uploadFile(_file,!0))}),0==e("#"+r.queueID).find(".uploadifive-queue-item").not(".error, .complete").size()&&o.queueComplete()}else 0==o.uploads.current&&(e.inArray("onError",r.overrideEvents)<0&&o.filesToUpload()>0&&0!=r.uploadLimit&&alert("The maximum upload limit has been reached."),"function"==typeof r.onError&&r.onError.call(n,"UPLOAD_LIMIT_EXCEEDED",o.filesToUpload()))})},destroy:function(){this.each(function(){var i=e(this),n=i.data("uploadifive"),o=n.settings;t.clearQueue.call(i),o.queueID||e("#"+o.queueID).remove(),i.siblings("input").remove(),i.show().insertBefore(n.button),n.button.remove(),"function"==typeof o.onDestroy&&o.onDestroy.call(i)})}};e.fn.uploadifive=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("The method "+i+" does not exist in $.uploadify"):t.init.apply(this,arguments)}}(jQuery);
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function($){"use strict";$.jgrid=$.jgrid||{},$.jgrid.hasOwnProperty("defaults")||($.jgrid.defaults={}),$.extend($.jgrid,{version:"5.0.2",htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},template:function(e){var t,i=$.makeArray(arguments).slice(1),r=i.length;return null==e&&(e=""),e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(e,o){if(!isNaN(parseInt(o,10)))return i[parseInt(o,10)];for(t=0;r>t;t++)if($.isArray(i[t]))for(var a=i[t],s=a.length;s--;)if(o===a[s].nm)return a[s].v})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e=-1,t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");return null!=i.exec(t)&&(e=parseFloat(RegExp.$1)),e},getCellIndex:function(e){var t=$(e);return t.is("tr")?-1:(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0],$.jgrid.msie?$.inArray(t,t.parentNode.cells):t.cellIndex)},stripHtml:function(e){e=String(e);var t=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return e?(e=e.replace(t,""),e&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/\"/g,"'"):""):e},stripPref:function(e,t){var i=$.type(e);return("string"===i||"number"===i)&&(e=String(e),t=""!==e?String(t).replace(String(e),""):t),t},parse:function(jsonString){var js=jsonString;return"while(1);"===js.substr(0,9)&&(js=js.substr(9)),"/*"===js.substr(0,2)&&(js=js.substr(2,js.length-4)),js||(js="{}"),$.jgrid.useJSON===!0&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(js):eval("("+js+")")},parseDate:function(e,t,i,r){var o,a,s,n=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,l=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/[^-+\dA-Z]/g,p=new RegExp("^/Date\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\)/$"),c="string"==typeof t?t.match(p):null,u=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},h={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},g=0,f=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t},m=0;if(void 0===r&&(r=$.jgrid.getRegional(this,"formatter.date")),void 0===r.parseRe&&(r.parseRe=/[#%\\\/:_;.,\t\s-]/),r.masks.hasOwnProperty(e)&&(e=r.masks[e]),t&&null!=t)if(isNaN(t-0)||"u"!==String(e).toLowerCase())if(t.constructor===Date)g=t;else if(null!==c)g=new Date(parseInt(c[1],10)),c[3]&&(m=60*Number(c[5])+Number(c[6]),m*="-"===c[4]?1:-1,m-=g.getTimezoneOffset(),g.setTime(Number(Number(g)+60*m*1e3)));else{for("ISO8601Long"===r.srcformat&&"Z"===t.charAt(t.length-1)&&(m-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe),e=e.replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe),a=0,s=e.length;s>a;a++){switch(e[a]){case"M":o=$.inArray(t[a],r.monthNames),-1!==o&&12>o&&(t[a]=o+1,h.m=t[a]);break;case"F":o=$.inArray(t[a],r.monthNames,12),-1!==o&&o>11&&(t[a]=o+1-12,h.m=t[a]);break;case"n":e[a]="m";break;case"j":e[a]="d";break;case"a":o=$.inArray(t[a],r.AmPm),-1!==o&&2>o&&t[a]===r.AmPm[o]&&(t[a]=o,h.h=f(t[a],h.h));break;case"A":o=$.inArray(t[a],r.AmPm),-1!==o&&o>1&&t[a]===r.AmPm[o]&&(t[a]=o-2,h.h=f(t[a],h.h));break;case"g":h.h=parseInt(t[a],10)}void 0!==t[a]&&(h[e[a].toLowerCase()]=parseInt(t[a],10))}if(h.f&&(h.m=h.f),0===h.m&&0===h.y&&0===h.d)return"&#160;";h.m=parseInt(h.m,10)-1;var v=h.y;v>=70&&99>=v?h.y=1900+h.y:v>=0&&69>=v&&(h.y=2e3+h.y),g=new Date(h.y,h.m,h.d,h.h,h.i,h.s,h.u),m>0&&g.setTime(Number(Number(g)+60*m*1e3))}else g=new Date(1e3*parseFloat(t));else g=new Date(h.y,h.m,h.d,h.h,h.i,h.s,h.u);if(r.userLocalTime&&0===m&&(m-=(new Date).getTimezoneOffset(),m>0&&g.setTime(Number(Number(g)+60*m*1e3))),void 0===i)return g;r.masks.hasOwnProperty(i)?i=r.masks[i]:i||(i="Y-m-d");var j=g.getHours(),b=g.getMinutes(),w=g.getDate(),y=g.getMonth()+1,x=g.getTimezoneOffset(),q=g.getSeconds(),_=g.getMilliseconds(),D=g.getDay(),C=g.getFullYear(),I=(D+6)%7+1,G=(new Date(C,y-1,w)-new Date(C,0,1))/864e5,F={d:u(w),D:r.dayNames[D],j:w,l:r.dayNames[D+7],N:I,S:r.S(w),w:D,z:G,W:5>I?Math.floor((G+I-1)/7)+1:Math.floor((G+I-1)/7)||((new Date(C-1,0,1).getDay()+6)%7<4?53:52),F:r.monthNames[y-1+12],m:u(y),M:r.monthNames[y-1],n:y,t:"?",L:"?",o:"?",Y:C,y:String(C).substring(2),a:12>j?r.AmPm[0]:r.AmPm[1],A:12>j?r.AmPm[2]:r.AmPm[3],B:"?",g:j%12||12,G:j,h:u(j%12||12),H:u(j),i:u(b),s:u(q),u:_,e:"?",I:"?",O:(x>0?"-":"+")+u(100*Math.floor(Math.abs(x)/60)+Math.abs(x)%60,4),P:"?",T:(String(g).match(l)||[""]).pop().replace(d,""),Z:"?",c:"?",r:"?",U:Math.floor(g/1e3)};return i.replace(n,function(e){return F.hasOwnProperty(e)?F[e]:e.substring(1)})},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(e){return(e||$.jgrid.uidPref)+$.jgrid.guid++},getAccessor:function(e,t){var i,r,o,a=[];if("function"==typeof t)return t(e);if(i=e[t],void 0===i)try{if("string"==typeof t&&(a=t.split(".")),o=a.length)for(i=e;i&&o--;)r=a.shift(),i=i[r]}catch(s){}return i},getXmlData:function(e,t,i){var r,o="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;return"function"==typeof t?t(e):o&&o[2]?o[1]?$(o[1],e).attr(o[2]):$(e).attr(o[2]):(r=$(t,e),i?r:r.length>0?$(r).text():void 0)},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable ui-common-table' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div>"),t=e.appendTo("body").find("td").width();return e.remove(),Math.abs(t-5)>.1},isLocalStorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},getRegional:function(e,t,i){var r;return void 0!==i?i:(e.p&&e.p.regional&&$.jgrid.regional&&(r=$.jgrid.getAccessor($.jgrid.regional[e.p.regional]||{},t)),void 0===r&&(r=$.jgrid.getAccessor($.jgrid,t)),r)},isMobile:function(){try{return!!/Android|webOS|iPhone|iPad|iPod|pocket|psp|kindle|avantgo|blazer|midori|Tablet|Palm|maemo|plucker|phone|BlackBerry|symbian|IEMobile|mobile|ZuneWP7|Windows Phone|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}},cell_width:!0,ajaxOptions:{},from:function(source){var $t=this,QueryObject=function(d,q){"string"==typeof d&&(d=$.data(d));var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],_useProperties=!0;if("object"!=typeof d||!d.push)throw"data provides is not an array";return d.length>0&&(_useProperties="object"==typeof d[0]),this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+")"),_trim&&t.push(")"),_usecase||t.push(".toLowerCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?e:e.toLowerCase()},this._funcLoop=function(e){var t=[];return $.each(_data,function(i,r){t.push(e(r))}),t},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;_orDepth>t;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_useProperties?_lastCommand(_lastField,e):_lastCommand(e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,i){var r=Object.prototype.toString;return void 0===i&&(i=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:"[object Date]"===r.call(e)&&"[object Date]"===r.call(t)?t>e?-i:e>t?i:0:(_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),t>e?-i:e>t?i:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var i=_sorting[t].by,r=_sorting[t].dir,o=_sorting[t].type,a=_sorting[t].datefmt,s=_sorting[t].sfunc;if(t===_sorting.length-1)return self._getOrder(e,i,r,o,a,s);t++;var n,l,d,p=self._getGroup(e,i,r,o,a),c=[];for(n=0;n<p.length;n++)for(d=self._doSort(p[n].items,t),l=0;l<d.length;l++)c.push(d[l]);return c},this._getOrder=function(e,t,i,r,o,a){var s,n,l,d,p=[],c=[],u="a"===i?1:-1;void 0===r&&(r="text"),d="float"===r||"number"===r||"currency"===r||"numeric"===r?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===r||"integer"===r?function(e){return e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===r||"datetime"===r?function(e){return $.jgrid.parseDate.call($t,o,e).getTime()}:$.isFunction(r)?r:function(e){return e=e?$.trim(String(e)):"",_usecase?e:e.toLowerCase()},$.each(e,function(e,i){n=""!==t?$.jgrid.getAccessor(i,t):i,void 0===n&&(n=""),n=d(n,i),c.push({vSort:n,index:e})}),$.isFunction(a)?c.sort(function(e,t){return e=e.vSort,t=t.vSort,a.call(this,e,t,u)}):c.sort(function(e,t){return e=e.vSort,t=t.vSort,self._compare(e,t,u)}),l=0;for(var h=e.length;h>l;)s=c[l].index,p.push(e[s]),l++;return p},this._getGroup=function(e,t,i,r,o){var a,s=[],n=null,l=null;return $.each(self._getOrder(e,t,i,r,o),function(e,i){a=$.jgrid.getAccessor(i,t),null==a&&(a=""),self._equals(l,a)||(l=a,null!==n&&s.push(n),n=self._group(t,a)),n.items.push(i)}),null!==n&&s.push(n),s},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match?self:($.each(_data,function(){eval(match)&&results.push(this)}),_data=results,self)},this.data=function(){return _data},this.select=function(e){if(self._performSort(),!self._hasData())return[];if(self.execute(),$.isFunction(e)){var t=[];return $.each(_data,function(i,r){t.push(e(r))}),t}return _data},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),_data.length>0)},this.andNot=function(e,t,i){return _negate=!_negate,self.and(e,t,i)},this.orNot=function(e,t,i){return _negate=!_negate,self.or(e,t,i)},this.not=function(e,t,i){return self.andNot(e,t,i)},this.and=function(e,t,i){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,i)},this.or=function(e,t,i){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,i)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,i,r,o){var a;a=_useProperties?"jQuery.jgrid.getAccessor(this,'"+t+"')":"this",void 0===i&&(i=null);var s=i,n=void 0===o.stype?"text":o.stype;if(null!==i)switch(n){case"int":case"integer":s=isNaN(Number(s))||""===s?"0":s,a="parseInt("+a+",10)",s="parseInt("+s+",10)";break;case"float":case"number":case"numeric":s=String(s).replace(_stripNum,""),s=isNaN(Number(s))||""===s?"0":s,a="parseFloat("+a+")",s="parseFloat("+s+")";break;case"date":case"datetime":s=String($.jgrid.parseDate.call($t,o.srcfmt||"Y-m-d",s).getTime()),a='jQuery.jgrid.parseDate.call(jQuery("#'+$.jgrid.jqID($t.p.id)+'")[0],"'+o.srcfmt+'",'+a+").getTime()";break;default:a=self._getStr(a),s=self._getStr('"'+self._toStr(s)+'"')}return self._append(a+" "+r+" "+s),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,i){return self._compareValues(self.equals,e,t,"==",i)},this.notEquals=function(e,t,i){return self._compareValues(self.equals,e,t,"!==",i)},this.isNull=function(e,t,i){return self._compareValues(self.equals,e,null,"===",i)},this.greater=function(e,t,i){return self._compareValues(self.greater,e,t,">",i)},this.less=function(e,t,i){return self._compareValues(self.less,e,t,"<",i)},this.greaterOrEquals=function(e,t,i){return self._compareValues(self.greaterOrEquals,e,t,">=",i)},this.lessOrEquals=function(e,t,i){return self._compareValues(self.lessOrEquals,e,t,"<=",i)},this.startsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(t)+'"')):(null!=t&&(r=_trim?$.trim(t.toString()).length:t.toString().length),self._append(self._getStr("this")+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(e)+'"'))),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr("+self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".length-"+r+","+r+') == "'+self._toStr(t)+'"'):self._append(self._getStr("this")+".substr("+self._getStr("this")+'.length-"'+self._toStr(e)+'".length,"'+self._toStr(e)+'".length) == "'+self._toStr(e)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+'.indexOf("'+self._toStr(t)+'",0) > -1'):self._append(self._getStr("this")+'.indexOf("'+self._toStr(e)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,i,r){return self._hasData()?self._getGroup(_data,e,t,i,r):null},this.orderBy=function(e,t,i,r,o){return t=null==t?"a":$.trim(t.toString().toLowerCase()),null==i&&(i="text"),null==r&&(r="Y-m-d"),null==o&&(o=!1),("desc"===t||"descending"===t)&&(t="d"),("asc"===t||"ascending"===t)&&(t="a"),_sorting.push({by:e,dir:t,type:i,datefmt:r,sfunc:o}),self},self};return new QueryObject(source,null)},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)},clearBeforeUnload:function(e){var t,i=$("#"+$.jgrid.jqID(e))[0];if(i.grid){t=i.grid,$.isFunction(t.emptyRows)&&t.emptyRows.call(i,!0,!0),$(document).unbind("mouseup.jqGrid"+i.p.id),$(t.hDiv).unbind("mousemove"),$(i).unbind();var r,o=t.headers.length,a=["formatCol","sortData","updatepager","refreshIndex","setHeadCheckBox","constructTr","formatter","addXmlData","addJSONData","grid","p"];for(r=0;o>r;r++)t.headers[r].el=null;for(r in t)t.hasOwnProperty(r)&&(t[r]=null);for(r in i.p)i.p.hasOwnProperty(r)&&(i.p[r]=$.isArray(i.p[r])?[]:null);for(o=a.length,r=0;o>r;r++)i.hasOwnProperty(a[r])&&(i[a[r]]=null,delete i[a[r]])}},gridUnload:function(e){if(e){e=$.trim(e),0===e.indexOf("#")&&(e=e.substring(1));var t=$("#"+$.jgrid.jqID(e))[0];if(t.grid){var i={id:$(t).attr("id"),cl:$(t).attr("class")};t.p.pager&&$(t.p.pager).unbind().empty().removeClass("ui-state-default ui-jqgrid-pager ui-corner-bottom");var r=document.createElement("table");r.className=i.cl;var o=$.jgrid.jqID(t.id);$(r).removeClass("ui-jqgrid-btable ui-common-table").insertBefore("#gbox_"+o),1===$(t.p.pager).parents("#gbox_"+o).length&&$(t.p.pager).insertBefore("#gbox_"+o),$.jgrid.clearBeforeUnload(e),$("#gbox_"+o).remove(),$(r).attr({id:i.id}),$("#alertmod_"+$.jgrid.jqID(e)).remove()}}},gridDestroy:function(e){if(e){e=$.trim(e),0===e.indexOf("#")&&(e=e.substring(1));var t=$("#"+$.jgrid.jqID(e))[0];if(t.grid){t.p.pager&&$(t.p.pager).remove();try{$.jgrid.clearBeforeUnload(e),$("#gbox_"+$.jgrid.jqID(e)).remove()}catch(i){}}}},styleUI:{jQueryUI:{common:{disabled:"ui-state-disabled",highlight:"ui-state-highlight",hover:"ui-state-hover",cornerall:"ui-corner-all",cornertop:"ui-corner-top",cornerbottom:"ui-corner-bottom",hidden:"ui-helper-hidden",icon_base:"ui-icon",overlay:"ui-widget-overlay",active:"",error:"ui-state-error",button:"ui-state-default ui-corner-all",content:"ui-widget-content"},base:{entrieBox:"ui-widget ui-widget-content ui-corner-all",viewBox:"",headerTable:"",headerBox:"ui-state-default",rowTable:"",rowBox:"ui-widget-content",footerTable:"",footerBox:"ui-widget-content",headerDiv:"ui-state-default",gridtitleBox:"ui-widget-header ui-corner-top ui-helper-clearfix",customtoolbarBox:"ui-state-default",loadingBox:"ui-state-default ",rownumBox:"ui-state-default",scrollBox:"ui-widget-content",multiBox:"cbox",pagerBox:"ui-state-default ui-corner-bottom",pagerTable:"",toppagerBox:"ui-state-default",pgInput:"ui-corner-all",pgSelectBox:"ui-widget-content ui-corner-all",pgButtonBox:"ui-corner-all",icon_first:"ui-icon-seek-first",icon_prev:"ui-icon-seek-prev",icon_next:"ui-icon-seek-next",icon_end:"ui-icon-seek-end",icon_asc:"ui-icon-triangle-1-n",icon_desc:"ui-icon-triangle-1-s",icon_caption_open:"ui-icon-circle-triangle-n",icon_caption_close:"ui-icon-circle-triangle-s"},modal:{modal:"ui-widget ui-widget-content ui-corner-all",header:"ui-widget-header ui-corner-all ui-helper-clearfix",content:"ui-widget-content",resizable:"ui-resizable-handle ui-resizable-se",icon_close:"ui-icon-closethick",icon_resizable:"ui-icon-gripsmall-diagonal-se"},celledit:{inputClass:"ui-widget-content ui-corner-all"},inlinedit:{inputClass:"ui-widget-content ui-corner-all",icon_edit_nav:"ui-icon-pencil",icon_add_nav:"ui-icon-plus",icon_save_nav:"ui-icon-disk",icon_cancel_nav:"ui-icon-cancel"},formedit:{inputClass:"ui-widget-content ui-corner-all",icon_prev:"ui-icon-triangle-1-w",icon_next:"ui-icon-triangle-1-e",icon_save:"ui-icon-disk",icon_close:"ui-icon-close",icon_del:"ui-icon-scissors",icon_cancel:"ui-icon-cancel"},navigator:{icon_edit_nav:"ui-icon-pencil",icon_add_nav:"ui-icon-plus",icon_del_nav:"ui-icon-trash",icon_search_nav:"ui-icon-search",icon_refresh_nav:"ui-icon-refresh",icon_view_nav:"ui-icon-document",icon_newbutton_nav:"ui-icon-newwin"},grouping:{icon_plus:"ui-icon-circlesmall-plus",icon_minus:"ui-icon-circlesmall-minus"},filter:{table_widget:"ui-widget ui-widget-content",srSelect:"ui-widget-content ui-corner-all",srInput:"ui-widget-content ui-corner-all",menu_widget:"ui-widget ui-widget-content ui-corner-all",icon_search:"ui-icon-search",icon_reset:"ui-icon-arrowreturnthick-1-w",icon_query:"ui-icon-comment"},subgrid:{icon_plus:"ui-icon-plus",icon_minus:"ui-icon-minus",icon_open:"ui-icon-carat-1-sw"},treegrid:{icon_plus:"ui-icon-triangle-1-",icon_minus:"ui-icon-triangle-1-s",icon_leaf:"ui-icon-radio-off"},fmatter:{icon_edit:"ui-icon-pencil",icon_add:"ui-icon-plus",icon_save:"ui-icon-disk",icon_cancel:"ui-icon-cancel",icon_del:"ui-icon-trash"}},Bootstrap:{common:{disabled:"ui-disabled",highlight:"success",hover:"active",cornerall:"",cornertop:"",cornerbottom:"",hidden:"",icon_base:"glyphicon",overlay:"ui-overlay",active:"active",error:"bg-danger",button:"btn btn-default",content:""},base:{entrieBox:"",viewBox:"table-responsive",headerTable:"table table-bordered",headerBox:"",rowTable:"table table-bordered",rowBox:"",footerTable:"table table-bordered",footerBox:"",headerDiv:"",gridtitleBox:"",customtoolbarBox:"",loadingBox:"row",rownumBox:"active",scrollBox:"",multiBox:"checkbox",pagerBox:"",pagerTable:"table",toppagerBox:"",pgInput:"form-control",pgSelectBox:"form-control",pgButtonBox:"",icon_first:"glyphicon-step-backward",icon_prev:"glyphicon-backward",icon_next:"glyphicon-forward",icon_end:"glyphicon-step-forward",icon_asc:"glyphicon-triangle-top",icon_desc:"glyphicon-triangle-bottom",icon_caption_open:"glyphicon-circle-arrow-up",icon_caption_close:"glyphicon-circle-arrow-down"},modal:{modal:"modal-content",header:"modal-header",title:"modal-title",content:"modal-body",resizable:"ui-resizable-handle ui-resizable-se",icon_close:"glyphicon-remove-circle",icon_resizable:"glyphicon-import"},celledit:{inputClass:"form-control"},inlinedit:{inputClass:"form-control",icon_edit_nav:"glyphicon-edit",icon_add_nav:"glyphicon-plus",icon_save_nav:"glyphicon-save",icon_cancel_nav:"glyphicon-remove-circle"},formedit:{inputClass:"form-control",icon_prev:"glyphicon-step-backward",icon_next:"glyphicon-step-forward",icon_save:"glyphicon-save",icon_close:"glyphicon-remove-circle",icon_del:"glyphicon-trash",icon_cancel:"glyphicon-remove-circle"},navigator:{icon_edit_nav:"glyphicon-edit",icon_add_nav:"glyphicon-plus",icon_del_nav:"glyphicon-trash",icon_search_nav:"glyphicon-search",icon_refresh_nav:"glyphicon-refresh",icon_view_nav:"glyphicon-info-sign",icon_newbutton_nav:"glyphicon-new-window"},grouping:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom"},filter:{table_widget:"table table-condensed",srSelect:"form-control",srInput:"form-control",menu_widget:"",icon_search:"glyphicon-search",icon_reset:"glyphicon-refresh",icon_query:"glyphicon-comment"},subgrid:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom",icon_open:"glyphicon-indent-left"},treegrid:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom",icon_leaf:"glyphicon-unchecked"},fmatter:{icon_edit:"glyphicon-edit",icon_add:"glyphicon-plus",icon_save:"glyphicon-save",icon_cancel:"glyphicon-remove-circle",icon_del:"glyphicon-trash"}}}}),$.fn.jqGrid=function(e){if("string"==typeof e){var t=$.jgrid.getMethod(e);if(!t)throw"jqGrid - No such method: "+e;var i=$.makeArray(arguments).slice(1);return t.apply(this,i)}return this.each(function(){if(!this.grid){var t;null!=e&&void 0!==e.data&&(t=e.data,e.data=[]);var i=$.extend(!0,{url:"",height:"auto",page:1,rowNum:10,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[10,20,50],colNames:[],sortorder:"asc",sortname:"",datatype:"json",mtype:"POST",altRows:!0,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:30,gridview:!0,rownumWidth:35,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"",minusicon:"",displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1},ignoreCase:!0,cmTemplate:{},idPrefix:"",multiSort:!1,minColWidth:33,scrollPopUp:!1,scrollTopOffset:0,scrollLeftOffset:"100%",storeNavOptions:!1,regional:"en",styleUI:"jQueryUI",responsive:!1,restoreCellonFail:!0},$.jgrid.defaults,e);void 0!==t&&(i.data=t,e.data=t);var r=this,o={headers:[],cols:[],footers:[],dragStart:function(e,t,o){var a=$(this.bDiv).offset().left;this.resizing={idx:e,startX:t.pageX,sOL:t.pageX-a},this.hDiv.style.cursor="col-resize",this.curGbox=$("#rs_m"+$.jgrid.jqID(i.id),"#gbox_"+$.jgrid.jqID(i.id)),this.curGbox.css({display:"block",left:t.pageX-a,top:o[1],height:o[2]}),$(r).triggerHandler("jqGridResizeStart",[t,e]),$.isFunction(i.resizeStart)&&i.resizeStart.call(r,t,e),document.onselectstart=function(){return!1}},dragMove:function(e){if(this.resizing){var t,r,o=e.pageX-this.resizing.startX,a=this.headers[this.resizing.idx],s="ltr"===i.direction?a.width+o:a.width-o;s>33&&(this.curGbox.css({left:this.resizing.sOL+o}),i.forceFit===!0?(t=this.headers[this.resizing.idx+i.nv],r="ltr"===i.direction?t.width-o:t.width+o,r>i.minColWidth&&(a.newWidth=s,t.newWidth=r)):(this.newWidth="ltr"===i.direction?i.tblwidth+o:i.tblwidth-o,a.newWidth=s))}},dragEnd:function(e){if(this.hDiv.style.cursor="default",this.resizing){var t=this.resizing.idx,o=this.headers[t].newWidth||this.headers[t].width;o=parseInt(o,10),this.resizing=!1,$("#rs_m"+$.jgrid.jqID(i.id)).css("display","none"),i.colModel[t].width=o,this.headers[t].width=o,this.headers[t].el.style.width=o+"px",this.cols[t].style.width=o+"px",this.footers.length>0&&(this.footers[t].style.width=o+"px"),i.forceFit===!0?(o=this.headers[t+i.nv].newWidth||this.headers[t+i.nv].width,this.headers[t+i.nv].width=o,this.headers[t+i.nv].el.style.width=o+"px",this.cols[t+i.nv].style.width=o+"px",this.footers.length>0&&(this.footers[t+i.nv].style.width=o+"px"),i.colModel[t+i.nv].width=o):(i.tblwidth=this.newWidth||i.tblwidth,$("table:first",this.bDiv).css("width",i.tblwidth+"px"),$("table:first",this.hDiv).css("width",i.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,i.footerrow&&($("table:first",this.sDiv).css("width",i.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft)),e&&($(r).triggerHandler("jqGridResizeStop",[o,t]),$.isFunction(i.resizeStop)&&i.resizeStop.call(r,o,t))}this.curGbox=null,document.onselectstart=function(){return!0}},populateVisible:function(){o.timer&&clearTimeout(o.timer),o.timer=null;var e=$(o.bDiv).height();if(e){var t,a,s=$("table:first",o.bDiv);if(s[0].rows.length)try{t=s[0].rows[1],a=t?$(t).outerHeight()||o.prevRowHeight:o.prevRowHeight}catch(n){a=o.prevRowHeight}if(a){o.prevRowHeight=a;var l,d,p,c=i.rowNum,u=o.scrollTop=o.bDiv.scrollTop,h=Math.round(s.position().top)-u,g=h+s.height(),f=a*c;if(e>g&&0>=h&&(void 0===i.lastpage||(parseInt((g+u+f-1)/f,10)||0)<=i.lastpage)&&(d=parseInt((e-g+f-1)/f,10)||1,g>=0||2>d||i.scroll===!0?(l=(Math.round((g+u)/f)||0)+1,h=-1):h=1),h>0&&(l=(parseInt(u/f,10)||0)+1,d=(parseInt((u+e)/f,10)||0)+2-l,p=!0),d){if(i.lastpage&&(l>i.lastpage||1===i.lastpage||l===i.page&&l===i.lastpage))return;o.hDiv.loading?o.timer=setTimeout(o.populateVisible,i.scrollTimeout):(i.page=l,p&&(o.selectionPreserver(s[0]),o.emptyRows.call(s[0],!1,!1)),o.populate(d)),i.scrollPopUp&&null!=i.lastpage&&($("#scroll_g"+i.id).show().html($.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",i.pgtext),i.page,i.lastpage)).css({top:i.scrollTopOffset+u*((parseInt(i.height,10)-45)/(parseInt(a,10)*parseInt(i.records,10)))+"px",left:i.scrollLeftOffset}),$(this).mouseout(function(){$("#scroll_g"+i.id).hide()}))}}}},scrollGrid:function(e){if(i.scroll){var t=o.bDiv.scrollTop;void 0===o.scrollTop&&(o.scrollTop=0),t!==o.scrollTop&&(o.scrollTop=t,o.timer&&clearTimeout(o.timer),o.timer=setTimeout(o.populateVisible,i.scrollTimeout))}o.hDiv.scrollLeft=o.bDiv.scrollLeft,i.footerrow&&(o.sDiv.scrollLeft=o.bDiv.scrollLeft),i.frozenColumns&&$(o.fbDiv).scrollTop(o.bDiv.scrollTop),e&&e.stopPropagation()},selectionPreserver:function(e){var t=e.p,i=t.selrow,r=t.selarrrow?$.makeArray(t.selarrrow):null,o=e.grid.bDiv.scrollLeft,a=function(){var s;if(t.selrow=null,t.selarrrow=[],t.multiselect&&r&&r.length>0)for(s=0;s<r.length;s++)r[s]!==i&&$(e).jqGrid("setSelection",r[s],!1,null);i&&$(e).jqGrid("setSelection",i,!1,null),e.grid.bDiv.scrollLeft=o,$(e).unbind(".selectionPreserver",a)};$(e).bind("jqGridGridComplete.selectionPreserver",a)}};if("TABLE"!==this.tagName.toUpperCase()||null==this.id)return void alert("Element is not a table or has no id!");if(void 0!==document.documentMode&&document.documentMode<=5)return void alert("Grid can not be used in this ('quirks') mode!");var a,s,n,l=0;for(s in $.jgrid.regional)$.jgrid.regional.hasOwnProperty(s)&&(0===l&&(a=s),l++);if(1===l&&a!==i.regional&&(i.regional=a),$(this).empty().attr("tabindex","0"),this.p=i,this.p.useProp=!!$.fn.prop,0===this.p.colNames.length)for(l=0;l<this.p.colModel.length;l++)this.p.colNames[l]=this.p.colModel[l].label||this.p.colModel[l].name;if(this.p.colNames.length!==this.p.colModel.length)return void alert($.jgrid.getRegional(this,"errors.model"));var d,p=$.jgrid.getMethod("getStyleUI"),c=r.p.styleUI+".common",u=p(c,"disabled",!0),h=p(c,"highlight",!0),g=p(c,"hover",!0),f=p(c,"cornerall",!0),m=p(c,"icon_base",!0),v=$.jgrid.msie,j=[],b=[],w=[];c=r.p.styleUI+".base",d=$("<div "+p(c,"viewBox",!1,"ui-jqgrid-view")+" role='grid'></div>"),r.p.direction=$.trim(r.p.direction.toLowerCase()),r.p._ald=!1,-1===$.inArray(r.p.direction,["ltr","rtl"])&&(r.p.direction="ltr"),n=r.p.direction,$(d).insertBefore(this),$(this).appendTo(d);var y=$("<div "+p(c,"entrieBox",!1,"ui-jqgrid")+"></div>");$(y).attr({id:"gbox_"+this.id,dir:n}).insertBefore(d),$(d).attr("id","gview_"+this.id).appendTo(y),$("<div "+p(r.p.styleUI+".common","overlay",!1,"jqgrid-overlay")+" id='lui_"+this.id+"'></div>").insertBefore(d),$("<div "+p(c,"loadingBox",!1,"loading")+" id='load_"+this.id+"'>"+$.jgrid.getRegional(r,"defaults.loadtext",this.p.loadtext)+"</div>").insertBefore(d),$(this).attr({role:"presentation","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var x,q=["shiftKey","altKey","ctrlKey"],_=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},D=function(e,t,i,a,s,n){var l,d,p=r.p.colModel[e],c=p.align,u='style="',h=p.classes,g=p.name,f=[];return c&&(u+="text-align:"+c+";"),p.hidden===!0&&(u+="display:none;"),0===t?u+="width: "+o.headers[e].width+"px;":($.isFunction(p.cellattr)||"string"==typeof p.cellattr&&null!=$.jgrid.cellattr&&$.isFunction($.jgrid.cellattr[p.cellattr]))&&(l=$.isFunction(p.cellattr)?p.cellattr:$.jgrid.cellattr[p.cellattr],d=l.call(r,s,i,a,p,n),d&&"string"==typeof d&&(d=d.replace(/style/i,"style").replace(/title/i,"title"),d.indexOf("title")>-1&&(p.title=!1),d.indexOf("class")>-1&&(h=void 0),f=d.replace(/\-style/g,"-sti").split(/style/),2===f.length?(f[1]=$.trim(f[1].replace(/\-sti/g,"-style").replace("=","")),(0===f[1].indexOf("'")||0===f[1].indexOf('"'))&&(f[1]=f[1].substring(1)),u+=f[1].replace(/'/gi,'"')):u+='"')),f.length||(f[0]="",u+='"'),u+=(void 0!==h?' class="'+h+'"':"")+(p.title&&i?' title="'+$.jgrid.stripHtml(i)+'"':""),u+=' aria-describedby="'+r.p.id+"_"+g+'"',u+f[0]},C=function(e){return null==e||""===e?"&#160;":r.p.autoencode?$.jgrid.htmlEncode(e):String(e)},I=function(e,t,i,o,a){var s,n=r.p.colModel[i];if(void 0!==n.formatter){e=""!==String(r.p.idPrefix)?$.jgrid.stripPref(r.p.idPrefix,e):e;var l={rowId:e,colModel:n,gid:r.p.id,pos:i,styleUI:r.p.styleUI};s=$.isFunction(n.formatter)?n.formatter.call(r,t,l,o,a):$.fmatter?$.fn.fmatter.call(r,n.formatter,t,l,o,a):C(t)}else s=C(t);return s},G=function(e,t,i,r,o,a){var s,n;return s=I(e,t,i,o,"add"),n=D(i,r,s,o,e,a),'<td role="gridcell" '+n+">"+s+"</td>"},F=function(e,t,i,o,a){var s='<input role="checkbox" type="checkbox" id="jqg_'+r.p.id+"_"+e+'" '+a+' name="jqg_'+r.p.id+"_"+e+'"'+(o?'checked="checked"':"")+"/>",n=D(t,i,"",null,e,!0);return'<td role="gridcell" '+n+">"+s+"</td>"},S=function(e,t,i,r,o){var a=(parseInt(i,10)-1)*parseInt(r,10)+1+t,s=D(e,t,a,null,t,!0);return'<td role="gridcell" '+o+" "+s+">"+a+"</td>"},k=function(e){var t,i,o=[],a=0;for(i=0;i<r.p.colModel.length;i++)t=r.p.colModel[i],"cb"!==t.name&&"subgrid"!==t.name&&"rn"!==t.name&&(o[a]="local"===e?t.name:"xml"===e||"xmlstring"===e?t.xmlmap||t.name:t.jsonmap||t.name,r.p.keyName!==!1&&t.key===!0&&(r.p.keyName=o[a]),a++);return o},R=function(e){var t=r.p.remapColumns;return t&&t.length||(t=$.map(r.p.colModel,function(e,t){
return t})),e&&(t=$.map(t,function(t){return e>t?null:t-e})),t},M=function(e,t){var i;this.p.deepempty?$(this.rows).slice(1).remove():(i=this.rows.length>0?this.rows[0]:null,$(this.firstChild).empty().append(i)),e&&this.p.scroll&&($(this.grid.bDiv.firstChild).css({height:"auto"}),$(this.grid.bDiv.firstChild.firstChild).css({height:"0px",display:"none"}),0!==this.grid.bDiv.scrollTop&&(this.grid.bDiv.scrollTop=0)),t===!0&&this.p.treeGrid&&!this.p.loadonce&&(this.p.data=[],this.p._index={})},N=function(){var e,t,i,o,a,s,n,l,d,p,c,u=r.p,h=u.data,g=h.length,f=u.localReader,m=u.colModel,v=f.cell,j=(u.multiselect===!0?1:0)+(u.subGrid===!0?1:0)+(u.rownumbers===!0?1:0),b=u.scroll?$.jgrid.randId():1;if("local"===u.datatype&&f.repeatitems===!0)for(d=R(j),p=k("local"),o=u.keyIndex===!1?$.isFunction(f.id)?f.id.call(r,h):f.id:u.keyIndex,e=0;g>e;e++){for(i=h[e],a=$.jgrid.getAccessor(i,o),void 0===a&&("number"==typeof o&&null!=m[o+j]&&(a=$.jgrid.getAccessor(i,m[o+j].name)),void 0===a&&(a=b+e,v&&(s=$.jgrid.getAccessor(i,v)||i,a=null!=s&&void 0!==s[o]?s[o]:a,s=null))),l={},l[f.id]=a,v&&(i=$.jgrid.getAccessor(i,v)||i),c=$.isArray(i)?d:p,t=0;t<c.length;t++)n=$.jgrid.getAccessor(i,c[t]),l[m[t+j].name]=n;$.extend(!0,h[e],l)}},O=function(){var e,t,i,o=r.p.data.length;for(e=r.p.keyName===!1||r.p.loadonce===!0?r.p.localReader.id:r.p.keyName,r.p._index=[],t=0;o>t;t++)i=$.jgrid.getAccessor(r.p.data[t],e),void 0===i&&(i=String(t+1)),r.p._index[i]=t},T=function(e,t,i,o,a){var s,n="-1",l="",d=t?"display:none;":"",p=$(r).triggerHandler("jqGridRowAttr",[o,a,e]);if("object"!=typeof p&&(p=$.isFunction(r.p.rowattr)?r.p.rowattr.call(r,o,a,e):"string"==typeof r.p.rowattr&&null!=$.jgrid.rowattr&&$.isFunction($.jgrid.rowattr[r.p.rowattr])?$.jgrid.rowattr[r.p.rowattr].call(r,o,a,e):{}),!$.isEmptyObject(p)){p.hasOwnProperty("id")&&(e=p.id,delete p.id),p.hasOwnProperty("tabindex")&&(n=p.tabindex,delete p.tabindex),p.hasOwnProperty("style")&&(d+=p.style,delete p.style),p.hasOwnProperty("class")&&(i+=" "+p["class"],delete p["class"]);try{delete p.role}catch(c){}for(s in p)p.hasOwnProperty(s)&&(l+=" "+s+"="+p[s])}return'<tr role="row" id="'+e+'" tabindex="'+n+'" class="'+i+'"'+(""===d?"":' style="'+d+'"')+l+">"},P=function(e,t,i,o){var a=new Date,s="local"!==r.p.datatype&&r.p.loadonce||"xmlstring"===r.p.datatype,n="_id_",l=r.p.xmlReader,d="local"===r.p.datatype?"local":"xml";if(s&&(r.p.data=[],r.p._index={},r.p.localReader.id=n),r.p.reccount=0,$.isXMLDoc(e)){-1!==r.p.treeANode||r.p.scroll?t=t>1?t:1:(M.call(r,!1,!0),t=1);var u,h,g,f,m,v,j,b,w,y,x=$(r),q=0,D=r.p.multiselect===!0?1:0,C=0,I=r.p.rownumbers===!0?1:0,N=[],O={},P=[],A=r.p.altRows===!0?r.p.altclass:"",E=p(c,"rowBox",!0,"jqgrow ui-row-"+r.p.direction);r.p.subGrid===!0&&(C=1,f=$.jgrid.getMethod("addSubGridCell")),l.repeatitems||(N=k(d)),m=r.p.keyName===!1?$.isFunction(l.id)?l.id.call(r,e):l.id:r.p.keyName,v=-1===String(m).indexOf("[")?N.length?function(e,t){return $(m,e).text()||t}:function(e,t){return $(l.cell,e).eq(m).text()||t}:function(e,t){return e.getAttribute(m.replace(/[\[\]]/g,""))||t},r.p.userData={},r.p.page=_($.jgrid.getXmlData(e,l.page),r.p.page),r.p.lastpage=_($.jgrid.getXmlData(e,l.total),1),r.p.records=_($.jgrid.getXmlData(e,l.records)),$.isFunction(l.userdata)?r.p.userData=l.userdata.call(r,e)||{}:$.jgrid.getXmlData(e,l.userdata,!0).each(function(){r.p.userData[this.getAttribute("name")]=$(this).text()});var U=$.jgrid.getXmlData(e,l.root,!0);U=$.jgrid.getXmlData(U,l.row,!0),U||(U=[]);var z,B=U.length,H=0,L=[],V=parseInt(r.p.rowNum,10),W=r.p.scroll?$.jgrid.randId():1,Q=$("#"+$.jgrid.jqID(r.p.id)+" tbody:first");if(B>0&&r.p.page<=0&&(r.p.page=1),U&&B){o&&(V*=o+1);var X,Y=$.isFunction(r.p.afterInsertRow),K=!1,J=I?p(c,"rownumBox",!1,"jqgrid-rownum"):"",Z=D?p(c,"multiBox",!1,"cbox"):"";for(r.p.grouping&&(K=r.p.groupingView.groupCollapse===!0,X=$.jgrid.getMethod("groupingPrepare"));B>H;){b=U[H],w=v(b,W+H),w=r.p.idPrefix+w,z=0===t?0:t+1,y=E+((z+H)%2===1?" "+A:"");var ee=P.length;if(P.push(""),I&&P.push(S(0,H,r.p.page,r.p.rowNum,J)),D&&P.push(F(w,I,H,!1,Z)),C&&P.push(f.call(x,D+I,H+t)),l.repeatitems){j||(j=R(D+C+I));var te=$.jgrid.getXmlData(b,l.cell,!0);$.each(j,function(e){var i=te[this];return!!i&&(g=i.textContent||i.text,O[r.p.colModel[e+D+C+I].name]=g,void P.push(G(w,g,e+D+C+I,H+t,b,O)))})}else for(u=0;u<N.length;u++)g=$.jgrid.getXmlData(b,N[u]),O[r.p.colModel[u+D+C+I].name]=g,P.push(G(w,g,u+D+C+I,H+t,b,O));if(P[ee]=T(w,K,y,O,b),P.push("</tr>"),r.p.grouping&&(L.push(P),r.p.groupingView._locgr||X.call(x,O,H),P=[]),(s||r.p.treeGrid===!0&&!r.p._ald)&&(O[n]=$.jgrid.stripPref(r.p.idPrefix,w),r.p.data.push(O),r.p._index[O[n]]=r.p.data.length-1),r.p.gridview===!1&&(Q.append(P.join("")),x.triggerHandler("jqGridAfterInsertRow",[w,O,b]),Y&&r.p.afterInsertRow.call(r,w,O,b),P=[]),O={},q++,H++,q===V)break}}if(r.p.gridview===!0&&(h=r.p.treeANode>-1?r.p.treeANode:0,r.p.grouping?s||(x.jqGrid("groupingRender",L,r.p.colModel.length,r.p.page,V),L=null):r.p.treeGrid===!0&&h>0?$(r.rows[h]).after(P.join("")):(Q.append(P.join("")),r.grid.cols=r.rows[0].cells)),r.p.subGrid===!0)try{x.jqGrid("addSubGrid",D+I)}catch(ie){}if(r.p.totaltime=new Date-a,q>0&&0===r.p.records&&(r.p.records=B),P=null,r.p.treeGrid===!0)try{x.jqGrid("setTreeNode",h+1,q+h+1)}catch(re){}if(r.p.reccount=q,r.p.treeANode=-1,r.p.userDataOnFooter&&x.jqGrid("footerData","set",r.p.userData,!0),s&&(r.p.records=B,r.p.lastpage=Math.ceil(B/V)),i||r.updatepager(!1,!0),s){for(;B>q;){if(b=U[q],w=v(b,q+W),w=r.p.idPrefix+w,l.repeatitems){j||(j=R(D+C+I));var oe=$.jgrid.getXmlData(b,l.cell,!0);$.each(j,function(e){var t=oe[this];return!!t&&(g=t.textContent||t.text,void(O[r.p.colModel[e+D+C+I].name]=g))})}else for(u=0;u<N.length;u++)g=$.jgrid.getXmlData(b,N[u]),O[r.p.colModel[u+D+C+I].name]=g;O[n]=$.jgrid.stripPref(r.p.idPrefix,w),r.p.grouping&&X.call(x,O,q),r.p.data.push(O),r.p._index[O[n]]=r.p.data.length-1,O={},q++}r.p.grouping&&(r.p.groupingView._locgr=!0,x.jqGrid("groupingRender",L,r.p.colModel.length,r.p.page,V),L=null)}}},A=function(e,t,i,o){var a=new Date;if(e){-1!==r.p.treeANode||r.p.scroll?t=t>1?t:1:(M.call(r,!1,!0),t=1);var s,n,l="_id_",d="local"!==r.p.datatype&&r.p.loadonce||"jsonstring"===r.p.datatype;d&&(r.p.data=[],r.p._index={},r.p.localReader.id=l),r.p.reccount=0,"local"===r.p.datatype?(s=r.p.localReader,n="local"):(s=r.p.jsonReader,n="json");var u,g,f,m,v,j,b,w,y,x,q,D,C=$(r),I=0,N=[],O=r.p.multiselect?1:0,P=r.p.subGrid===!0?1:0,A=r.p.rownumbers===!0?1:0,E=R(O+P+A),U=k(n),z={},B=[],H=r.p.altRows===!0?r.p.altclass:"",L=p(c,"rowBox",!0,"jqgrow ui-row-"+r.p.direction);r.p.page=_($.jgrid.getAccessor(e,s.page),r.p.page),r.p.lastpage=_($.jgrid.getAccessor(e,s.total),1),r.p.records=_($.jgrid.getAccessor(e,s.records)),r.p.userData=$.jgrid.getAccessor(e,s.userdata)||{},P&&(v=$.jgrid.getMethod("addSubGridCell")),y=r.p.keyName===!1?$.isFunction(s.id)?s.id.call(r,e):s.id:r.p.keyName,w=$.jgrid.getAccessor(e,s.root),null==w&&$.isArray(e)&&(w=e),w||(w=[]),b=w.length,g=0,b>0&&r.p.page<=0&&(r.p.page=1);var V,W,Q=parseInt(r.p.rowNum,10),X=r.p.scroll?$.jgrid.randId():1,Y=!1;o&&(Q*=o+1),"local"!==r.p.datatype||r.p.deselectAfterSort||(Y=!0);var K,J=$.isFunction(r.p.afterInsertRow),Z=[],ee=!1,te=$("#"+$.jgrid.jqID(r.p.id)+" tbody:first"),ie=A?p(c,"rownumBox",!1,"jqgrid-rownum"):"",re=O?p(c,"multiBox",!1,"cbox"):"";if(0==b){var oe=0;$.each(r.p.colModel,function(){0==this.hidden&&oe++}),B.push("<tr class='jqgrow ui-row-ltr ui-widget-content' role='row'><td  style='text-align:center;' colspan='"+oe+"' role='gridcell'>No records to view</td></tr>")}else for(r.p.grouping&&(ee=r.p.groupingView.groupCollapse===!0,K=$.jgrid.getMethod("groupingPrepare"));b>g;){if(m=w[g],q=$.jgrid.getAccessor(m,y),void 0===q&&("number"==typeof y&&null!=r.p.colModel[y+O+P+A]&&(q=$.jgrid.getAccessor(m,r.p.colModel[y+O+P+A].name)),void 0===q&&(q=X+g,0===N.length&&s.cell))){var ae=$.jgrid.getAccessor(m,s.cell)||m;q=null!=ae&&void 0!==ae[y]?ae[y]:q,ae=null}q=r.p.idPrefix+q,V=1===t?0:t,D=L+((V+g)%2===1?" "+H:""),Y&&(W=r.p.multiselect?-1!==$.inArray(q,r.p.selarrrow):q===r.p.selrow);var se=B.length;for(B.push(""),A&&B.push(S(0,g,r.p.page,r.p.rowNum,ie)),O&&B.push(F(q,A,g,W,re)),P&&B.push(v.call(C,O+A,g+t)),j=U,s.repeatitems&&(s.cell&&(m=$.jgrid.getAccessor(m,s.cell)||m),$.isArray(m)&&(j=E)),f=0;f<j.length;f++)u=$.jgrid.getAccessor(m,j[f]),z[r.p.colModel[f+O+P+A].name]=u,B.push(G(q,u,f+O+P+A,g+t,m,z));if(D+=W?" "+h:"",B[se]=T(q,ee,D,z,m),B.push("</tr>"),r.p.grouping&&(Z.push(B),r.p.groupingView._locgr||K.call(C,z,g),B=[]),(d||r.p.treeGrid===!0&&!r.p._ald)&&(z[l]=$.jgrid.stripPref(r.p.idPrefix,q),r.p.data.push(z),r.p._index[z[l]]=r.p.data.length-1),r.p.gridview===!1&&(te.append(B.join("")),C.triggerHandler("jqGridAfterInsertRow",[q,z,m]),J&&r.p.afterInsertRow.call(r,q,z,m),B=[]),z={},I++,g++,I===Q)break}if(r.p.gridview===!0&&(x=r.p.treeANode>-1?r.p.treeANode:0,r.p.grouping?d||(C.jqGrid("groupingRender",Z,r.p.colModel.length,r.p.page,Q),Z=null):r.p.treeGrid===!0&&x>0?$(r.rows[x]).after(B.join("")):(te.append(B.join("")),r.grid.cols=r.rows[0].cells)),r.p.subGrid===!0)try{C.jqGrid("addSubGrid",O+A)}catch(ne){}if(r.p.totaltime=new Date-a,I>0&&0===r.p.records&&(r.p.records=b),B=null,r.p.treeGrid===!0)try{C.jqGrid("setTreeNode",x+1,I+x+1)}catch(le){}if(r.p.reccount=I,r.p.treeANode=-1,r.p.userDataOnFooter&&C.jqGrid("footerData","set",r.p.userData,!0),d&&(r.p.records=b,r.p.lastpage=Math.ceil(b/Q)),i||r.updatepager(!1,!0),d){for(;b>I&&w[I];){if(m=w[I],q=$.jgrid.getAccessor(m,y),void 0===q&&("number"==typeof y&&null!=r.p.colModel[y+O+P+A]&&(q=$.jgrid.getAccessor(m,r.p.colModel[y+O+P+A].name)),void 0===q&&(q=X+I,0===N.length&&s.cell))){var de=$.jgrid.getAccessor(m,s.cell)||m;q=null!=de&&void 0!==de[y]?de[y]:q,de=null}if(m){for(q=r.p.idPrefix+q,j=U,s.repeatitems&&(s.cell&&(m=$.jgrid.getAccessor(m,s.cell)||m),$.isArray(m)&&(j=E)),f=0;f<j.length;f++)z[r.p.colModel[f+O+P+A].name]=$.jgrid.getAccessor(m,j[f]);z[l]=$.jgrid.stripPref(r.p.idPrefix,q),r.p.grouping&&K.call(C,z,I),r.p.data.push(z),r.p._index[z[l]]=r.p.data.length-1,z={}}I++}r.p.grouping&&(r.p.groupingView._locgr=!0,C.jqGrid("groupingRender",Z,r.p.colModel.length,r.p.page,Q),Z=null)}}},E=function(){function e(t){var i,o,a,s,n,l,p=0;if(null!=t.groups){for(o=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase(),o&&v.orBegin(),i=0;i<t.groups.length;i++){p>0&&o&&v.or();try{e(t.groups[i])}catch(c){alert(c)}p++}o&&v.orEnd()}if(null!=t.rules)try{for(a=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase(),a&&v.orBegin(),i=0;i<t.rules.length;i++)n=t.rules[i],s=t.groupOp.toString().toUpperCase(),m[n.op]&&n.field&&(p>0&&s&&"OR"===s&&(v=v.or()),l=d[n.field],"date"===l.stype&&l.srcfmt&&l.newfmt&&l.srcfmt!==l.newfmt&&(n.data=$.jgrid.parseDate.call(r,l.newfmt,n.data,l.srcfmt)),v=m[n.op](v,s)(n.field,n.data,d[n.field])),p++;a&&v.orEnd()}catch(u){alert(u)}}var t,i,o,a,s=r.p.multiSort?[]:"",n=[],l=!1,d={},p=[],c=[];if($.isArray(r.p.data)){var u,h,g,f=!!r.p.grouping&&r.p.groupingView;if($.each(r.p.colModel,function(){if(i=this.sorttype||"text",g=this.index||this.name,"date"===i||"datetime"===i?(this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?(t=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:$.jgrid.getRegional(r,"formatter.date.srcformat"),o=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:$.jgrid.getRegional(r,"formatter.date.newformat")):t=o=this.datefmt||"Y-m-d",d[g]={stype:i,srcfmt:t,newfmt:o,sfunc:this.sortfunc||null}):d[g]={stype:i,srcfmt:"",newfmt:"",sfunc:this.sortfunc||null},r.p.grouping)for(h=0,u=f.groupField.length;u>h;h++)this.name===f.groupField[h]&&(p[h]=d[g],c[h]=g);r.p.multiSort||l||g!==r.p.sortname||(s=g,l=!0)}),r.p.multiSort&&(s=j,n=b),r.p.treeGrid&&r.p._sort)return void $(r).jqGrid("SortTree",s,r.p.sortorder,d[s].stype||"text",d[s].srcfmt||"");var m={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().equals:e.andNot().equals},"in":function(e){return e.equals},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},v=$.jgrid.from.call(r,r.p.data);if(r.p.ignoreCase&&(v=v.ignoreCase()),r.p.search===!0){var w=r.p.postData.filters;if(w)"string"==typeof w&&(w=$.jgrid.parse(w)),e(w);else try{a=d[r.p.postData.searchField],"date"===a.stype&&a.srcfmt&&a.newfmt&&a.srcfmt!==a.newfmt&&(r.p.postData.searchString=$.jgrid.parseDate.call(r,a.newfmt,r.p.postData.searchString,a.srcfmt)),v=m[r.p.postData.searchOper](v)(r.p.postData.searchField,r.p.postData.searchString,d[r.p.postData.searchField])}catch(y){}}else r.p.treeGrid&&"nested"===r.p.treeGridModel&&v.orderBy(r.p.treeReader.left_field,"asc","integer","",null);if(r.p.treeGrid&&"adjacency"===r.p.treeGridModel&&(u=0,s=null),r.p.grouping)for(h=0;u>h;h++)v.orderBy(c[h],f.groupOrder[h],p[h].stype,p[h].srcfmt);r.p.multiSort?$.each(s,function(e){v.orderBy(this,n[e],d[this].stype,d[this].srcfmt,d[this].sfunc)}):s&&r.p.sortorder&&l&&("DESC"===r.p.sortorder.toUpperCase()?v.orderBy(r.p.sortname,"d",d[s].stype,d[s].srcfmt,d[s].sfunc):v.orderBy(r.p.sortname,"a",d[s].stype,d[s].srcfmt,d[s].sfunc));var x=v.select(),q=parseInt(r.p.rowNum,10),_=x.length,D=parseInt(r.p.page,10),C=Math.ceil(_/q),I={};if((r.p.search||r.p.resetsearch)&&r.p.grouping&&r.p.groupingView._locgr){r.p.groupingView.groups=[];var G,F,S,k=$.jgrid.getMethod("groupingPrepare");if(r.p.footerrow&&r.p.userDataOnFooter){for(F in r.p.userData)r.p.userData.hasOwnProperty(F)&&(r.p.userData[F]=0);S=!0}for(G=0;_>G;G++){if(S)for(F in r.p.userData)r.p.userData.hasOwnProperty(F)&&(r.p.userData[F]+=parseFloat(x[G][F]||0));k.call($(r),x[G],G,q)}}return x=r.p.treeGrid&&r.p.search?$(r).jqGrid("searchTree",x):x.slice((D-1)*q,D*q),v=null,d=null,I[r.p.localReader.total]=C,I[r.p.localReader.page]=D,I[r.p.localReader.records]=_,I[r.p.localReader.root]=x,I[r.p.localReader.userdata]=r.p.userData,x=null,I}},U=function(e,t){var i,o,a,s,n,l,d,h,f="",m=r.p.pager?$.jgrid.jqID(r.p.pager.substr(1)):"",v=m?"_"+m:"",j=r.p.toppager?"_"+r.p.toppager.substr(1):"";if(a=parseInt(r.p.page,10)-1,0>a&&(a=0),a*=parseInt(r.p.rowNum,10),n=a+r.p.reccount,r.p.scroll){var b=$("tbody:first > tr:gt(0)",r.grid.bDiv);a=n-b.length,r.p.reccount=b.length;var w=b.outerHeight()||r.grid.prevRowHeight;if(w){var y=a*w,x=parseInt(r.p.records,10)*w;$(">div:first",r.grid.bDiv).css({height:x}).children("div:first").css({height:y,display:y?"":"none"}),0===r.grid.bDiv.scrollTop&&r.p.page>1&&(r.grid.bDiv.scrollTop=r.p.rowNum*(r.p.page-1)*w)}r.grid.bDiv.scrollLeft=r.grid.hDiv.scrollLeft}if(f=r.p.pager||"",f+=r.p.toppager?f?","+r.p.toppager:r.p.toppager:""){if(d=$.jgrid.getRegional(r,"formatter.integer"),i=_(r.p.page),o=_(r.p.lastpage),$(".selbox",f)[this.p.useProp?"prop":"attr"]("disabled",!1),r.p.pginput===!0&&($("#input"+v).html($.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",r.p.pgtext)||"","<input "+p(c,"pgInput",!1,"ui-pg-input")+" type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(m)+"'></span>")),r.p.toppager&&$("#input_t"+j).html($.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",r.p.pgtext)||"","<input "+p(c,"pgInput",!1,"ui-pg-input")+" type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(m)+"_toppager'></span>")),$(".ui-pg-input",f).val(r.p.page),h=r.p.toppager?"#sp_1"+v+",#sp_1"+v+"_toppager":"#sp_1"+v,$(h).html($.fmatter?$.fmatter.util.NumberFormat(r.p.lastpage,d):r.p.lastpage)),r.p.viewrecords)if(0===r.p.reccount)$(".ui-paging-info",f).html($.jgrid.getRegional(r,"defaults.emptyrecords",r.p.emptyrecords));else{s=a+1,l=r.p.records,$.fmatter&&(s=$.fmatter.util.NumberFormat(s,d),n=$.fmatter.util.NumberFormat(n,d),l=$.fmatter.util.NumberFormat(l,d));var q=$.jgrid.getRegional(r,"defaults.recordtext",r.p.recordtext);$(".ui-paging-info",f).html($.jgrid.template(q,s,n,l))}r.p.pgbuttons===!0&&(0>=i&&(i=o=0),1===i||0===i?($("#first"+v+", #prev"+v).addClass(u).removeClass(g),r.p.toppager&&$("#first_t"+j+", #prev_t"+j).addClass(u).removeClass(g)):($("#first"+v+", #prev"+v).removeClass(u),r.p.toppager&&$("#first_t"+j+", #prev_t"+j).removeClass(u)),i===o||0===i?($("#next"+v+", #last"+v).addClass(u).removeClass(g),r.p.toppager&&$("#next_t"+j+", #last_t"+j).addClass(u).removeClass(g)):($("#next"+v+", #last"+v).removeClass(u),r.p.toppager&&$("#next_t"+j+", #last_t"+j).removeClass(u)))}e===!0&&r.p.rownumbers===!0&&$(">td.jqgrid-rownum",r.rows).each(function(e){$(this).html(a+1+e)}),t&&r.p.jqgdnd&&$(r).jqGrid("gridDnD","updateDnD"),$(r).triggerHandler("jqGridGridComplete"),$.isFunction(r.p.gridComplete)&&r.p.gridComplete.call(r),$(r).triggerHandler("jqGridAfterGridComplete")},z=function(){r.grid.hDiv.loading=!0,r.p.hiddengrid||$(r).jqGrid("progressBar",{method:"show",loadtype:r.p.loadui,htmlcontent:$.jgrid.getRegional(r,"defaults.loadtext",r.p.loadtext)})},B=function(){r.grid.hDiv.loading=!1,$(r).jqGrid("progressBar",{method:"hide",loadtype:r.p.loadui})},H=function(e){if(!r.grid.hDiv.loading){var t,i,o=r.p.scroll&&e===!1,a={},s=r.p.prmNames;r.p.page<=0&&(r.p.page=Math.min(1,r.p.lastpage)),null!==s.search&&(a[s.search]=r.p.search),null!==s.nd&&(a[s.nd]=(new Date).getTime()),null!==s.rows&&(a[s.rows]=r.p.rowNum),null!==s.page&&(a[s.page]=r.p.page),null!==s.sort&&(a[s.sort]=r.p.sortname),null!==s.order&&(a[s.order]=r.p.sortorder),null!==r.p.rowTotal&&null!==s.totalrows&&(a[s.totalrows]=r.p.rowTotal);var n=$.isFunction(r.p.loadComplete),l=n?r.p.loadComplete:null,d=0;if(e=e||1,e>1?null!==s.npage?(a[s.npage]=e,d=e-1,e=1):l=function(t){r.p.page++,r.grid.hDiv.loading=!1,n&&r.p.loadComplete.call(r,t),H(e-1)}:null!==s.npage&&delete r.p.postData[s.npage],r.p.grouping){$(r).jqGrid("groupingSetup");var p,c=r.p.groupingView,u="";for(p=0;p<c.groupField.length;p++){var h=c.groupField[p];$.each(r.p.colModel,function(e,t){t.name===h&&t.index&&(h=t.index)}),u+=h+" "+c.groupOrder[p]+", "}a[s.sort]=u+a[s.sort]}$.extend(r.p.postData,a);var g=r.p.scroll?r.rows.length-1:1,f=$(r).triggerHandler("jqGridBeforeRequest");if(f===!1||"stop"===f)return;if($.isFunction(r.p.datatype))return void r.p.datatype.call(r,r.p.postData,"load_"+r.p.id,g,e,d);if($.isFunction(r.p.beforeRequest)&&(f=r.p.beforeRequest.call(r),void 0===f&&(f=!0),f===!1))return;switch(t=r.p.datatype.toLowerCase()){case"json":case"jsonp":case"xml":case"script":$.ajax($.extend({url:r.p.url,type:r.p.mtype,dataType:t,data:$.isFunction(r.p.serializeGridData)?r.p.serializeGridData.call(r,r.p.postData):r.p.postData,success:function(i,a,s){return $.isFunction(r.p.beforeProcessing)&&r.p.beforeProcessing.call(r,i,a,s)===!1?void B():("xml"===t?P(i,g,e>1,d):A(i,g,e>1,d),$(r).triggerHandler("jqGridLoadComplete",[i]),l&&l.call(r,i),$(r).triggerHandler("jqGridAfterLoadComplete",[i]),o&&r.grid.populateVisible(),(r.p.loadonce||r.p.treeGrid)&&(r.p.datatype="local"),i=null,void(1===e&&B()))},error:function(t,i,o){$.isFunction(r.p.loadError)&&r.p.loadError.call(r,t,i,o),1===e&&B(),t=null},beforeSend:function(e,t){var i=!0;return $.isFunction(r.p.loadBeforeSend)&&(i=r.p.loadBeforeSend.call(r,e,t)),void 0===i&&(i=!0),i!==!1&&void z()}},$.jgrid.ajaxOptions,r.p.ajaxGridOptions));break;case"xmlstring":z(),i="string"!=typeof r.p.datastr?r.p.datastr:$.parseXML(r.p.datastr),P(i),$(r).triggerHandler("jqGridLoadComplete",[i]),n&&r.p.loadComplete.call(r,i),$(r).triggerHandler("jqGridAfterLoadComplete",[i]),r.p.datatype="local",r.p.datastr=null,B();break;case"jsonstring":z(),i="string"==typeof r.p.datastr?$.jgrid.parse(r.p.datastr):r.p.datastr,A(i),$(r).triggerHandler("jqGridLoadComplete",[i]),n&&r.p.loadComplete.call(r,i),$(r).triggerHandler("jqGridAfterLoadComplete",[i]),r.p.datatype="local",r.p.datastr=null,B();break;case"local":case"clientside":z(),r.p.datatype="local",r.p._ald=!0;var m=E();A(m,g,e>1,d),$(r).triggerHandler("jqGridLoadComplete",[m]),l&&l.call(r,m),$(r).triggerHandler("jqGridAfterLoadComplete",[m]),o&&r.grid.populateVisible(),B(),r.p._ald=!1}r.p._sort=!1}},L=function(e){$("#cb_"+$.jgrid.jqID(r.p.id),r.grid.hDiv)[r.p.useProp?"prop":"attr"]("checked",e);var t=r.p.frozenColumns?r.p.id+"_frozen":"";t&&$("#cb_"+$.jgrid.jqID(r.p.id),r.grid.fhDiv)[r.p.useProp?"prop":"attr"]("checked",e)},V=function(e,t){var i,o,a,s,l,d,h,f="<td class='ui-pg-button "+u+"'><span class='ui-separator'></span></td>",v="",j="<table class='ui-pg-table ui-common-table ui-paging-pager'><tbody><tr>",b="",w=function(e,t){var i;return $.isFunction(r.p.onPaging)&&(i=r.p.onPaging.call(r,e,t)),"stop"!==i&&(r.p.selrow=null,r.p.multiselect&&(r.p.selarrrow=[],L(!1)),r.p.savedRow=[],!0)};if(e=e.substr(1),t+="_"+e,i="pg_"+e,o=e+"_left",a=e+"_center",s=e+"_right",$("#"+$.jgrid.jqID(e)).append("<div id='"+i+"' class='ui-pager-control' role='group'><table "+p(c,"pagerTable",!1,"ui-pg-table ui-common-table ui-pager-table")+"><tbody><tr><td id='"+o+"' align='left'></td><td id='"+a+"' align='center' style='white-space:pre;'></td><td id='"+s+"' align='right'></td></tr></tbody></table></div>").attr("dir","ltr"),r.p.rowList.length>0){b='<td dir="'+n+'">',b+="<select "+p(c,"pgSelectBox",!1,"ui-pg-selbox")+' role="listbox" title="'+($.jgrid.getRegional(r,"defaults.pgrecs",r.p.pgrecs)||"")+'">';var y;for(h=0;h<r.p.rowList.length;h++)y=r.p.rowList[h].toString().split(":"),1===y.length&&(y[1]=y[0]),b+='<option role="option" value="'+y[0]+'"'+(_(r.p.rowNum,0)===_(y[0],0)?' selected="selected"':"")+">"+y[1]+"</option>";b+="</select></td>"}if("rtl"===n&&(j+=b),r.p.pginput===!0&&(v="<td id='input"+t+"' dir='"+n+"'>"+$.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",r.p.pgtext)||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(e)+"'></span>")+"</td>"),r.p.pgbuttons===!0){var x=["first"+t,"prev"+t,"next"+t,"last"+t],q=p(c,"pgButtonBox",!0,"ui-pg-button"),D=[$.jgrid.getRegional(r,"defaults.pgfirst",r.p.pgfirst)||"",$.jgrid.getRegional(r,"defaults.pgprev",r.p.pgprev)||"",$.jgrid.getRegional(r,"defaults.pgnext",r.p.pgnext)||"",$.jgrid.getRegional(r,"defaults.pglast",r.p.pglast)||""];"rtl"===n&&(x.reverse(),D.reverse()),j+="<td id='"+x[0]+"' class='"+q+"' title='"+D[0]+"'><span "+p(c,"icon_first",!1,m)+"></span></td>",j+="<td id='"+x[1]+"' class='"+q+"'  title='"+D[1]+"'><span "+p(c,"icon_prev",!1,m)+"></span></td>",j+=""!==v?f+v+f:"",j+="<td id='"+x[2]+"' class='"+q+"' title='"+D[2]+"'><span "+p(c,"icon_next",!1,m)+"></span></td>",j+="<td id='"+x[3]+"' class='"+q+"' title='"+D[3]+"'><span "+p(c,"icon_end",!1,m)+"></span></td>"}else""!==v&&(j+=v);"ltr"===n&&(j+=b),j+="</tr></tbody></table>",r.p.viewrecords===!0&&$("td#"+e+"_"+r.p.recordpos,"#"+i).append("<div dir='"+n+"' style='text-align:"+r.p.recordpos+"' class='ui-paging-info'></div>"),$("td#"+e+"_"+r.p.pagerpos,"#"+i).append(j),d=$("#gbox_"+$.jgrid.jqID(r.p.id)).css("font-size")||"11px",$("#gbox_"+$.jgrid.jqID(r.p.id)).append("<div id='testpg' "+p(c,"entrieBox",!1,"ui-jqgrid")+" style='font-size:"+d+";visibility:hidden;' ></div>"),l=$(j).clone().appendTo("#testpg").width(),$("#testpg").remove(),l>0&&(""!==v&&(l+=50),$("td#"+e+"_"+r.p.pagerpos,"#"+i).width(l)),r.p._nvtd=[],r.p._nvtd[0]=l?Math.floor((r.p.width-l)/2):Math.floor(r.p.width/3),r.p._nvtd[1]=0,j=null,$(".ui-pg-selbox","#"+i).bind("change",function(){return!!w("records",this)&&(r.p.page=Math.round(r.p.rowNum*(r.p.page-1)/this.value-.5)+1,r.p.rowNum=this.value,r.p.pager&&$(".ui-pg-selbox",r.p.pager).val(this.value),r.p.toppager&&$(".ui-pg-selbox",r.p.toppager).val(this.value),H(),!1)}),r.p.pgbuttons===!0&&($(".ui-pg-button","#"+i).hover(function(){$(this).hasClass(u)?this.style.cursor="default":($(this).addClass(g),this.style.cursor="pointer")},function(){$(this).hasClass(u)||($(this).removeClass(g),this.style.cursor="default")}),$("#first"+$.jgrid.jqID(t)+", #prev"+$.jgrid.jqID(t)+", #next"+$.jgrid.jqID(t)+", #last"+$.jgrid.jqID(t)).click(function(){if($(this).hasClass(u))return!1;var e=_(r.p.page,1),i=_(r.p.lastpage,1),o=!1,a=!0,s=!0,n=!0,l=!0;return 0===i||1===i?(a=!1,s=!1,n=!1,l=!1):i>1&&e>=1?1===e?(a=!1,s=!1):e===i&&(n=!1,l=!1):i>1&&0===e&&(n=!1,l=!1,e=i-1),!!w(this.id.split("_")[0],this)&&(this.id==="first"+t&&a&&(r.p.page=1,o=!0),this.id==="prev"+t&&s&&(r.p.page=e-1,o=!0),this.id==="next"+t&&n&&(r.p.page=e+1,o=!0),this.id==="last"+t&&l&&(r.p.page=i,o=!0),o&&H(),!1)})),r.p.pginput===!0&&$("#"+i).on("keypress","input.ui-pg-input",function(e){var t=e.charCode||e.keyCode||0;return 13===t?!!w("user",this)&&($(this).val(_($(this).val(),1)),r.p.page=$(this).val()>0?$(this).val():r.p.page,H(),!1):this})},W=function(e,t){var i,o=r.p.colModel,a=r.p.frozenColumns?t:r.grid.headers[e].el,s="";$("span.ui-grid-ico-sort",a).addClass(u),$(a).attr("aria-selected","false"),i=o[e].index||o[e].name,o[e].lso?"asc"===o[e].lso?(o[e].lso+="-desc",s="desc"):"desc"===o[e].lso?(o[e].lso+="-asc",s="asc"):("asc-desc"===o[e].lso||"desc-asc"===o[e].lso)&&(o[e].lso=""):o[e].lso=s=o[e].firstsortorder||"asc",s?($("span.s-ico",a).show(),$("span.ui-icon-"+s,a).removeClass(u),$(a).attr("aria-selected","true")):r.p.viewsortcols[0]||$("span.s-ico",a).hide();var n=j.indexOf(i);-1===n?(j.push(i),b.push(s)):s?b[n]=s:(b.splice(n,1),j.splice(n,1)),r.p.sortorder="",r.p.sortname="";for(var l=0,d=j.length;d>l;l++)l>0&&(r.p.sortname+=", "),r.p.sortname+=j[l],l!==d-1&&(r.p.sortname+=" "+b[l]);r.p.sortorder=b[d-1]},Q=function(e,t,i,o,a){if(r.p.colModel[t].sortable&&!(r.p.savedRow.length>0)){if(i||(r.p.lastsort===t&&""!==r.p.sortname?"asc"===r.p.sortorder?r.p.sortorder="desc":"desc"===r.p.sortorder&&(r.p.sortorder="asc"):r.p.sortorder=r.p.colModel[t].firstsortorder||"asc",r.p.page=1),r.p.multiSort)W(t,a);else{if(o){if(r.p.lastsort===t&&r.p.sortorder===o&&!i)return;r.p.sortorder=o}var s,n=r.grid.headers[r.p.lastsort]?r.grid.headers[r.p.lastsort].el:null,l=r.p.frozenColumns?a:r.grid.headers[t].el,d="single"===r.p.viewsortcols[1];s=$(n).find("span.ui-grid-ico-sort"),s.addClass(u),d&&$(s).css("display","none"),$(n).attr("aria-selected","false"),r.p.frozenColumns&&(s=r.grid.fhDiv.find("span.ui-grid-ico-sort"),s.addClass(u),d&&s.css("display","none"),r.grid.fhDiv.find("th").attr("aria-selected","false")),s=$(l).find("span.ui-icon-"+r.p.sortorder),s.removeClass(u),d&&s.css("display",""),$(l).attr("aria-selected","true"),r.p.viewsortcols[0]||(r.p.lastsort!==t?(r.p.frozenColumns&&r.grid.fhDiv.find("span.s-ico").hide(),$("span.s-ico",n).hide(),$("span.s-ico",l).show()):""===r.p.sortname&&$("span.s-ico",l).show()),e=e.substring(5+r.p.id.length+1),r.p.sortname=r.p.colModel[t].index||e}if("stop"===$(r).triggerHandler("jqGridSortCol",[r.p.sortname,t,r.p.sortorder]))return void(r.p.lastsort=t);if($.isFunction(r.p.onSortCol)&&"stop"===r.p.onSortCol.call(r,r.p.sortname,t,r.p.sortorder))return void(r.p.lastsort=t);if("local"===r.p.datatype?r.p.deselectAfterSort&&$(r).jqGrid("resetSelection"):(r.p.selrow=null,r.p.multiselect&&L(!1),r.p.selarrrow=[],r.p.savedRow=[]),r.p.scroll){var p=r.grid.bDiv.scrollLeft;M.call(r,!0,!1),r.grid.hDiv.scrollLeft=p}r.p.subGrid&&"local"===r.p.datatype&&$("td.sgexpanded","#"+$.jgrid.jqID(r.p.id)).each(function(){$(this).trigger("click")}),r.p._sort=!0,H(),r.p.lastsort=t,r.p.sortname!==e&&t&&(r.p.lastsort=t)}},X=function(){var e,t,i,a,s=0,n=$.jgrid.cell_width?0:_(r.p.cellLayout,0),l=0,d=_(r.p.scrollOffset,0),p=!1,c=0;$.each(r.p.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),r.p.grouping&&r.p.autowidth){var e=$.inArray(this.name,r.p.groupingView.groupField);e>=0&&r.p.groupingView.groupColumnShow.length>e&&(this.hidden=!r.p.groupingView.groupColumnShow[e])}this.widthOrg=t=_(this.width,0),this.hidden===!1&&(s+=t+n,this.fixed?c+=t+n:l++)}),isNaN(r.p.width)&&(r.p.width=s+(r.p.shrinkToFit!==!1||isNaN(r.p.height)?0:d)),o.width=r.p.width,r.p.tblwidth=s,r.p.shrinkToFit===!1&&r.p.forceFit===!0&&(r.p.forceFit=!1),r.p.shrinkToFit===!0&&l>0&&(i=o.width-n*l-c,isNaN(r.p.height)||(i-=d,p=!0),s=0,$.each(r.p.colModel,function(o){this.hidden!==!1||this.fixed||(t=Math.round(i*this.width/(r.p.tblwidth-n*l-c)),this.width=t,s+=t,e=o)}),a=0,p?o.width-c-(s+n*l)!==d&&(a=o.width-c-(s+n*l)-d):p||1===Math.abs(o.width-c-(s+n*l))||(a=o.width-c-(s+n*l)),r.p.colModel[e].width+=a,r.p.tblwidth=s+a+n*l+c,r.p.tblwidth>r.p.width&&(r.p.colModel[e].width-=r.p.tblwidth-parseInt(r.p.width,10),r.p.tblwidth=r.p.width))},Y=function(e){var t,i=e,o=e;for(t=e+1;t<r.p.colModel.length;t++)if(r.p.colModel[t].hidden!==!0){o=t;break}return o-i},K=function(e){var t=$(r.grid.headers[e].el),i=[t.position().left+t.outerWidth()];return"rtl"===r.p.direction&&(i[0]=r.p.width-i[0]),i[0]-=r.grid.bDiv.scrollLeft,i.push($(r.grid.hDiv).position().top),i.push($(r.grid.bDiv).offset().top-$(r.grid.hDiv).offset().top+$(r.grid.bDiv).height()),i},J=function(e){var t,i=r.grid.headers,o=$.jgrid.getCellIndex(e);for(t=0;t<i.length;t++)if(e===i[t].el){o=t;break}return o};for(this.p.id=this.id,-1===$.inArray(r.p.multikey,q)&&(r.p.multikey=!1),r.p.keyName=!1,l=0;l<r.p.colModel.length;l++)x="string"==typeof r.p.colModel[l].template?null!=$.jgrid.cmTemplate&&"object"==typeof $.jgrid.cmTemplate[r.p.colModel[l].template]?$.jgrid.cmTemplate[r.p.colModel[l].template]:{}:r.p.colModel[l].template,r.p.colModel[l]=$.extend(!0,{},r.p.cmTemplate,x||{},r.p.colModel[l]),r.p.keyName===!1&&r.p.colModel[l].key===!0&&(r.p.keyName=r.p.colModel[l].name);if(r.p.sortorder=r.p.sortorder.toLowerCase(),$.jgrid.cell_width=$.jgrid.cellWidth(),r.p.grouping===!0&&(r.p.scroll=!1,r.p.rownumbers=!1,r.p.treeGrid=!1,r.p.gridview=!0),this.p.treeGrid===!0){try{$(this).jqGrid("setTreeGrid")}catch(Z){}"local"!==r.p.datatype&&(r.p.localReader={id:"_id_"})}if(this.p.subGrid)try{$(r).jqGrid("setSubGrid")}catch(ee){}this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:$.jgrid.cell_width?r.p.multiselectWidth+r.p.cellLayout:r.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:r.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),r.p.xmlReader=$.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},r.p.xmlReader),r.p.jsonReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},r.p.jsonReader),r.p.localReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},r.p.localReader),r.p.scroll&&(r.p.pgbuttons=!1,r.p.pginput=!1,r.p.rowList=[]),r.p.data.length&&(N(),O());var te,ie,re,oe,ae,se,ne,le,de="<thead><tr class='ui-jqgrid-labels' role='row'>",pe="",ce="",ue="";if(r.p.shrinkToFit===!0&&r.p.forceFit===!0)for(l=r.p.colModel.length-1;l>=0;l--)if(!r.p.colModel[l].hidden){r.p.colModel[l].resizable=!1;break}if("horizontal"===r.p.viewsortcols[1]?(ce=" ui-i-asc",ue=" ui-i-desc"):"single"===r.p.viewsortcols[1]&&(ce=" ui-single-sort-asc",ue=" ui-single-sort-desc",pe=" style='display:none'",r.p.viewsortcols[0]=!1),te=v?"class='ui-th-div-ie'":"",le="<span class='s-ico' style='display:none'>",le+="<span sort='asc'  class='ui-grid-ico-sort ui-icon-asc"+ce+" ui-sort-"+n+" "+u+" "+m+" "+p(c,"icon_asc",!0)+"'"+pe+"></span>",le+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+ue+" ui-sort-"+n+" "+u+" "+m+" "+p(c,"icon_desc",!0)+"'"+pe+"></span></span>",
r.p.multiSort&&r.p.sortname)for(j=r.p.sortname.split(","),l=0;l<j.length;l++)w=$.trim(j[l]).split(" "),j[l]=$.trim(w[0]),b[l]=w[1]?$.trim(w[1]):r.p.sortorder||"asc";for(l=0;l<this.p.colNames.length;l++){var he=r.p.headertitles?' title="'+$.jgrid.stripHtml(r.p.colNames[l])+'"':"";de+="<th id='"+r.p.id+"_"+r.p.colModel[l].name+"' role='columnheader' "+p(c,"headerBox",!1,"ui-th-column ui-th-"+n)+" "+he+">",ie=r.p.colModel[l].index||r.p.colModel[l].name,de+="<div id='jqgh_"+r.p.id+"_"+r.p.colModel[l].name+"' "+te+">"+r.p.colNames[l],r.p.colModel[l].width?r.p.colModel[l].width=parseInt(r.p.colModel[l].width,10):r.p.colModel[l].width=150,"boolean"!=typeof r.p.colModel[l].title&&(r.p.colModel[l].title=!0),r.p.colModel[l].lso="",ie===r.p.sortname&&(r.p.lastsort=l),r.p.multiSort&&(w=$.inArray(ie,j),-1!==w&&(r.p.colModel[l].lso=b[w])),de+=le+"</div></th>"}if(de+="</tr></thead>",le=null,$(this).append(de),$("thead tr:first th",this).hover(function(){$(this).addClass(g)},function(){$(this).removeClass(g)}),this.p.multiselect){var ge,fe=[];$("#cb_"+$.jgrid.jqID(r.p.id),this).bind("click",function(){r.p.selarrrow=[];var e=r.p.frozenColumns===!0?r.p.id+"_frozen":"";this.checked?($(r.rows).each(function(t){t>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass(u)||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id))[r.p.useProp?"prop":"attr"]("checked",!0),$(this).addClass(h).attr("aria-selected","true"),r.p.selarrrow.push(this.id),r.p.selrow=this.id,e&&($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id),r.grid.fbDiv)[r.p.useProp?"prop":"attr"]("checked",!0),$("#"+$.jgrid.jqID(this.id),r.grid.fbDiv).addClass(h))))}),ge=!0,fe=[]):($(r.rows).each(function(t){t>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass(u)||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id))[r.p.useProp?"prop":"attr"]("checked",!1),$(this).removeClass(h).attr("aria-selected","false"),fe.push(this.id),e&&($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id),r.grid.fbDiv)[r.p.useProp?"prop":"attr"]("checked",!1),$("#"+$.jgrid.jqID(this.id),r.grid.fbDiv).removeClass(h))))}),r.p.selrow=null,ge=!1),$(r).triggerHandler("jqGridSelectAll",[ge?r.p.selarrrow:fe,ge]),$.isFunction(r.p.onSelectAll)&&r.p.onSelectAll.call(r,ge?r.p.selarrrow:fe,ge)})}if(r.p.autowidth===!0){var me=$(y).innerWidth();r.p.width=me>0?me:"nw"}X(),$(y).css("width",o.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+r.p.id+"'>&#160;</div>"),r.p.scrollPopUp&&$(y).append("<div "+p(c,"scrollBox",!1,"loading ui-scroll-popup")+" id='scroll_g"+r.p.id+"'></div>"),$(d).css("width",o.width+"px"),de=$("thead:first",r).get(0);var ve="";r.p.footerrow&&(ve+="<table role='presentation' style='width:"+r.p.tblwidth+"px' "+p(c,"footerTable",!1,"ui-jqgrid-ftable ui-common-table")+"><tbody><tr role='row' "+p(c,"footerBox",!1,"footrow footrow-"+n)+">");var je=$("tr:first",de),be="<tr class='jqgfirstrow' role='row'>";if(r.p.disableClick=!1,$("th",je).each(function(e){re=r.p.colModel[e].width,void 0===r.p.colModel[e].resizable&&(r.p.colModel[e].resizable=!0),r.p.colModel[e].resizable?(oe=document.createElement("span"),$(oe).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+n).css("cursor","col-resize"),$(this).addClass(r.p.resizeclass)):oe="",$(this).css("width",re+"px").prepend(oe),oe=null;var t="";r.p.colModel[e].hidden&&($(this).css("display","none"),t="display:none;"),be+="<td role='gridcell' style='height:0px;width:"+re+"px;"+t+"'></td>",o.headers[e]={width:re,el:this},pe=r.p.colModel[e].sortable,"boolean"!=typeof pe&&(r.p.colModel[e].sortable=!0,pe=!0);var i=r.p.colModel[e].name;"cb"!==i&&"subgrid"!==i&&"rn"!==i&&r.p.viewsortcols[2]&&$(">div",this).addClass("ui-jqgrid-sortable"),pe&&(r.p.multiSort?r.p.viewsortcols[0]?($("div span.s-ico",this).show(),r.p.colModel[e].lso&&$("div span.ui-icon-"+r.p.colModel[e].lso,this).removeClass(u).css("display","")):r.p.colModel[e].lso&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+r.p.colModel[e].lso,this).removeClass(u).css("display","")):r.p.viewsortcols[0]?($("div span.s-ico",this).show(),e===r.p.lastsort&&$("div span.ui-icon-"+r.p.sortorder,this).removeClass(u).css("display","")):e===r.p.lastsort&&""!==r.p.sortname&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+r.p.sortorder,this).removeClass(u).css("display",""))),r.p.footerrow&&(ve+="<td role='gridcell' "+D(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length){var t=J(this);return r.p.forceFit===!0&&(r.p.nv=Y(t)),o.dragStart(t,e,K(t)),!1}}).click(function(e){if(r.p.disableClick)return r.p.disableClick=!1,!1;var t,i,o="th>div.ui-jqgrid-sortable";r.p.viewsortcols[2]||(o="th>div>span>span.ui-grid-ico-sort");var a=$(e.target).closest(o);if(1===a.length){var s;if(r.p.frozenColumns){var n=$(this)[0].id.substring(r.p.id.length+1);$(r.p.colModel).each(function(e){return this.name===n?(s=e,!1):void 0})}else s=J(this);return r.p.viewsortcols[2]||(t=!0,i=a.attr("sort")),null!=s&&Q($("div",this)[0].id,s,t,i,this),!1}}),r.p.sortable&&$.fn.sortable)try{$(r).jqGrid("sortableColumns",je)}catch(we){}r.p.footerrow&&(ve+="</tr></tbody></table>"),be+="</tr>",ne=document.createElement("tbody"),this.appendChild(ne),$(this).addClass(p(c,"rowTable",!0,"ui-jqgrid-btable ui-common-table")).append(be),be=null;var ye=$("<table "+p(c,"headerTable",!1,"ui-jqgrid-htable ui-common-table")+" style='width:"+r.p.tblwidth+"px' role='presentation' aria-labelledby='gbox_"+this.id+"'></table>").append(de),xe=!(!r.p.caption||r.p.hiddengrid!==!0),qe=$("<div class='ui-jqgrid-hbox"+("rtl"===n?"-rtl":"")+"'></div>");de=null,o.hDiv=document.createElement("div"),o.hDiv.style.width=o.width+"px",o.hDiv.className=p(c,"headerDiv",!0,"ui-jqgrid-hdiv"),$(o.hDiv).append(qe),$(qe).append(ye),ye=null,xe&&$(o.hDiv).hide(),r.p.pager&&("string"==typeof r.p.pager?"#"!==r.p.pager.substr(0,1)&&(r.p.pager="#"+r.p.pager):r.p.pager="#"+$(r.p.pager).attr("id"),$(r.p.pager).css({width:o.width+"px"}).addClass(p(c,"pagerBox",!0,"ui-jqgrid-pager")).appendTo(y),xe&&$(r.p.pager).hide(),V(r.p.pager,"")),r.p.cellEdit===!1&&r.p.hoverrows===!0&&$(r).bind("mouseover",function(e){se=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(se).attr("class")&&$(se).addClass(g)}).bind("mouseout",function(e){se=$(e.target).closest("tr.jqgrow"),$(se).removeClass(g)});var _e,$e,De;$(r).before(o.hDiv).click(function(e){if(ae=e.target,se=$(ae,r.rows).closest("tr.jqgrow"),0===$(se).length||se[0].className.indexOf(u)>-1||($(ae,r).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==r.id)return this;var t=$(ae).hasClass("cbox"),i=$(r).triggerHandler("jqGridBeforeSelectRow",[se[0].id,e]);if(i=i!==!1&&"stop"!==i,$.isFunction(r.p.beforeSelectRow)){var o=r.p.beforeSelectRow.call(r,se[0].id,e);(o===!1||"stop"===o)&&(i=!1)}if("A"!==ae.tagName&&("INPUT"!==ae.tagName&&"TEXTAREA"!==ae.tagName&&"OPTION"!==ae.tagName&&"SELECT"!==ae.tagName||t))if(_e=se[0].id,ae=$(ae).closest("tr.jqgrow>td"),ae.length>0&&($e=$.jgrid.getCellIndex(ae),De=$(ae).closest("td,th").html(),$(r).triggerHandler("jqGridCellSelect",[_e,$e,De,e]),$.isFunction(r.p.onCellSelect)&&r.p.onCellSelect.call(r,_e,$e,De,e)),r.p.cellEdit!==!0){if(i)if(r.p.multikey)e[r.p.multikey]?$(r).jqGrid("setSelection",_e,!0,e):r.p.multiselect&&t&&(t=$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+_e).is(":checked"),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+_e)[r.p.useProp?"prop":"attr"]("checked",!t));else if(r.p.multiselect&&r.p.multiboxonly)if(t)$(r).jqGrid("setSelection",_e,!0,e);else{var a=r.p.frozenColumns?r.p.id+"_frozen":"";$(r.p.selarrrow).each(function(e,t){var i=$(r).jqGrid("getGridRowById",t);i&&$(i).removeClass(h),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t))[r.p.useProp?"prop":"attr"]("checked",!1),a&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(a)).removeClass(h),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(a))[r.p.useProp?"prop":"attr"]("checked",!1))}),r.p.selarrrow=[],$(r).jqGrid("setSelection",_e,!0,e)}else $(r).jqGrid("setSelection",_e,!0,e)}else if(r.p.multiselect&&t&&i)$(r).jqGrid("setSelection",_e,!0,e);else if(ae.length>0)try{$(r).jqGrid("editCell",se[0].rowIndex,$e,!0)}catch(s){}}).bind("reloadGrid",function(e,t){if(r.p.treeGrid===!0&&(r.p.datatype=r.p.treedatatype),t=t||{},t.current&&r.grid.selectionPreserver(r),"local"===r.p.datatype?($(r).jqGrid("resetSelection"),r.p.data.length&&(N(),O())):r.p.treeGrid||(r.p.selrow=null,r.p.multiselect&&(r.p.selarrrow=[],L(!1)),r.p.savedRow=[]),r.p.scroll&&M.call(r,!0,!1),t.page){var i=t.page;i>r.p.lastpage&&(i=r.p.lastpage),1>i&&(i=1),r.p.page=i,r.grid.prevRowHeight?r.grid.bDiv.scrollTop=(i-1)*r.grid.prevRowHeight*r.p.rowNum:r.grid.bDiv.scrollTop=0}return r.grid.prevRowHeight&&r.p.scroll&&void 0===t.page?(delete r.p.lastpage,r.grid.populateVisible()):r.grid.populate(),r.p.inlineNav===!0&&$(r).jqGrid("showAddEditButtons"),!1}).dblclick(function(e){if(ae=e.target,se=$(ae,r.rows).closest("tr.jqgrow"),0!==$(se).length){_e=se[0].rowIndex,$e=$.jgrid.getCellIndex(ae);var t=$(r).triggerHandler("jqGridDblClickRow",[$(se).attr("id"),_e,$e,e]);return null!=t?t:$.isFunction(r.p.ondblClickRow)&&(t=r.p.ondblClickRow.call(r,$(se).attr("id"),_e,$e,e),null!=t)?t:void 0}}).bind("contextmenu",function(e){if(ae=e.target,se=$(ae,r.rows).closest("tr.jqgrow"),0!==$(se).length){r.p.multiselect||$(r).jqGrid("setSelection",se[0].id,!0,e),_e=se[0].rowIndex,$e=$.jgrid.getCellIndex(ae);var t=$(r).triggerHandler("jqGridRightClickRow",[$(se).attr("id"),_e,$e,e]);return null!=t?t:$.isFunction(r.p.onRightClickRow)&&(t=r.p.onRightClickRow.call(r,$(se).attr("id"),_e,$e,e),null!=t)?t:void 0}}),o.bDiv=document.createElement("div"),v&&"auto"===String(r.p.height).toLowerCase()&&(r.p.height="100%"),$(o.bDiv).append($('<div style="position:relative;"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:r.p.height+(isNaN(r.p.height)?"":"px"),width:o.width+"px"}).scroll(o.scrollGrid),$("table:first",o.bDiv).css({width:r.p.tblwidth+"px"}),$.support.tbody||2===$("tbody",this).length&&$("tbody:gt(0)",this).remove(),r.p.multikey&&($.jgrid.msie?$(o.bDiv).bind("selectstart",function(){return!1}):$(o.bDiv).bind("mousedown",function(){return!1})),xe&&$(o.bDiv).hide();var Ce=m+" "+p(c,"icon_caption_open",!0),Ie=m+" "+p(c,"icon_caption_close",!0);o.cDiv=document.createElement("div");var Ge=r.p.hidegrid===!0?$("<a role='link' class='ui-jqgrid-titlebar-close HeaderButton "+f+"' title='"+($.jgrid.getRegional(r,"defaults.showhide",r.p.showhide)||"")+"' />").hover(function(){Ge.addClass(g)},function(){Ge.removeClass(g)}).append("<span class='ui-jqgrid-headlink "+Ce+"'></span>").css("rtl"===n?"left":"right","0px"):"";if($(o.cDiv).append(Ge).append("<span class='ui-jqgrid-title'>"+r.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===n?"-rtl":"")+" "+p(c,"gridtitleBox",!0)),$(o.cDiv).insertBefore(o.hDiv),r.p.toolbar[0]){var Fe=p(c,"customtoolbarBox",!0,"ui-userdata");o.uDiv=document.createElement("div"),"top"===r.p.toolbar[1]?$(o.uDiv).insertBefore(o.hDiv):"bottom"===r.p.toolbar[1]&&$(o.uDiv).insertAfter(o.hDiv),"both"===r.p.toolbar[1]?(o.ubDiv=document.createElement("div"),$(o.uDiv).addClass(Fe+" ui-userdata-top").attr("id","t_"+this.id).insertBefore(o.hDiv).width(o.width),$(o.ubDiv).addClass(Fe+" ui-userdata-bottom").attr("id","tb_"+this.id).insertAfter(o.hDiv).width(o.width),xe&&$(o.ubDiv).hide()):$(o.uDiv).width(o.width).addClass(Fe+" ui-userdata-top").attr("id","t_"+this.id),xe&&$(o.uDiv).hide()}if(r.p.toppager&&(r.p.toppager=$.jgrid.jqID(r.p.id)+"_toppager",o.topDiv=$("<div id='"+r.p.toppager+"'></div>")[0],r.p.toppager="#"+r.p.toppager,$(o.topDiv).addClass(p(c,"toppagerBox",!0,"ui-jqgrid-toppager")).width(o.width).insertBefore(o.hDiv),V(r.p.toppager,"_t")),r.p.footerrow&&(o.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],qe=$("<div class='ui-jqgrid-hbox"+("rtl"===n?"-rtl":"")+"'></div>"),$(o.sDiv).append(qe).width(o.width).insertAfter(o.hDiv),$(qe).append(ve),o.footers=$(".ui-jqgrid-ftable",o.sDiv)[0].rows[0].cells,r.p.rownumbers&&(o.footers[0].className=p(c,"rownumBox",!0,"jqgrid-rownum")),xe&&$(o.sDiv).hide()),qe=null,r.p.caption){var Se=r.p.datatype;r.p.hidegrid===!0&&($(".ui-jqgrid-titlebar-close",o.cDiv).click(function(e){var t,i=$.isFunction(r.p.onHeaderClick),a=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-toppager, .ui-jqgrid-pager, .ui-jqgrid-sdiv",s=this;return r.p.toolbar[0]===!0&&("both"===r.p.toolbar[1]&&(a+=", #"+$(o.ubDiv).attr("id")),a+=", #"+$(o.uDiv).attr("id")),t=$(a,"#gview_"+$.jgrid.jqID(r.p.id)).length,"visible"===r.p.gridstate?$(a,"#gbox_"+$.jgrid.jqID(r.p.id)).slideUp("fast",function(){t--,0===t&&($("span",s).removeClass(Ce).addClass(Ie),r.p.gridstate="hidden",$("#gbox_"+$.jgrid.jqID(r.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(r.p.id)).hide(),$(r).triggerHandler("jqGridHeaderClick",[r.p.gridstate,e]),i&&(xe||r.p.onHeaderClick.call(r,r.p.gridstate,e)))}):"hidden"===r.p.gridstate&&$(a,"#gbox_"+$.jgrid.jqID(r.p.id)).slideDown("fast",function(){t--,0===t&&($("span",s).removeClass(Ie).addClass(Ce),xe&&(r.p.datatype=Se,H(),xe=!1),r.p.gridstate="visible",$("#gbox_"+$.jgrid.jqID(r.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(r.p.id)).show(),$(r).triggerHandler("jqGridHeaderClick",[r.p.gridstate,e]),i&&(xe||r.p.onHeaderClick.call(r,r.p.gridstate,e)))}),!1}),xe&&(r.p.datatype="local",$(".ui-jqgrid-titlebar-close",o.cDiv).trigger("click")))}else $(o.cDiv).hide(),r.p.toppager||$(o.hDiv).addClass(p(r.p.styleUI+".common","cornertop",!0));if($(o.hDiv).after(o.bDiv).mousemove(function(e){return o.resizing?(o.dragMove(e),!1):void 0}),$(".ui-jqgrid-labels",o.hDiv).bind("selectstart",function(){return!1}),$(document).bind("mouseup.jqGrid"+r.p.id,function(){return!o.resizing||(o.dragEnd(!0),!1)}),r.formatCol=D,r.sortData=Q,r.updatepager=U,r.refreshIndex=O,r.setHeadCheckBox=L,r.constructTr=T,r.formatter=function(e,t,i,r,o){return I(e,t,i,r,o)},$.extend(o,{populate:H,emptyRows:M,beginReq:z,endReq:B}),this.grid=o,r.addXmlData=function(e){P(e)},r.addJSONData=function(e){A(e)},this.grid.cols=this.rows[0].cells,$(r).triggerHandler("jqGridInitGrid"),$.isFunction(r.p.onInitGrid)&&r.p.onInitGrid.call(r),H(),r.p.hiddengrid=!1,r.p.responsive){var ke="onorientationchange"in window,Re=ke?"orientationchange":"resize";$(window).on(Re,function(){$(r).jqGrid("resizeGrid")})}}})},$.jgrid.extend({getGridParam:function(e,t){var i,r=this[0];if(r&&r.grid){if(void 0===t&&"string"!=typeof t&&(t="jqGrid"),i=r.p,"jqGrid"!==t)try{i=$(r).data(t)}catch(o){i=r.p}return e?void 0!==i[e]?i[e]:null:i}},setGridParam:function(e,t){return this.each(function(){if(null==t&&(t=!1),this.grid&&"object"==typeof e)if(t===!0){var i=$.extend({},this.p,e);this.p=i}else $.extend(!0,this.p,e)})},getGridRowById:function(e){var t;return this.each(function(){try{for(var i=this.rows.length;i--;)if(e.toString()===this.rows[i].id){t=this.rows[i];break}}catch(r){t=$(this.grid.bDiv).find("#"+$.jgrid.jqID(e))}}),t},getDataIDs:function(){var e,t=[],i=0,r=0;return this.each(function(){if(e=this.rows.length,e&&e>0)for(;e>i;)$(this.rows[i]).hasClass("jqgrow")&&(t[r]=this.rows[i].id,r++),i++}),t},setSelection:function(e,t,i){return this.each(function(){function r(e){var t=$(c.grid.bDiv)[0].clientHeight,i=$(c.grid.bDiv)[0].scrollTop,r=$(c.rows[e]).position().top,o=c.rows[e].clientHeight;r+o>=t+i?$(c.grid.bDiv)[0].scrollTop=r-(t+i)+o+i:t+i>r&&i>r&&($(c.grid.bDiv)[0].scrollTop=r)}var o,a,s,n,l,d,p,c=this,u=$.jgrid.getMethod("getStyleUI"),h=u(c.p.styleUI+".common","highlight",!0),g=u(c.p.styleUI+".common","disabled",!0);void 0!==e&&(t=t!==!1,a=$(c).jqGrid("getGridRowById",e),!a||!a.className||a.className.indexOf(g)>-1||(c.p.scrollrows===!0&&(s=$(c).jqGrid("getGridRowById",e).rowIndex,s>=0&&r(s)),c.p.frozenColumns===!0&&(d=c.p.id+"_frozen"),c.p.multiselect?(c.setHeadCheckBox(!1),c.p.selrow=a.id,n=$.inArray(c.p.selrow,c.p.selarrrow),-1===n?("ui-subgrid"!==a.className&&$(a).addClass(h).attr("aria-selected","true"),o=!0,c.p.selarrrow.push(c.p.selrow)):("ui-subgrid"!==a.className&&$(a).removeClass(h).attr("aria-selected","false"),o=!1,c.p.selarrrow.splice(n,1),l=c.p.selarrrow[0],c.p.selrow=void 0===l?null:l),$("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(a.id))[c.p.useProp?"prop":"attr"]("checked",o),d&&(-1===n?$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d)).addClass(h):$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d)).removeClass(h),$("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d))[c.p.useProp?"prop":"attr"]("checked",o)),t&&($(c).triggerHandler("jqGridSelectRow",[a.id,o,i]),c.p.onSelectRow&&c.p.onSelectRow.call(c,a.id,o,i))):"ui-subgrid"!==a.className&&(c.p.selrow!==a.id?(p=$(c).jqGrid("getGridRowById",c.p.selrow),p&&$(p).removeClass(h).attr({"aria-selected":"false",tabindex:"-1"}),$(a).addClass(h).attr({"aria-selected":"true",tabindex:"0"}),d&&($("#"+$.jgrid.jqID(c.p.selrow),"#"+$.jgrid.jqID(d)).removeClass(h),$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d)).addClass(h)),o=!0):o=!1,c.p.selrow=a.id,t&&($(c).triggerHandler("jqGridSelectRow",[a.id,o,i]),c.p.onSelectRow&&c.p.onSelectRow.call(c,a.id,o,i)))))})},resetSelection:function(e){return this.each(function(){var t,i,r=this,o=$.jgrid.getMethod("getStyleUI"),a=o(r.p.styleUI+".common","highlight",!0),s=o(r.p.styleUI+".common","hover",!0);if(r.p.frozenColumns===!0&&(i=r.p.id+"_frozen"),void 0!==e){if(t=e===r.p.selrow?r.p.selrow:e,$("#"+$.jgrid.jqID(r.p.id)+" tbody:first tr#"+$.jgrid.jqID(t)).removeClass(a).attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i)).removeClass(a),r.p.multiselect){$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(r.p.id))[r.p.useProp?"prop":"attr"]("checked",!1),i&&$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i))[r.p.useProp?"prop":"attr"]("checked",!1),r.setHeadCheckBox(!1);var n=$.inArray($.jgrid.jqID(t),r.p.selarrrow);-1!==n&&r.p.selarrrow.splice(n,1)}r.p.onUnSelectRow&&r.p.onUnSelectRow.call(r,t),t=null}else r.p.multiselect?($(r.p.selarrrow).each(function(e,t){$($(r).jqGrid("getGridRowById",t)).removeClass(a).attr("aria-selected","false"),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t))[r.p.useProp?"prop":"attr"]("checked",!1),i&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i)).removeClass(a),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i))[r.p.useProp?"prop":"attr"]("checked",!1)),r.p.onUnSelectRow&&r.p.onUnSelectRow.call(r,t)}),r.setHeadCheckBox(!1),r.p.selarrrow=[],r.p.selrow=null):r.p.selrow&&($("#"+$.jgrid.jqID(r.p.id)+" tbody:first tr#"+$.jgrid.jqID(r.p.selrow)).removeClass(a).attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(r.p.selrow),"#"+$.jgrid.jqID(i)).removeClass(a),r.p.onUnSelectRow&&r.p.onUnSelectRow.call(r,r.p.selrow),r.p.selrow=null);r.p.cellEdit===!0&&parseInt(r.p.iCol,10)>=0&&parseInt(r.p.iRow,10)>=0&&($("td:eq("+r.p.iCol+")",r.rows[r.p.iRow]).removeClass("edit-cell "+a),$(r.rows[r.p.iRow]).removeClass("selected-row "+s)),r.p.savedRow=[]})},getRowData:function(e,t){var i,r,o={},a=!1,s=0;return this.each(function(){var n,l,d=this;if(null==e)a=!0,i=[],r=d.rows.length;else{if(l=$(d).jqGrid("getGridRowById",e),!l)return o;r=2}for(t&&t===!0&&d.p.data.length>0||(t=!1);r>s;)a&&(l=d.rows[s]),$(l).hasClass("jqgrow")&&(t?o=d.p.data[d.p._index[l.id]]:$('td[role="gridcell"]',l).each(function(e){if(n=d.p.colModel[e].name,"cb"!==n&&"subgrid"!==n&&"rn"!==n)if(d.p.treeGrid===!0&&n===d.p.ExpandColumn)o[n]=$.jgrid.htmlDecode($("span:first",this).html());else try{o[n]=$.unformat.call(d,this,{rowId:l.id,colModel:d.p.colModel[e]},e)}catch(t){o[n]=$.jgrid.htmlDecode($(this).html())}}),a&&(i.push(o),o={})),s++}),i||o},delRowData:function(e){var t,i,r,o=!1;return this.each(function(){var a=this;if(t=$(a).jqGrid("getGridRowById",e),!t)return!1;if(a.p.subGrid&&(r=$(t).next(),r.hasClass("ui-subgrid")&&r.remove()),$(t).remove(),a.p.records--,a.p.reccount--,a.updatepager(!0,!1),o=!0,a.p.multiselect&&(i=$.inArray(e,a.p.selarrrow),-1!==i&&a.p.selarrrow.splice(i,1)),a.p.multiselect&&a.p.selarrrow.length>0?a.p.selrow=a.p.selarrrow[a.p.selarrrow.length-1]:a.p.selrow===e&&(a.p.selrow=null),"local"===a.p.datatype){var s=$.jgrid.stripPref(a.p.idPrefix,e),n=a.p._index[s];void 0!==n&&(a.p.data.splice(n,1),a.refreshIndex())}if(a.p.altRows===!0&&o){var l=a.p.altclass;$(a.rows).each(function(e){e%2===1?$(this).addClass(l):$(this).removeClass(l)})}}),o},setRowData:function(e,t,i){var r,o,a=!0;return this.each(function(){if(!this.grid)return!1;var s,n,l=this,d=typeof i,p={};if(n=$(this).jqGrid("getGridRowById",e),!n)return!1;if(t)try{if($(this.p.colModel).each(function(i){r=this.name;var a=$.jgrid.getAccessor(t,r);void 0!==a&&(p[r]=this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?$.unformat.date.call(l,a,this):a,s=l.formatter(e,p[r],i,t,"edit"),o=this.title?{title:$.jgrid.stripHtml(s)}:{},l.p.treeGrid===!0&&r===l.p.ExpandColumn?$("td[role='gridcell']:eq("+i+") > span:first",n).html(s).attr(o):$("td[role='gridcell']:eq("+i+")",n).html(s).attr(o))}),"local"===l.p.datatype){var c,u=$.jgrid.stripPref(l.p.idPrefix,e),h=l.p._index[u];if(l.p.treeGrid)for(c in l.p.treeReader)l.p.treeReader.hasOwnProperty(c)&&delete p[l.p.treeReader[c]];void 0!==h&&(l.p.data[h]=$.extend(!0,l.p.data[h],p)),p=null}}catch(g){a=!1}a&&("string"===d?$(n).addClass(i):null!==i&&"object"===d&&$(n).css(i),$(l).triggerHandler("jqGridAfterGridComplete"))}),a},addRowData:function(e,t,i,r){-1===$.inArray(i,["first","last","before","after"])&&(i="last");var o,a,s,n,l,d,p,c,u,h,g,f,m,v,j=!1,b="",w="",y="";return t&&($.isArray(t)?(u=!0,h=e):(t=[t],u=!1),this.each(function(){var x=this,q=t.length;l=x.p.rownumbers===!0?1:0,s=x.p.multiselect===!0?1:0,n=x.p.subGrid===!0?1:0,u||(void 0!==e?e=String(e):(e=$.jgrid.randId(),x.p.keyName!==!1&&(h=x.p.keyName,void 0!==t[0][h]&&(e=t[0][h])))),g=x.p.altclass;var _,D=0,C=$(x).jqGrid("getStyleUI",x.p.styleUI+".base","rowBox",!0,"jqgrow ui-row-"+x.p.direction),I={},G=!!$.isFunction(x.p.afterInsertRow);for(l&&(b=$(x).jqGrid("getStyleUI",x.p.styleUI+".base","rownumBox",!1,"jqgrid-rownum")),s&&(w=$(x).jqGrid("getStyleUI",x.p.styleUI+".base","multiBox",!1,"cbox"));q>D;){if(f=t[D],a=[],_=C,u){try{e=f[h],void 0===e&&(e=$.jgrid.randId())}catch(F){e=$.jgrid.randId()}_+=x.p.altRows===!0&&(x.rows.length-1)%2===0?" "+g:""}for(v=e,e=x.p.idPrefix+e,l&&(y=x.formatCol(0,1,"",null,e,!0),a[a.length]='<td role="gridcell" '+b+" "+y+">0</td>"),s&&(c='<input role="checkbox" type="checkbox" id="jqg_'+x.p.id+"_"+e+'" '+w+"/>",y=x.formatCol(l,1,"",null,e,!0),a[a.length]='<td role="gridcell" '+y+">"+c+"</td>"),n&&(a[a.length]=$(x).jqGrid("addSubGridCell",s+l,1)),p=s+n+l;p<x.p.colModel.length;p++)m=x.p.colModel[p],o=m.name,I[o]=f[o],c=x.formatter(e,$.jgrid.getAccessor(f,o),p,f),y=x.formatCol(p,1,c,f,e,I),a[a.length]='<td role="gridcell" '+y+">"+c+"</td>";if(a.unshift(x.constructTr(e,!1,_,I,f)),a[a.length]="</tr>",0===x.rows.length)$("table:first",x.grid.bDiv).append(a.join(""));else switch(i){case"last":$(x.rows[x.rows.length-1]).after(a.join("")),d=x.rows.length-1;break;case"first":$(x.rows[0]).after(a.join("")),d=1;break;case"after":d=$(x).jqGrid("getGridRowById",r),d&&($(x.rows[d.rowIndex+1]).hasClass("ui-subgrid")?$(x.rows[d.rowIndex+1]).after(a):$(d).after(a.join("")),d=d.rowIndex+1);break;case"before":d=$(x).jqGrid("getGridRowById",r),d&&($(d).before(a.join("")),d=d.rowIndex-1)}x.p.subGrid===!0&&$(x).jqGrid("addSubGrid",s+l,d),x.p.records++,x.p.reccount++,$(x).triggerHandler("jqGridAfterInsertRow",[e,f,f]),G&&x.p.afterInsertRow.call(x,e,f,f),D++,"local"===x.p.datatype&&(I[x.p.localReader.id]=v,x.p._index[v]=x.p.data.length,x.p.data.push(I),I={})}x.p.altRows!==!0||u||("last"===i?(x.rows.length-1)%2===0&&$(x.rows[x.rows.length-1]).addClass(g):$(x.rows).each(function(e){e%2===0?$(this).addClass(g):$(this).removeClass(g)})),x.updatepager(!0,!0),j=!0})),j},footerData:function(e,t,i){function r(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}var o,a,s=!1,n={};return void 0===e&&(e="get"),"boolean"!=typeof i&&(i=!0),e=e.toLowerCase(),this.each(function(){var l,d=this;return!(!d.grid||!d.p.footerrow)&&(("set"!==e||!r(t))&&(s=!0,void $(this.p.colModel).each(function(r){o=this.name,"set"===e?void 0!==t[o]&&(l=i?d.formatter("",t[o],r,t,"edit"):t[o],a=this.title?{title:$.jgrid.stripHtml(l)}:{},$("tr.footrow td:eq("+r+")",d.grid.sDiv).html(l).attr(a),s=!0):"get"===e&&(n[o]=$("tr.footrow td:eq("+r+")",d.grid.sDiv).html())})))}),"get"===e?n:s},showHideCol:function(e,t){return this.each(function(){var i,r=this,o=!1,a=$.jgrid.cell_width?0:r.p.cellLayout;if(r.grid){"string"==typeof e&&(e=[e]),t="none"!==t?"":"none";var s=""===t,n=r.p.groupHeader&&($.isArray(r.p.groupHeader)||$.isFunction(r.p.groupHeader));if(n&&$(r).jqGrid("destroyGroupHeader",!1),$(this.p.colModel).each(function(n){if(-1!==$.inArray(this.name,e)&&this.hidden===s){if(r.p.frozenColumns===!0&&this.frozen===!0)return!0;$("tr[role=row]",r.grid.hDiv).each(function(){$(this.cells[n]).css("display",t)}),$(r.rows).each(function(){$(this).hasClass("jqgroup")||$(this.cells[n]).css("display",t)}),r.p.footerrow&&$("tr.footrow td:eq("+n+")",r.grid.sDiv).css("display",t),i=parseInt(this.width,10),"none"===t?r.p.tblwidth-=i+a:r.p.tblwidth+=i+a,this.hidden=!s,o=!0,$(r).triggerHandler("jqGridShowHideCol",[s,this.name,n])}}),o===!0&&(r.p.shrinkToFit!==!0||isNaN(r.p.height)||(r.p.tblwidth+=parseInt(r.p.scrollOffset,10)),$(r).jqGrid("setGridWidth",r.p.shrinkToFit===!0?r.p.tblwidth:r.p.width)),n){var l=$.extend([],r.p.groupHeader);r.p.groupHeader=null;for(var d=0;d<l.length;d++)$(r).jqGrid("setGroupHeaders",l[d])}}})},hideCol:function(e){return this.each(function(){$(this).jqGrid("showHideCol",e,"none")})},showCol:function(e){return this.each(function(){$(this).jqGrid("showHideCol",e,"")})},remapColumns:function(e,t,i){function r(t){var i;i=t.length?$.makeArray(t):$.extend({},t),$.each(e,function(e){t[e]=i[this]})}function o(t,i){$(">tr"+(i||""),t).each(function(){var t=this,i=$.makeArray(t.cells);$.each(e,function(){var e=i[this];e&&t.appendChild(e)})})}var a=this.get(0);r(a.p.colModel),r(a.p.colNames),r(a.grid.headers),o($("thead:first",a.grid.hDiv),i&&":not(.ui-jqgrid-labels)"),t&&o($("#"+$.jgrid.jqID(a.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot"),a.p.footerrow&&o($("tbody:first",a.grid.sDiv)),a.p.remapColumns&&(a.p.remapColumns.length?r(a.p.remapColumns):a.p.remapColumns=$.makeArray(e)),a.p.lastsort=$.inArray(a.p.lastsort,e),a.p.treeGrid&&(a.p.expColInd=$.inArray(a.p.expColInd,e)),$(a).triggerHandler("jqGridRemapColumns",[e,t,i])},setGridWidth:function(e,t){return this.each(function(){if(this.grid){var i,r,o,a,s=this,n=0,l=$.jgrid.cell_width?0:s.p.cellLayout,d=0,p=!1,c=s.p.scrollOffset,u=0;if("boolean"!=typeof t&&(t=s.p.shrinkToFit),!isNaN(e)){if(e=parseInt(e,10),s.grid.width=s.p.width=e,$("#gbox_"+$.jgrid.jqID(s.p.id)).css("width",e+"px"),$("#gview_"+$.jgrid.jqID(s.p.id)).css("width",e+"px"),$(s.grid.bDiv).css("width",e+"px"),$(s.grid.hDiv).css("width",e+"px"),s.p.pager&&$(s.p.pager).css("width",e+"px"),s.p.toppager&&$(s.p.toppager).css("width",e+"px"),s.p.toolbar[0]===!0&&($(s.grid.uDiv).css("width",e+"px"),"both"===s.p.toolbar[1]&&$(s.grid.ubDiv).css("width",e+"px")),s.p.footerrow&&$(s.grid.sDiv).css("width",e+"px"),t===!1&&s.p.forceFit===!0&&(s.p.forceFit=!1),t===!0){if($.each(s.p.colModel,function(){this.hidden===!1&&(i=this.widthOrg,n+=i+l,this.fixed?u+=i+l:d++)}),0===d)return;s.p.tblwidth=n,o=e-l*d-u,isNaN(s.p.height)||($(s.grid.bDiv)[0].clientHeight<$(s.grid.bDiv)[0].scrollHeight||1===s.rows.length)&&(p=!0,o-=c),n=0;var h=s.grid.cols.length>0;if($.each(s.p.colModel,function(e){if(this.hidden===!1&&!this.fixed){if(i=this.widthOrg,i=Math.round(o*i/(s.p.tblwidth-l*d-u)),0>i)return;this.width=i,n+=i,s.grid.headers[e].width=i,s.grid.headers[e].el.style.width=i+"px",s.p.footerrow&&(s.grid.footers[e].style.width=i+"px"),h&&(s.grid.cols[e].style.width=i+"px"),r=e}}),!r)return;if(a=0,p?e-u-(n+l*d)!==c&&(a=e-u-(n+l*d)-c):1!==Math.abs(e-u-(n+l*d))&&(a=e-u-(n+l*d)),s.p.colModel[r].width+=a,s.p.tblwidth=n+a+l*d+u,s.p.tblwidth>e){var g=s.p.tblwidth-parseInt(e,10);s.p.tblwidth=e,i=s.p.colModel[r].width=s.p.colModel[r].width-g}else i=s.p.colModel[r].width;s.grid.headers[r].width=i,s.grid.headers[r].el.style.width=i+"px",h&&(s.grid.cols[r].style.width=i+"px"),s.p.footerrow&&(s.grid.footers[r].style.width=i+"px")}s.p.tblwidth&&($("table:first",s.grid.bDiv).css("width",s.p.tblwidth+"px"),$("table:first",s.grid.hDiv).css("width",s.p.tblwidth+"px"),s.grid.hDiv.scrollLeft=s.grid.bDiv.scrollLeft,s.p.footerrow&&$("table:first",s.grid.sDiv).css("width",s.p.tblwidth+"px"))}}})},setGridHeight:function(e){return this.each(function(){var t=this;if(t.grid){var i=$(t.grid.bDiv);i.css({height:e+(isNaN(e)?"":"px")}),t.p.frozenColumns===!0&&$("#"+$.jgrid.jqID(t.p.id)+"_frozen").parent().height(i.height()-16),t.p.height=e,t.p.scroll&&t.grid.populateVisible()}})},setCaption:function(e){return this.each(function(){var t=$(this).jqGrid("getStyleUI",this.p.styleUI+".common","cornertop",!0);this.p.caption=e,$(".ui-jqgrid-title, .ui-jqgrid-title-rtl",this.grid.cDiv).html(e),$(this.grid.cDiv).show(),$(this.grid.hDiv).removeClass(t)})},setLabel:function(e,t,i,r){return this.each(function(){var o=this,a=-1;if(o.grid&&void 0!==e&&($(o.p.colModel).each(function(t){return this.name===e?(a=t,!1):void 0}),a>=0)){var s=$("tr.ui-jqgrid-labels th:eq("+a+")",o.grid.hDiv);if(t){var n=$(".s-ico",s);$("[id^=jqgh_]",s).empty().html(t).append(n),o.p.colNames[a]=t}i&&("string"==typeof i?$(s).addClass(i):$(s).css(i)),"object"==typeof r&&$(s).attr(r)}})},setCell:function(e,t,i,r,o,a){return this.each(function(){var s,n,l=this,d=-1;if(l.grid&&(isNaN(t)?$(l.p.colModel).each(function(e){return this.name===t?(d=e,!1):void 0}):d=parseInt(t,10),d>=0)){var p=$(l).jqGrid("getGridRowById",e);if(p){var c=$("td:eq("+d+")",p),u=0,h=[];if(""!==i||a===!0){if(void 0!==p.cells)for(;u<p.cells.length;)h.push(p.cells[u].innerHTML),u++;if(s=l.formatter(e,i,d,h,"edit"),n=l.p.colModel[d].title?{title:$.jgrid.stripHtml(s)}:{},l.p.treeGrid&&$(".tree-wrap",$(c)).length>0?$("span",$(c)).html(s).attr(n):$(c).html(s).attr(n),"local"===l.p.datatype){var g,f=l.p.colModel[d];i=f.formatter&&"string"==typeof f.formatter&&"date"===f.formatter?$.unformat.date.call(l,i,f):i,g=l.p._index[$.jgrid.stripPref(l.p.idPrefix,e)],void 0!==g&&(l.p.data[g][f.name]=i)}}"string"==typeof r?$(c).addClass(r):r&&$(c).css(r),"object"==typeof o&&$(c).attr(o)}}})},getCell:function(e,t){var i=!1;return this.each(function(){var r=this,o=-1;if(r.grid&&(isNaN(t)?$(r.p.colModel).each(function(e){return this.name===t?(o=e,!1):void 0}):o=parseInt(t,10),o>=0)){var a=$(r).jqGrid("getGridRowById",e);if(a)try{i=$.unformat.call(r,$("td:eq("+o+")",a),{rowId:a.id,colModel:r.p.colModel[o]},o)}catch(s){i=$.jgrid.htmlDecode($("td:eq("+o+")",a).html())}}}),i},getCol:function(e,t,i){var r,o,a,s,n=[],l=0;return t="boolean"==typeof t&&t,void 0===i&&(i=!1),this.each(function(){var d=this,p=-1;if(d.grid&&(isNaN(e)?$(d.p.colModel).each(function(t){return this.name===e?(p=t,!1):void 0}):p=parseInt(e,10),p>=0)){var c=d.rows.length,u=0,h=0;if(c&&c>0){for(;c>u;){if($(d.rows[u]).hasClass("jqgrow")){try{r=$.unformat.call(d,$(d.rows[u].cells[p]),{rowId:d.rows[u].id,colModel:d.p.colModel[p]},p)}catch(g){r=$.jgrid.htmlDecode(d.rows[u].cells[p].innerHTML)}i?(s=parseFloat(r),isNaN(s)||(l+=s,void 0===a&&(a=o=s),o=Math.min(o,s),a=Math.max(a,s),h++)):t?n.push({id:d.rows[u].id,value:r}):n.push(r)}u++}if(i)switch(i.toLowerCase()){case"sum":n=l;break;case"avg":n=l/h;break;case"count":n=c-1;break;case"min":n=o;break;case"max":n=a}}}}),n},clearGridData:function(e){return this.each(function(){var t=this;if(t.grid){if("boolean"!=typeof e&&(e=!1),t.p.deepempty)$("#"+$.jgrid.jqID(t.p.id)+" tbody:first tr:gt(0)").remove();else{var i=$("#"+$.jgrid.jqID(t.p.id)+" tbody:first tr:first")[0];$("#"+$.jgrid.jqID(t.p.id)+" tbody:first").empty().append(i)}t.p.footerrow&&e&&$(".ui-jqgrid-ftable td",t.grid.sDiv).html("&#160;"),
t.p.selrow=null,t.p.selarrrow=[],t.p.savedRow=[],t.p.records=0,t.p.page=1,t.p.lastpage=0,t.p.reccount=0,t.p.data=[],t.p._index={},t.updatepager(!0,!1)}})},getInd:function(e,t){var i,r=!1;return this.each(function(){i=$(this).jqGrid("getGridRowById",e),i&&(r=t===!0?i:i.rowIndex)}),r},bindKeys:function(e){var t=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each(function(){var e=this;$("body").is("[role]")||$("body").attr("role","application"),e.p.scrollrows=t.scrollingRows,$(e).keydown(function(i){var r,o,a,s=$(e).find("tr[tabindex=0]")[0],n=e.p.treeReader.expanded_field;if(s)if(a=e.p._index[$.jgrid.stripPref(e.p.idPrefix,s.id)],37===i.keyCode||38===i.keyCode||39===i.keyCode||40===i.keyCode){if(38===i.keyCode){if(o=s.previousSibling,r="",o)if($(o).is(":hidden")){for(;o;)if(o=o.previousSibling,!$(o).is(":hidden")&&$(o).hasClass("jqgrow")){r=o.id;break}}else r=o.id;$(e).jqGrid("setSelection",r,!0,i),i.preventDefault()}if(40===i.keyCode){if(o=s.nextSibling,r="",o)if($(o).is(":hidden")){for(;o;)if(o=o.nextSibling,!$(o).is(":hidden")&&$(o).hasClass("jqgrow")){r=o.id;break}}else r=o.id;$(e).jqGrid("setSelection",r,!0,i),i.preventDefault()}37===i.keyCode&&(e.p.treeGrid&&e.p.data[a][n]&&$(s).find("div.treeclick").trigger("click"),$(e).triggerHandler("jqGridKeyLeft",[e.p.selrow]),$.isFunction(t.onLeftKey)&&t.onLeftKey.call(e,e.p.selrow)),39===i.keyCode&&(e.p.treeGrid&&!e.p.data[a][n]&&$(s).find("div.treeclick").trigger("click"),$(e).triggerHandler("jqGridKeyRight",[e.p.selrow]),$.isFunction(t.onRightKey)&&t.onRightKey.call(e,e.p.selrow))}else 13===i.keyCode?($(e).triggerHandler("jqGridKeyEnter",[e.p.selrow]),$.isFunction(t.onEnter)&&t.onEnter.call(e,e.p.selrow)):32===i.keyCode&&($(e).triggerHandler("jqGridKeySpace",[e.p.selrow]),$.isFunction(t.onSpace)&&t.onSpace.call(e,e.p.selrow))})})},unbindKeys:function(){return this.each(function(){$(this).unbind("keydown")})},getLocalRow:function(e){var t,i=!1;return this.each(function(){void 0!==e&&(t=this.p._index[$.jgrid.stripPref(this.p.idPrefix,e)],t>=0&&(i=this.p.data[t]))}),i},progressBar:function(e){return e=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},e||{}),this.each(function(){var t,i,r="show"===e.method,o=$("#load_"+$.jgrid.jqID(this.p.id)),a=$(window).scrollTop();switch(""!==e.htmlcontent&&o.html(e.htmlcontent),e.loadtype){case"disable":break;case"enable":o.toggle(r);break;case"block":$("#lui_"+$.jgrid.jqID(this.p.id)).toggle(r),o.toggle(r)}o.is(":visible")&&(t=o.offsetParent(),o.css("top",""),o.offset().top<a&&(i=Math.min(10+a-t.offset().top,t.height()-o.height()),o.css("top",i+"px")))})},getColProp:function(e){var t={},i=this[0];if(!i.grid)return!1;var r,o=i.p.colModel;for(r=0;r<o.length;r++)if(o[r].name===e){t=o[r];break}return t},setColProp:function(e,t){return this.each(function(){if(this.grid&&t){var i,r=this.p.colModel;for(i=0;i<r.length;i++)if(r[i].name===e){$.extend(!0,this.p.colModel[i],t);break}}})},sortGrid:function(e,t,i){return this.each(function(){var r,o=this,a=-1,s=!1;if(o.grid){for(e||(e=o.p.sortname),r=0;r<o.p.colModel.length;r++)if(o.p.colModel[r].index===e||o.p.colModel[r].name===e){a=r,o.p.frozenColumns===!0&&o.p.colModel[r].frozen===!0&&(s=o.grid.fhDiv.find("#"+o.p.id+"_"+e));break}if(-1!==a){var n=o.p.colModel[a].sortable;s||(s=o.grid.headers[a].el),"boolean"!=typeof n&&(n=!0),"boolean"!=typeof t&&(t=!1),n&&o.sortData("jqgh_"+o.p.id+"_"+e,a,t,i,s)}}})},setGridState:function(e){return this.each(function(){if(this.grid){var t=this,i=$(this).jqGrid("getStyleUI",this.p.styleUI+".base","icon_caption_open",!0),r=$(this).jqGrid("getStyleUI",this.p.styleUI+".base","icon_caption_close",!0);"hidden"===e?($(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+$.jgrid.jqID(t.p.id)).slideUp("fast"),t.p.pager&&$(t.p.pager).slideUp("fast"),t.p.toppager&&$(t.p.toppager).slideUp("fast"),t.p.toolbar[0]===!0&&("both"===t.p.toolbar[1]&&$(t.grid.ubDiv).slideUp("fast"),$(t.grid.uDiv).slideUp("fast")),t.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+$.jgrid.jqID(t.p.id)).slideUp("fast"),$(".ui-jqgrid-headlink",t.grid.cDiv).removeClass(i).addClass(r),t.p.gridstate="hidden"):"visible"===e&&($(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+$.jgrid.jqID(t.p.id)).slideDown("fast"),t.p.pager&&$(t.p.pager).slideDown("fast"),t.p.toppager&&$(t.p.toppager).slideDown("fast"),t.p.toolbar[0]===!0&&("both"===t.p.toolbar[1]&&$(t.grid.ubDiv).slideDown("fast"),$(t.grid.uDiv).slideDown("fast")),t.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+$.jgrid.jqID(t.p.id)).slideDown("fast"),$(".ui-jqgrid-headlink",t.grid.cDiv).removeClass(r).addClass(i),t.p.gridstate="visible")}})},setFrozenColumns:function(){return this.each(function(){if(this.grid){var e=this,t=e.p.colModel,i=0,r=t.length,o=-1,a=!1,s=$(e).jqGrid("getStyleUI",e.p.styleUI+".base","headerDiv",!0,"ui-jqgrid-hdiv"),n=$(e).jqGrid("getStyleUI",e.p.styleUI+".common","hover",!0);if(e.p.subGrid!==!0&&e.p.treeGrid!==!0&&e.p.cellEdit!==!0&&!e.p.sortable&&!e.p.scroll){for(e.p.rownumbers&&i++,e.p.multiselect&&i++;r>i&&t[i].frozen===!0;)a=!0,o=i,i++;if(o>=0&&a){var l=e.p.caption?$(e.grid.cDiv).outerHeight():0,d=$(".ui-jqgrid-htable","#gview_"+$.jgrid.jqID(e.p.id)).height();e.p.toppager&&(l+=$(e.grid.topDiv).outerHeight()),e.p.toolbar[0]===!0&&"bottom"!==e.p.toolbar[1]&&(l+=$(e.grid.uDiv).outerHeight()),e.grid.fhDiv=$('<div style="position:absolute;'+("rtl"===e.p.direction?"right:0;":"left:0;")+"top:"+l+"px;height:"+d+'px;" class="frozen-div '+s+'"></div>'),e.grid.fbDiv=$('<div style="position:absolute;'+("rtl"===e.p.direction?"right:0;":"left:0;")+"top:"+(parseInt(l,10)+parseInt(d,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>'),$("#gview_"+$.jgrid.jqID(e.p.id)).append(e.grid.fhDiv);var p=$(".ui-jqgrid-htable","#gview_"+$.jgrid.jqID(e.p.id)).clone(!0);if(e.p.groupHeader){$("tr.jqg-first-row-header, tr.jqg-third-row-header",p).each(function(){$("th:gt("+o+")",this).remove()});var c,u,h=-1,g=-1;$("tr.jqg-second-row-header th",p).each(function(){return c=parseInt($(this).attr("colspan"),10),u=parseInt($(this).attr("rowspan"),10),u&&(h++,g++),c&&(h+=c,g++),h===o?(g=o,!1):void 0}),h!==o&&(g=o),$("tr.jqg-second-row-header",p).each(function(){$("th:gt("+g+")",this).remove()})}else $("tr",p).each(function(){$("th:gt("+o+")",this).remove()});if($(p).width(1),$(e.grid.fhDiv).append(p).mousemove(function(t){return e.grid.resizing?(e.grid.dragMove(t),!1):void 0}),e.p.footerrow){var f=$(".ui-jqgrid-bdiv","#gview_"+$.jgrid.jqID(e.p.id)).height();e.grid.fsDiv=$('<div style="position:absolute;left:0px;top:'+(parseInt(l,10)+parseInt(d,10)+parseInt(f,10)+1)+'px;" class="frozen-sdiv ui-jqgrid-sdiv"></div>'),$("#gview_"+$.jgrid.jqID(e.p.id)).append(e.grid.fsDiv);var m=$(".ui-jqgrid-ftable","#gview_"+$.jgrid.jqID(e.p.id)).clone(!0);$("tr",m).each(function(){$("td:gt("+o+")",this).remove()}),$(m).width(1),$(e.grid.fsDiv).append(m)}$(e).bind("jqGridResizeStop.setFrozenColumns",function(t,i,r){var o=$(".ui-jqgrid-htable",e.grid.fhDiv);$("th:eq("+r+")",o).width(i);var a=$(".ui-jqgrid-btable",e.grid.fbDiv);if($("tr:first td:eq("+r+")",a).width(i),e.p.footerrow){var s=$(".ui-jqgrid-ftable",e.grid.fsDiv);$("tr:first td:eq("+r+")",s).width(i)}}),$("#gview_"+$.jgrid.jqID(e.p.id)).append(e.grid.fbDiv),$(e.grid.fbDiv).bind("mousewheel DOMMouseScroll",function(t){var i=$(e.grid.bDiv).scrollTop();t.originalEvent.wheelDelta>0||t.originalEvent.detail<0?$(e.grid.bDiv).scrollTop(i-25):$(e.grid.bDiv).scrollTop(i+25),t.preventDefault()}),e.p.hoverrows===!0&&$("#"+$.jgrid.jqID(e.p.id)).unbind("mouseover").unbind("mouseout"),$(e).bind("jqGridAfterGridComplete.setFrozenColumns",function(){$("#"+$.jgrid.jqID(e.p.id)+"_frozen").remove(),$(e.grid.fbDiv).height($(e.grid.bDiv).height()-16);var t=$("#"+$.jgrid.jqID(e.p.id)).clone(!0);$("tr[role=row]",t).each(function(){$("td[role=gridcell]:gt("+o+")",this).remove()}),$(t).width(1).attr("id",e.p.id+"_frozen"),$(e.grid.fbDiv).append(t),e.p.hoverrows===!0&&($("tr.jqgrow",t).hover(function(){$(this).addClass(n),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)).addClass(n)},function(){$(this).removeClass(n),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)).removeClass(n)}),$("tr.jqgrow","#"+$.jgrid.jqID(e.p.id)).hover(function(){$(this).addClass(n),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)+"_frozen").addClass(n)},function(){$(this).removeClass(n),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)+"_frozen").removeClass(n)})),t=null}),e.grid.hDiv.loading||$(e).triggerHandler("jqGridAfterGridComplete"),e.p.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){if(this.grid&&this.p.frozenColumns===!0){var e=this,t=$(e).jqGrid("getStyleUI",e.p.styleUI+".common","hover",!0);if($(e.grid.fhDiv).remove(),$(e.grid.fbDiv).remove(),e.grid.fhDiv=null,e.grid.fbDiv=null,e.p.footerrow&&($(e.grid.fsDiv).remove(),e.grid.fsDiv=null),$(this).unbind(".setFrozenColumns"),e.p.hoverrows===!0){var i;$("#"+$.jgrid.jqID(e.p.id)).bind("mouseover",function(e){i=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(i).attr("class")&&$(i).addClass(t)}).bind("mouseout",function(e){i=$(e.target).closest("tr.jqgrow"),$(i).removeClass(t)})}this.p.frozenColumns=!1}})},resizeColumn:function(e,t){return this.each(function(){var i,r,o,a=this.grid,s=this.p,n=s.colModel,l=n.length;if("string"==typeof e){for(i=0;l>i;i++)if(n[i].name===e){e=i;break}}else e=parseInt(e,10);if(t=parseInt(t,10),!("number"!=typeof e||0>e||e>n.length-1||"number"!=typeof t||t<s.minColWidth)){if(s.forceFit)for(s.nv=0,i=e+1;l>i;i++)if(n[i].hidden!==!0){s.nv=i-e;break}if(a.resizing={idx:e},r=t-a.headers[e].width,s.forceFit){if(o=a.headers[e+s.nv].width-r,o<s.minColWidth)return;a.headers[e+s.nv].newWidth=a.headers[e+s.nv].width-r}a.newWidth=s.tblwidth+r,a.headers[e].newWidth=t,a.dragEnd(!1)}})},getStyleUI:function(e,t,i,r){try{var o="",a=e.split("."),s="";switch(i||(o="class=",s='"'),null==r&&(r=""),a.length){case 1:o+=s+r+" "+$.jgrid.styleUI[a[0]][t]+s;break;case 2:o+=s+r+" "+$.jgrid.styleUI[a[0]][a[1]][t]+s}}catch(n){o=""}return $.trim(o)},resizeGrid:function(e){return this.each(function(){var t=this;void 0===e&&(e=500),setTimeout(function(){var e=$(window).width(),i=$("#gbox_"+$.jgrid.jqID(t.p.id)).parent().width(),r=t.p.width;r=e-i>3?i:e,$("#"+$.jgrid.jqID(t.p.id)).jqGrid("setGridWidth",r)},e)})}})}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base"],e):e(jQuery)}(function(e){"use strict";e.fmatter={},e.extend(e.fmatter,{isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!(!this.isString(t)&&this.isValue(t))&&(!this.isValue(t)||(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===t))}}),e.fn.fmatter=function(t,i,r,o,a){var s=i;r=e.extend({},e.jgrid.getRegional(this,"formatter"),r);try{s=e.fn.fmatter[t].call(this,i,r,o,a)}catch(n){}return s},e.fmatter.util={NumberFormat:function(t,i){if(e.fmatter.isNumber(t)||(t*=1),e.fmatter.isNumber(t)){var r,o=0>t,a=String(t),s=i.decimalSeparator||".";if(e.fmatter.isNumber(i.decimalPlaces)){var n=i.decimalPlaces,l=Math.pow(10,n);if(a=String(Math.round(t*l)/l),r=a.lastIndexOf("."),n>0)for(0>r?(a+=s,r=a.length-1):"."!==s&&(a=a.replace(".",s));a.length-1-r<n;)a+="0"}if(i.thousandsSeparator){var d=i.thousandsSeparator;r=a.lastIndexOf(s),r=r>-1?r:a.length;var p,c=a.substring(r),u=-1;for(p=r;p>0;p--)u++,u%3===0&&p!==r&&(!o||p>1)&&(c=d+c),c=a.charAt(p-1)+c;a=c}return a=i.prefix?i.prefix+a:a,a=i.suffix?a+i.suffix:a}return t}},e.fn.fmatter.defaultFormat=function(t,i){return e.fmatter.isValue(t)&&""!==t?t:i.defaultValue||"&#160;"},e.fn.fmatter.email=function(t,i){return e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):'<a href="mailto:'+t+'">'+t+"</a>"},e.fn.fmatter.checkbox=function(t,i){var r,o=e.extend({},i.checkbox);void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(o=e.extend({},o,i.colModel.formatoptions)),r=o.disabled===!0?'disabled="disabled"':"",(e.fmatter.isEmpty(t)||void 0===t)&&(t=e.fn.fmatter.defaultFormat(t,o)),t=String(t),t=(t+"").toLowerCase();var a=t.search(/(false|f|0|no|n|off|undefined)/i)<0?" checked='checked' ":"";return'<input type="checkbox" '+a+' value="'+t+'" offval="no" '+r+"/>"},e.fn.fmatter.link=function(t,i){var r={target:i.target},o="";return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(r=e.extend({},r,i.colModel.formatoptions)),r.target&&(o="target="+r.target),e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):"<a "+o+' href="'+t+'">'+t+"</a>"},e.fn.fmatter.showlink=function(t,i){var r,o={baseLinkUrl:i.baseLinkUrl,showAction:i.showAction,addParam:i.addParam||"",target:i.target,idName:i.idName},a="";return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(o=e.extend({},o,i.colModel.formatoptions)),o.target&&(a="target="+o.target),r=o.baseLinkUrl+o.showAction+"?"+o.idName+"="+i.rowId+o.addParam,e.fmatter.isString(t)||e.fmatter.isNumber(t)?"<a "+a+' href="'+r+'">'+t+"</a>":e.fn.fmatter.defaultFormat(t,i)},e.fn.fmatter.integer=function(t,i){var r=e.extend({},i.integer);return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(r=e.extend({},r,i.colModel.formatoptions)),e.fmatter.isEmpty(t)?r.defaultValue:e.fmatter.util.NumberFormat(t,r)},e.fn.fmatter.number=function(t,i){var r=e.extend({},i.number);return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(r=e.extend({},r,i.colModel.formatoptions)),e.fmatter.isEmpty(t)?r.defaultValue:e.fmatter.util.NumberFormat(t,r)},e.fn.fmatter.currency=function(t,i){var r=e.extend({},i.currency);return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(r=e.extend({},r,i.colModel.formatoptions)),e.fmatter.isEmpty(t)?r.defaultValue:e.fmatter.util.NumberFormat(t,r)},e.fn.fmatter.date=function(t,i,r,o){var a=e.extend({},i.date);return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(a=e.extend({},a,i.colModel.formatoptions)),a.reformatAfterEdit||"edit"!==o?e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):e.jgrid.parseDate.call(this,a.srcformat,t,a.newformat,a):e.fn.fmatter.defaultFormat(t,i)},e.fn.fmatter.select=function(t,i){t=String(t);var r,o,a=!1,s=[];if(void 0!==i.colModel.formatoptions?(a=i.colModel.formatoptions.value,r=void 0===i.colModel.formatoptions.separator?":":i.colModel.formatoptions.separator,o=void 0===i.colModel.formatoptions.delimiter?";":i.colModel.formatoptions.delimiter):void 0!==i.colModel.editoptions&&(a=i.colModel.editoptions.value,r=void 0===i.colModel.editoptions.separator?":":i.colModel.editoptions.separator,o=void 0===i.colModel.editoptions.delimiter?";":i.colModel.editoptions.delimiter),a){var n,l=1==(null!=i.colModel.editoptions&&i.colModel.editoptions.multiple===!0),d=[];if(l&&(d=t.split(","),d=e.map(d,function(t){return e.trim(t)})),e.fmatter.isString(a)){var p,c=a.split(o),u=0;for(p=0;p<c.length;p++)if(n=c[p].split(r),n.length>2&&(n[1]=e.map(n,function(e,t){return t>0?e:void 0}).join(r)),l)e.inArray(n[0],d)>-1&&(s[u]=n[1],u++);else if(e.trim(n[0])===e.trim(t)){s[0]=n[1];break}}else e.fmatter.isObject(a)&&(l?s=e.map(d,function(e){return a[e]}):s[0]=a[t]||"")}return t=s.join(", "),""===t?e.fn.fmatter.defaultFormat(t,i):t},e.fn.fmatter.rowactions=function(t){var i=e(this).closest("tr.jqgrow"),r=i.attr("id"),o=e(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),a=e("#"+o),s=a[0],n=s.p,l=n.colModel[e.jgrid.getCellIndex(this)],d=l.frozen?e("tr#"+r+" td:eq("+e.jgrid.getCellIndex(this)+") > div",a):e(this).parent(),p={extraparam:{}},c=function(t,i){e.isFunction(p.afterSave)&&p.afterSave.call(s,t,i),d.find("div.ui-inline-edit,div.ui-inline-del").show(),d.find("div.ui-inline-save,div.ui-inline-cancel").hide()},u=function(t){e.isFunction(p.afterRestore)&&p.afterRestore.call(s,t),d.find("div.ui-inline-edit,div.ui-inline-del").show(),d.find("div.ui-inline-save,div.ui-inline-cancel").hide()};void 0!==l.formatoptions&&(p=e.extend(p,l.formatoptions)),void 0!==n.editOptions&&(p.editOptions=n.editOptions),void 0!==n.delOptions&&(p.delOptions=n.delOptions),i.hasClass("jqgrid-new-row")&&(p.extraparam[n.prmNames.oper]=n.prmNames.addoper);var h={keys:p.keys,oneditfunc:p.onEdit,successfunc:p.onSuccess,url:p.url,extraparam:p.extraparam,aftersavefunc:c,errorfunc:p.onError,afterrestorefunc:u,restoreAfterError:p.restoreAfterError,mtype:p.mtype};switch(t){case"edit":a.jqGrid("editRow",r,h),d.find("div.ui-inline-edit,div.ui-inline-del").hide(),d.find("div.ui-inline-save,div.ui-inline-cancel").show(),a.triggerHandler("jqGridAfterGridComplete");break;case"save":a.jqGrid("saveRow",r,h)&&(d.find("div.ui-inline-edit,div.ui-inline-del").show(),d.find("div.ui-inline-save,div.ui-inline-cancel").hide(),a.triggerHandler("jqGridAfterGridComplete"));break;case"cancel":a.jqGrid("restoreRow",r,u),d.find("div.ui-inline-edit,div.ui-inline-del").show(),d.find("div.ui-inline-save,div.ui-inline-cancel").hide(),a.triggerHandler("jqGridAfterGridComplete");break;case"del":a.jqGrid("delGridRow",r,p.delOptions);break;case"formedit":a.jqGrid("setSelection",r),a.jqGrid("editGridRow",r,p.editOptions)}},e.fn.fmatter.actions=function(t,i){var r,o={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},a=i.rowId,s="",n=e.jgrid.getRegional(this,"nav"),l=e.jgrid.styleUI[i.styleUI||"jQueryUI"].fmatter,d=e.jgrid.styleUI[i.styleUI||"jQueryUI"].common;if(void 0!==i.colModel.formatoptions&&(o=e.extend(o,i.colModel.formatoptions)),void 0===a||e.fmatter.isEmpty(a))return"";var p="onmouseover=jQuery(this).addClass('"+d.hover+"'); onmouseout=jQuery(this).removeClass('"+d.hover+"');  ";return o.editformbutton?(r="id='jEditButton_"+a+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); "+p,s+="<div title='"+n.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+r+"><span class='"+d.icon_base+" "+l.icon_edit+"'></span></div>"):o.editbutton&&(r="id='jEditButton_"+a+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); "+p,s+="<div title='"+n.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+r+"><span class='"+d.icon_base+" "+l.icon_edit+"'></span></div>"),o.delbutton&&(r="id='jDeleteButton_"+a+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); "+p,s+="<div title='"+n.deltitle+"' style='float:left;' class='ui-pg-div ui-inline-del' "+r+"><span class='"+d.icon_base+" "+l.icon_del+"'></span></div>"),r="id='jSaveButton_"+a+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); "+p,s+="<div title='"+n.savetitle+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+r+"><span class='"+d.icon_base+" "+l.icon_save+"'></span></div>",r="id='jCancelButton_"+a+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); "+p,s+="<div title='"+n.canceltitle+"' style='float:left;display:none;' class='ui-pg-div ui-inline-cancel' "+r+"><span class='"+d.icon_base+" "+l.icon_cancel+"'></span></div>","<div style='margin-left:8px;'>"+s+"</div>"},e.unformat=function(t,i,r,o){var a,s,n=i.colModel.formatter,l=i.colModel.formatoptions||{},d=/([\.\*\_\'\(\)\{\}\+\?\\])/g,p=i.colModel.unformat||e.fn.fmatter[n]&&e.fn.fmatter[n].unformat;if(void 0!==p&&e.isFunction(p))a=p.call(this,e(t).text(),i,t);else if(void 0!==n&&e.fmatter.isString(n)){var c,u=e.jgrid.getRegional(this,"formatter")||{};switch(n){case"integer":l=e.extend({},u.integer,l),s=l.thousandsSeparator.replace(d,"\\$1"),c=new RegExp(s,"g"),a=e(t).text().replace(c,"");break;case"number":l=e.extend({},u.number,l),s=l.thousandsSeparator.replace(d,"\\$1"),c=new RegExp(s,"g"),a=e(t).text().replace(c,"").replace(l.decimalSeparator,".");break;case"currency":l=e.extend({},u.currency,l),s=l.thousandsSeparator.replace(d,"\\$1"),c=new RegExp(s,"g"),a=e(t).text(),l.prefix&&l.prefix.length&&(a=a.substr(l.prefix.length)),l.suffix&&l.suffix.length&&(a=a.substr(0,a.length-l.suffix.length)),a=a.replace(c,"").replace(l.decimalSeparator,".");break;case"checkbox":var h=i.colModel.editoptions?i.colModel.editoptions.value.split(":"):["Yes","No"];a=e("input",t).is(":checked")?h[0]:h[1];break;case"select":a=e.unformat.select(t,i,r,o);break;case"actions":return"";default:a=e(t).text()}}return void 0!==a?a:o===!0?e(t).text():e.jgrid.htmlDecode(e(t).html())},e.unformat.select=function(t,i,r,o){var a=[],s=e(t).text();if(o===!0)return s;var n=e.extend({},void 0!==i.colModel.formatoptions?i.colModel.formatoptions:i.colModel.editoptions),l=void 0===n.separator?":":n.separator,d=void 0===n.delimiter?";":n.delimiter;if(n.value){var p,c=n.value,u=n.multiple===!0,h=[];if(u&&(h=s.split(","),h=e.map(h,function(t){return e.trim(t)})),e.fmatter.isString(c)){var g,f=c.split(d),m=0;for(g=0;g<f.length;g++)if(p=f[g].split(l),p.length>2&&(p[1]=e.map(p,function(e,t){return t>0?e:void 0}).join(l)),u)e.inArray(e.trim(p[1]),h)>-1&&(a[m]=p[0],m++);else if(e.trim(p[1])===e.trim(s)){a[0]=p[0];break}}else(e.fmatter.isObject(c)||e.isArray(c))&&(u||(h[0]=s),a=e.map(h,function(t){var i;return e.each(c,function(e,r){return r===t?(i=e,!1):void 0}),void 0!==i?i:void 0}));return a.join(", ")}return s||""},e.unformat.date=function(t,i){var r=e.jgrid.getRegional(this,"formatter.date")||{};return void 0!==i.formatoptions&&(r=e.extend({},r,i.formatoptions)),e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):e.jgrid.parseDate.call(this,r.newformat,t,r.srcformat,r)}}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base","./jqModal","./jqDnR"],e):e(jQuery)}(function(e){"use strict";e.extend(e.jgrid,{showModal:function(e){e.w.show()},closeModal:function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal:function(t,i){i=e.extend({jqm:!0,gb:"",removemodal:!1,formprop:!1,form:""},i||{});var r=!(!i.gb||"string"!=typeof i.gb||"#gbox_"!==i.gb.substr(0,6))&&e("#"+i.gb.substr(6))[0];if(i.onClose){var o=r?i.onClose.call(r,t):i.onClose(t);if("boolean"==typeof o&&!o)return}if(i.formprop&&r&&i.form){var a=e(t)[0].style.height,s=e(t)[0].style.width;a.indexOf("px")>-1&&(a=parseFloat(a)),s.indexOf("px")>-1&&(s=parseFloat(s));var n,l;"edit"===i.form?(n="#"+e.jgrid.jqID("FrmGrid_"+i.gb.substr(6)),l="formProp"):"view"===i.form&&(n="#"+e.jgrid.jqID("ViewGrid_"+i.gb.substr(6)),l="viewProp"),e(r).data(l,{top:parseFloat(e(t).css("top")),left:parseFloat(e(t).css("left")),width:s,height:a,dataheight:e(n).height(),datawidth:e(n).width()})}if(e.fn.jqm&&i.jqm===!0)e(t).attr("aria-hidden","true").jqmHide();else{if(""!==i.gb)try{e(".jqgrid-overlay:first",i.gb).hide()}catch(d){}e(t).hide().attr("aria-hidden","true")}i.removemodal&&e(t).remove()},findPos:function(e){var t=0,i=0;if(e.offsetParent)do t+=e.offsetLeft,i+=e.offsetTop;while(e=e.offsetParent);return[t,i]},createModal:function(t,i,r,o,a,s,n){r=e.extend(!0,{},e.jgrid.jqModal||{},r);var l=this,d="rtl"===e(r.gbox).attr("dir"),p=e.jgrid.styleUI[r.styleUI||"jQueryUI"].modal,c=e.jgrid.styleUI[r.styleUI||"jQueryUI"].common,u=document.createElement("div");n=e.extend({},n||{}),u.className="ui-jqdialog "+p.modal,u.id=t.themodal;var h=document.createElement("div");h.className="ui-jqdialog-titlebar "+p.header,h.id=t.modalhead,e(h).append("<span class='ui-jqdialog-title'>"+r.caption+"</span>");var g=e("<a class='ui-jqdialog-titlebar-close "+c.cornerall+"'></a>").hover(function(){g.addClass(c.hover)},function(){g.removeClass(c.hover)}).append("<span class='"+c.icon_base+" "+p.icon_close+"'></span>");e(h).append(g),d?(u.dir="rtl",e(".ui-jqdialog-title",h).css("float","right"),e(".ui-jqdialog-titlebar-close",h).css("left","0.3em")):(u.dir="ltr",e(".ui-jqdialog-title",h).css("float","left"),e(".ui-jqdialog-titlebar-close",h).css("right","0.3em"));var f=document.createElement("div");e(f).addClass("ui-jqdialog-content "+p.content).attr("id",t.modalcontent),e(f).append(i),u.appendChild(f),e(u).prepend(h),s===!0?e("body").append(u):"string"==typeof s?e(s).append(u):e(u).insertBefore(o),e(u).css(n),void 0===r.jqModal&&(r.jqModal=!0);var m={};if(e.fn.jqm&&r.jqModal===!0){if(0===r.left&&0===r.top&&r.overlay){var v=[];v=e.jgrid.findPos(a),r.left=v[0]+4,r.top=v[1]+4}m.top=r.top+"px",m.left=r.left}else(0!==r.left||0!==r.top)&&(m.left=r.left,m.top=r.top+"px");if(e("a.ui-jqdialog-titlebar-close",h).click(function(){var i=e("#"+e.jgrid.jqID(t.themodal)).data("onClose")||r.onClose,o=e("#"+e.jgrid.jqID(t.themodal)).data("gbox")||r.gbox;return l.hideModal("#"+e.jgrid.jqID(t.themodal),{gb:o,jqm:r.jqModal,onClose:i,removemodal:r.removemodal||!1,formprop:!r.recreateForm||!1,form:r.form||""}),!1}),0!==r.width&&r.width||(r.width=300),0!==r.height&&r.height||(r.height=200),!r.zIndex){var j=e(o).parents("*[role=dialog]").filter(":first").css("z-index");j?r.zIndex=parseInt(j,10)+2:r.zIndex=950}var b=0;if(d&&m.left&&!s&&(b=e(r.gbox).width()-(isNaN(r.width)?0:parseInt(r.width,10))-8,m.left=parseInt(m.left,10)+parseInt(b,10)),m.left&&(m.left+="px"),e(u).css(e.extend({width:isNaN(r.width)?"auto":r.width+"px",height:isNaN(r.height)?"auto":r.height+"px",zIndex:r.zIndex,overflow:"hidden"},m)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":t.modalhead,"aria-hidden":"true"}),void 0===r.drag&&(r.drag=!0),void 0===r.resize&&(r.resize=!0),r.drag)if(e(h).css("cursor","move"),e.fn.tinyDraggable)e(u).tinyDraggable({handle:"#"+e.jgrid.jqID(h.id)});else try{e(u).draggable({handle:e("#"+e.jgrid.jqID(h.id))})}catch(w){}if(r.resize)if(e.fn.jqResize)e(u).append("<div class='jqResize "+p.resizable+" "+c.icon_base+" "+p.icon_resizable+"'></div>"),e("#"+e.jgrid.jqID(t.themodal)).jqResize(".jqResize",!!t.scrollelm&&"#"+e.jgrid.jqID(t.scrollelm));else try{e(u).resizable({handles:"se, sw",alsoResize:!!t.scrollelm&&"#"+e.jgrid.jqID(t.scrollelm)})}catch(y){}r.closeOnEscape===!0&&e(u).keydown(function(i){if(27===i.which){var o=e("#"+e.jgrid.jqID(t.themodal)).data("onClose")||r.onClose;l.hideModal("#"+e.jgrid.jqID(t.themodal),{gb:r.gbox,jqm:r.jqModal,onClose:o,removemodal:r.removemodal||!1,formprop:!r.recreateForm||!1,form:r.form||""})}})},viewModal:function(t,i){if(i=e.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:e.jgrid.showModal,onHide:e.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},i||{}),void 0===i.focusField&&(i.focusField=0),"number"==typeof i.focusField&&i.focusField>=0?i.focusField=parseInt(i.focusField,10):"boolean"!=typeof i.focusField||i.focusField?i.focusField=0:i.focusField=!1,e.fn.jqm&&i.jqm===!0)i.jqM?e(t).attr("aria-hidden","false").jqm(i).jqmShow():e(t).attr("aria-hidden","false").jqmShow();else if(""!==i.gbox&&(e(".jqgrid-overlay:first",i.gbox).show(),e(t).data("gbox",i.gbox)),e(t).show().attr("aria-hidden","false"),i.focusField>=0)try{e(":input:visible",t)[parseInt(i.focusField,10)].focus()}catch(r){}},info_dialog:function(t,i,r,o){var a={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]};e.extend(!0,a,e.jgrid.jqModal||{},{caption:"<b>"+t+"</b>"},o||{});var s=a.jqModal,n=this,l=e.jgrid.styleUI[a.styleUI||"jQueryUI"].modal,d=e.jgrid.styleUI[a.styleUI||"jQueryUI"].common;e.fn.jqm&&!s&&(s=!1);var p,c="";if(a.buttons.length>0)for(p=0;p<a.buttons.length;p++)void 0===a.buttons[p].id&&(a.buttons[p].id="info_button_"+p),c+="<a id='"+a.buttons[p].id+"' class='fm-button "+d.button+"'>"+a.buttons[p].text+"</a>";var u=isNaN(a.dataheight)?a.dataheight:a.dataheight+"px",h="text-align:"+a.align+";",g="<div id='info_id'>";g+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+u+";"+h+"'>"+i+"</div>",g+=r?"<div class='"+l.header+"' style='text-align:"+a.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a id='closedialog' class='fm-button "+d.button+"'>"+r+"</a>"+c+"</div>":""!==c?"<div class='"+l.header+"' style='text-align:"+a.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+c+"</div>":"",g+="</div>";try{"false"===e("#info_dialog").attr("aria-hidden")&&e.jgrid.hideModal("#info_dialog",{jqm:s}),e("#info_dialog").remove()}catch(f){}e.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},g,a,"","",!0),c&&e.each(a.buttons,function(t){e("#"+e.jgrid.jqID(this.id),"#info_id").bind("click",function(){return a.buttons[t].onClick.call(e("#info_dialog")),!1})}),e("#closedialog","#info_id").click(function(){return n.hideModal("#info_dialog",{jqm:s,onClose:e("#info_dialog").data("onClose")||a.onClose,gb:e("#info_dialog").data("gbox")||a.gbox}),!1}),e(".fm-button","#info_dialog").hover(function(){e(this).addClass(d.hover)},function(){e(this).removeClass(d.hover)}),e.isFunction(a.beforeOpen)&&a.beforeOpen(),e.jgrid.viewModal("#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:a.modal,jqm:s}),e.isFunction(a.afterOpen)&&a.afterOpen();try{e("#info_dialog").focus()}catch(m){}},bindEv:function(t,i){var r=this;e.isFunction(i.dataInit)&&i.dataInit.call(r,t,i),i.dataEvents&&e.each(i.dataEvents,function(){void 0!==this.data?e(t).bind(this.type,this.data,this.fn):e(t).bind(this.type,this.fn)})},createEl:function(t,i,r,o,a){function s(t,i,r){var o=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value","oper"];void 0!==r&&e.isArray(r)&&e.merge(o,r),e.each(i,function(i,r){-1===e.inArray(i,o)&&e(t).attr(i,r)}),i.hasOwnProperty("id")||e(t).attr("id",e.jgrid.randId())}var n="",l=this;switch(t){case"textarea":n=document.createElement("textarea"),o?i.cols||e(n).css({width:"98%"}):i.cols||(i.cols=20),i.rows||(i.rows=2),("&nbsp;"===r||"&#160;"===r||1===r.length&&160===r.charCodeAt(0))&&(r=""),n.value=r,s(n,i),e(n).attr({role:"textbox",multiline:"true"});break;case"checkbox":if(n=document.createElement("input"),n.type="checkbox",i.value){var d=i.value.split(":");r===d[0]&&(n.checked=!0,n.defaultChecked=!0),n.value=d[0],e(n).attr("offval",d[1])}else{var p=(r+"").toLowerCase();p.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==p?(n.checked=!0,n.defaultChecked=!0,n.value=r):n.value="on",e(n).attr("offval","off")}s(n,i,["value"]),e(n).attr("role","checkbox");break;case"select":n=document.createElement("select"),n.setAttribute("role","select");var c,u=[];if(i.multiple===!0?(c=!0,n.multiple="multiple",e(n).attr("aria-multiselectable","true")):c=!1,null!=i.dataUrl){var h=null,g=i.postData||a.postData;try{h=i.rowId}catch(f){}l.p&&l.p.idPrefix&&(h=e.jgrid.stripPref(l.p.idPrefix,h)),e.ajax(e.extend({url:e.isFunction(i.dataUrl)?context+i.dataUrl.call(l,h,r,String(i.name)):context+i.dataUrl,type:"POST",dataType:"html",data:e.isFunction(g)?g.call(l,h,r,String(i.name)):g,context:{elem:n,options:i,vl:r},success:function(t){var i,r=[],o=this.elem,a=this.vl,n=e.extend({},this.options),d=n.multiple===!0,p=n.cacheUrlData===!0,c="",u=e.isFunction(n.buildSelect)?n.buildSelect.call(l,t):t;"string"==typeof u&&(u=e(e.trim(u)).html()),u&&(e(o).append(u),s(o,n,g?["postData"]:void 0),void 0===n.size&&(n.size=d?3:1),d?(r=a.split(","),r=e.map(r,function(t){return e.trim(t)})):r[0]=e.trim(a),setTimeout(function(){if(e("option",o).each(function(t){i=e(this).text(),a=e(this).val()||i,p&&(c+=(0!==t?";":"")+a+":"+i),0===t&&o.multiple&&(this.selected=!1),e(this).attr("role","option"),(e.inArray(e.trim(i),r)>-1||e.inArray(e.trim(a),r)>-1)&&(this.selected="selected")}),p)if("edit"===n.oper)e(l).jqGrid("setColProp",n.name,{editoptions:{buildSelect:null,dataUrl:null,value:c}});else if("search"===n.oper)e(l).jqGrid("setColProp",n.name,{searchoptions:{dataUrl:null,value:c}});else if("filter"===n.oper&&e("#fbox_"+l.p.id)[0].p){var t,s=e("#fbox_"+l.p.id)[0].p.columns;e.each(s,function(e){return t=this.index||this.name,n.name===t?(this.searchoptions.dataUrl=null,this.searchoptions.value=c,!1):void 0})}e(l).triggerHandler("jqGridAddEditAfterSelectUrlComplete",[o])},0))}},a||{}))}else if(i.value){
var m;void 0===i.size&&(i.size=c?3:1),c&&(u=r.split(","),u=e.map(u,function(t){return e.trim(t)})),"function"==typeof i.value&&(i.value=i.value());var v,j,b,w,y,x,q=void 0===i.separator?":":i.separator,_=void 0===i.delimiter?";":i.delimiter;if("string"==typeof i.value)for(v=i.value.split(_),m=0;m<v.length;m++)j=v[m].split(q),j.length>2&&(j[1]=e.map(j,function(e,t){return t>0?e:void 0}).join(q)),b=document.createElement("option"),b.setAttribute("role","option"),b.value=j[0],b.innerHTML=j[1],n.appendChild(b),c||e.trim(j[0])!==e.trim(r)&&e.trim(j[1])!==e.trim(r)||(b.selected="selected"),c&&(e.inArray(e.trim(j[1]),u)>-1||e.inArray(e.trim(j[0]),u)>-1)&&(b.selected="selected");else if("[object Array]"===Object.prototype.toString.call(i.value))for(w=i.value,m=0;m<w.length;m++)2===w[m].length&&(y=w[m][0],x=w[m][1],b=document.createElement("option"),b.setAttribute("role","option"),b.value=y,b.innerHTML=x,n.appendChild(b),c||e.trim(y)!==e.trim(r)&&e.trim(x)!==e.trim(r)||(b.selected="selected"),c&&(e.inArray(e.trim(x),u)>-1||e.inArray(e.trim(y),u)>-1)&&(b.selected="selected"));else if("object"==typeof i.value){w=i.value;for(y in w)w.hasOwnProperty(y)&&(b=document.createElement("option"),b.setAttribute("role","option"),b.value=y,b.innerHTML=w[y],n.appendChild(b),c||e.trim(y)!==e.trim(r)&&e.trim(w[y])!==e.trim(r)||(b.selected="selected"),c&&(e.inArray(e.trim(w[y]),u)>-1||e.inArray(e.trim(y),u)>-1)&&(b.selected="selected"))}s(n,i,["value"])}break;case"image":case"file":n=document.createElement("input"),n.type=t,s(n,i);break;case"custom":n=document.createElement("span");try{if(!e.isFunction(i.custom_element))throw"e1";var $=i.custom_element.call(l,r,i);if(!$)throw"e2";$=e($).addClass("customelement").attr({id:i.id,name:i.name}),e(n).empty().append($)}catch(f){var D=e.jgrid.getRegional(l,"errors"),C=e.jgrid.getRegional(l,"edit");"e1"===f?e.jgrid.info_dialog(D.errcap,"function 'custom_element' "+C.msg.nodefined,C.bClose,{styleUI:l.p.styleUI}):"e2"===f?e.jgrid.info_dialog(D.errcap,"function 'custom_element' "+C.msg.novalue,C.bClose,{styleUI:l.p.styleUI}):e.jgrid.info_dialog(D.errcap,"string"==typeof f?f:f.message,C.bClose,{styleUI:l.p.styleUI})}break;default:var I;I="button"===t?"button":"textbox",n=document.createElement("input"),n.type=t,n.value=r,s(n,i),"button"!==t&&(o?i.size||e(n).css({width:"96%"}):i.size||(i.size=20)),e(n).attr("role",I)}return n},checkDate:function(e,t){var i,r=function(e){return e%4!==0||e%100===0&&e%400!==0?28:29},o={};if(e=e.toLowerCase(),i=-1!==e.indexOf("/")?"/":-1!==e.indexOf("-")?"-":-1!==e.indexOf(".")?".":"/",e=e.split(i),t=t.split(i),3!==t.length)return!1;var a,s,n=-1,l=-1,d=-1;for(s=0;s<e.length;s++){var p=isNaN(t[s])?0:parseInt(t[s],10);o[e[s]]=p,a=e[s],-1!==a.indexOf("y")&&(n=s),-1!==a.indexOf("m")&&(d=s),-1!==a.indexOf("d")&&(l=s)}a="y"===e[n]||"yyyy"===e[n]?4:"yy"===e[n]?2:-1;var c,u=[0,31,29,31,30,31,30,31,31,30,31,30,31];return-1!==n&&(c=o[e[n]].toString(),2===a&&1===c.length&&(a=1),c.length===a&&(0!==o[e[n]]||"00"===t[n])&&(-1!==d&&(c=o[e[d]].toString(),!(c.length<1||o[e[d]]<1||o[e[d]]>12)&&(-1!==l&&(c=o[e[l]].toString(),!(c.length<1||o[e[l]]<1||o[e[l]]>31||2===o[e[d]]&&o[e[l]]>r(o[e[n]])||o[e[l]]>u[o[e[d]]]))))))},isEmpty:function(e){return!(!e.match(/^\s+$/)&&""!==e)},checkTime:function(t){var i,r=/^(\d{1,2}):(\d{2})([apAP][Mm])?$/;if(!e.jgrid.isEmpty(t)){if(i=t.match(r),!i)return!1;if(i[3]){if(i[1]<1||i[1]>12)return!1}else if(i[1]>23)return!1;if(i[2]>59)return!1}return!0},checkValues:function(t,i,r,o){var a,s,n,l,d,p,c=this,u=c.p.colModel,h=e.jgrid.getRegional(this,"edit.msg");if(void 0===r)if("string"==typeof i){for(s=0,d=u.length;d>s;s++)if(u[s].name===i){a=u[s].editrules,i=s,null!=u[s].formoptions&&(n=u[s].formoptions.label);break}}else i>=0&&(a=u[i].editrules);else a=r,n=void 0===o?"_":o;if(a){if(n||(n=null!=c.p.colNames?c.p.colNames[i]:u[i].label),a.required===!0&&e.jgrid.isEmpty(t))return[!1,n+": "+h.required,""];var g=a.required!==!1;if(a.number===!0&&(g!==!1||!e.jgrid.isEmpty(t))&&isNaN(t))return[!1,n+": "+h.number,""];if(void 0!==a.minValue&&!isNaN(a.minValue)&&parseFloat(t)<parseFloat(a.minValue))return[!1,n+": "+h.minValue+" "+a.minValue,""];if(void 0!==a.maxValue&&!isNaN(a.maxValue)&&parseFloat(t)>parseFloat(a.maxValue))return[!1,n+": "+h.maxValue+" "+a.maxValue,""];var f;if(a.email===!0&&!(g===!1&&e.jgrid.isEmpty(t)||(f=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,f.test(t))))return[!1,n+": "+h.email,""];if(a.integer===!0&&(g!==!1||!e.jgrid.isEmpty(t))){if(isNaN(t))return[!1,n+": "+h.integer,""];if(t%1!==0||-1!==t.indexOf("."))return[!1,n+": "+h.integer,""]}if(a.date===!0&&!(g===!1&&e.jgrid.isEmpty(t)||(u[i].formatoptions&&u[i].formatoptions.newformat?(l=u[i].formatoptions.newformat,p=e.jgrid.getRegional(c,"formatter.date.masks"),p&&p.hasOwnProperty(l)&&(l=p[l])):l=u[i].datefmt||"Y-m-d",e.jgrid.checkDate(l,t))))return[!1,n+": "+h.date+" - "+l,""];if(a.time===!0&&!(g===!1&&e.jgrid.isEmpty(t)||e.jgrid.checkTime(t)))return[!1,n+": "+h.date+" - hh:mm (am/pm)",""];if(a.url===!0&&!(g===!1&&e.jgrid.isEmpty(t)||(f=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,f.test(t))))return[!1,n+": "+h.url,""];if(a.custom===!0&&(g!==!1||!e.jgrid.isEmpty(t))){if(e.isFunction(a.custom_func)){var m=a.custom_func.call(c,t,n,i);return e.isArray(m)?m:[!1,h.customarray,""]}return[!1,h.customfcheck,""]}}return[!0,"",""]}})}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base","./grid.common"],e):e(jQuery)}(function(e){"use strict";var t={};e.jgrid.extend({editGridRow:function(i,r){var o=e.jgrid.getRegional(this[0],"edit"),a=this[0].p.styleUI,s=e.jgrid.styleUI[a].formedit,n=e.jgrid.styleUI[a].common;return r=e.extend(!0,{top:0,left:0,width:"500",datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:n.overlay,removemodal:!0,form:"edit",template:null,focusField:!0},o,r||{}),t[e(this)[0].p.id]=r,this.each(function(){function o(){var i,r={};e(D).find(".FormElement").each(function(){var i=e(".customelement",this);if(i.length){var o=i[0],a=e(o).attr("name");e.each(j.p.colModel,function(){if(this.name===a&&this.editoptions&&e.isFunction(this.editoptions.custom_value)){try{if(w[a]=this.editoptions.custom_value.call(j,e("#"+e.jgrid.jqID(a),D),"get"),void 0===w[a])throw"e1"}catch(i){"e1"===i?e.jgrid.info_dialog(k.errcap,"function 'custom_value' "+t[e(this)[0]].p.msg.novalue,t[e(this)[0]].p.bClose,{styleUI:t[e(this)[0]].p.styleUI}):e.jgrid.info_dialog(k.errcap,i.message,t[e(this)[0]].p.bClose,{styleUI:t[e(this)[0]].p.styleUI})}return!0}})}else{switch(e(this).get(0).type){case"checkbox":if(e(this).is(":checked"))w[this.name]=e(this).val();else{var s=e(this).attr("offval");w[this.name]=s}break;case"select-one":w[this.name]=e("option:selected",this).val();break;case"select-multiple":w[this.name]=e(this).val(),w[this.name]?w[this.name]=w[this.name].join(","):w[this.name]="";var n=[];e("option:selected",this).each(function(t,i){n[t]=e(i).text()});break;case"password":case"text":case"textarea":case"button":w[this.name]=e(this).val();break;case"radio":if(r.hasOwnProperty(this.name))return!0;r[this.name]=void 0===e(this).attr("offval")?"off":e(this).attr("offval")}j.p.autoencode&&(w[this.name]=e.jgrid.htmlEncode(w[this.name]))}});for(i in r)if(r.hasOwnProperty(i)){var o=e('input[name="'+i+'"]:checked',D).val();w[i]=void 0!==o?o:r[i],j.p.autoencode&&(w[i]=e.jgrid.htmlEncode(w[i]))}return!0}function a(i,r,o,a){var n,l,d,p,c,u,h,g=0,f=[],m=!1,v="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>",b="";for(h=1;a>=h;h++)b+=v;if("_empty"!==i&&(m=e(r).jqGrid("getInd",i)),e(r.p.colModel).each(function(h){if(n=this.name,l=(!this.editrules||this.editrules.edithidden!==!0)&&this.hidden===!0,c=l?"style='display:none'":"","cb"!==n&&"subgrid"!==n&&this.editable===!0&&"rn"!==n){if(m===!1)p="";else if(n===r.p.ExpandColumn&&r.p.treeGrid===!0)p=e("td[role='gridcell']:eq("+h+")",r.rows[m]).text();else{try{p=e.unformat.call(r,e("td[role='gridcell']:eq("+h+")",r.rows[m]),{rowId:i,colModel:this},h)}catch(v){p=this.edittype&&"textarea"===this.edittype?e("td[role='gridcell']:eq("+h+")",r.rows[m]).text():e("td[role='gridcell']:eq("+h+")",r.rows[m]).html()}(!p||"&nbsp;"===p||"&#160;"===p||1===p.length&&160===p.charCodeAt(0))&&(p="")}var w=e.extend({},this.editoptions||{},{id:n,name:n,rowId:i,oper:"edit"}),y=e.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),x=parseInt(y.rowpos,10)||g+1,q=parseInt(2*(parseInt(y.colpos,10)||1),10);if("_empty"===i&&w.defaultValue&&(p=e.isFunction(w.defaultValue)?w.defaultValue.call(j):w.defaultValue),this.edittype||(this.edittype="text"),j.p.autoencode&&(p=e.jgrid.htmlDecode(p)),u=e.jgrid.createEl.call(j,this.edittype,w,p,!1,e.extend({},e.jgrid.ajaxOptions,r.p.ajaxSelectOptions||{})),"select"===this.edittype&&(p=e(u).val(),"select-multiple"===e(u).get(0).type&&p&&(p=p.join(","))),"checkbox"===this.edittype&&(p=e(u).is(":checked")?e(u).val():e(u).attr("offval")),(t[j.p.id].checkOnSubmit||t[j.p.id].checkOnUpdate)&&(t[j.p.id]._savedData[n]=p),e(u).addClass("FormElement"),e.inArray(this.edittype,["text","textarea","password","select"])>-1&&e(u).addClass(s.inputClass),S)e(T).find("#"+n).replaceWith(u);else{if(d=e(o).find("tr[rowpos="+x+"]"),y.rowabove){var $=e("<tr><td class='contentinfo' colspan='"+2*a+"'>"+y.rowcontent+"</td></tr>");e(o).append($),$[0].rp=x}0===d.length&&(d=e("<tr "+c+" rowpos='"+x+"'></tr>").addClass("FormData").attr("id","tr_"+n),e(d).append(b),e(o).append(d),d[0].rp=x),e("td:eq("+(q-2)+")",d[0]).html("<label for='"+n+"'>"+(void 0===y.label?r.p.colNames[h]:y.label)+"</label>"),e("td:eq("+(q-1)+")",d[0]).append(y.elmprefix).append(u).append(y.elmsuffix)}"custom"===this.edittype&&e.isFunction(w.custom_value)&&w.custom_value.call(j,e("#"+n,_),"set",p),e.jgrid.bindEv.call(j,u,w),f[g]=h,g++}}),g>0){var w;S?(w="<div class='FormData' style='display:none'><input class='FormElement' id='id_g' type='text' name='"+r.p.id+"_id' value='"+i+"'/>",e(T).append(w)):(w=e("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*a-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+r.p.id+"_id' value='"+i+"'/></td></tr>"),w[0].rp=g+999,e(o).append(w)),(t[j.p.id].checkOnSubmit||t[j.p.id].checkOnUpdate)&&(t[j.p.id]._savedData[r.p.id+"_id"]=i)}return f}function l(i,r,o){var a,s,n,l,d,p,c=0;(t[j.p.id].checkOnSubmit||t[j.p.id].checkOnUpdate)&&(t[j.p.id]._savedData={},t[j.p.id]._savedData[r.p.id+"_id"]=i);var u=r.p.colModel;if("_empty"===i)return e(u).each(function(){a=this.name,l=e.extend({},this.editoptions||{}),n=e("#"+e.jgrid.jqID(a),o),n&&n.length&&null!==n[0]&&(d="","custom"===this.edittype&&e.isFunction(l.custom_value)?l.custom_value.call(j,e("#"+a,o),"set",d):l.defaultValue?(d=e.isFunction(l.defaultValue)?l.defaultValue.call(j):l.defaultValue,"checkbox"===n[0].type?(p=d.toLowerCase(),p.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==p?(n[0].checked=!0,n[0].defaultChecked=!0,n[0].value=d):(n[0].checked=!1,n[0].defaultChecked=!1)):n.val(d)):"checkbox"===n[0].type?(n[0].checked=!1,n[0].defaultChecked=!1,d=e(n).attr("offval")):n[0].type&&"select"===n[0].type.substr(0,6)?n[0].selectedIndex=0:n.val(d),(t[j.p.id].checkOnSubmit===!0||t[j.p.id].checkOnUpdate)&&(t[j.p.id]._savedData[a]=d))}),void e("#id_g",o).val(i);var h=e(r).jqGrid("getInd",i,!0);h&&(e('td[role="gridcell"]',h).each(function(n){if(a=u[n].name,"cb"!==a&&"subgrid"!==a&&"rn"!==a&&u[n].editable===!0){if(a===r.p.ExpandColumn&&r.p.treeGrid===!0)s=e(this).text();else try{s=e.unformat.call(r,e(this),{rowId:i,colModel:u[n]},n)}catch(l){s="textarea"===u[n].edittype?e(this).text():e(this).html()}switch(j.p.autoencode&&(s=e.jgrid.htmlDecode(s)),(t[j.p.id].checkOnSubmit===!0||t[j.p.id].checkOnUpdate)&&(t[j.p.id]._savedData[a]=s),a=e.jgrid.jqID(a),u[n].edittype){case"password":case"text":case"button":case"image":case"textarea":("&nbsp;"===s||"&#160;"===s||1===s.length&&160===s.charCodeAt(0))&&(s=""),e("#"+a,o).val(s);break;case"select":var d=s.split(",");d=e.map(d,function(t){return e.trim(t)}),e("#"+a+" option",o).each(function(){u[n].editoptions.multiple||e.trim(s)!==e.trim(e(this).text())&&d[0]!==e.trim(e(this).text())&&d[0]!==e.trim(e(this).val())?u[n].editoptions.multiple&&(e.inArray(e.trim(e(this).text()),d)>-1||e.inArray(e.trim(e(this).val()),d)>-1)?this.selected=!0:this.selected=!1:this.selected=!0}),(t[j.p.id].checkOnSubmit===!0||t[j.p.id].checkOnUpdate)&&(s=e("#"+a,o).val(),u[n].editoptions.multiple&&(s=s.join(",")),t[j.p.id]._savedData[a]=s);break;case"checkbox":if(s=String(s),u[n].editoptions&&u[n].editoptions.value){var p=u[n].editoptions.value.split(":");p[0]===s?e("#"+a,o)[j.p.useProp?"prop":"attr"]({checked:!0,defaultChecked:!0}):e("#"+a,o)[j.p.useProp?"prop":"attr"]({checked:!1,defaultChecked:!1})}else s=s.toLowerCase(),s.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==s?(e("#"+a,o)[j.p.useProp?"prop":"attr"]("checked",!0),e("#"+a,o)[j.p.useProp?"prop":"attr"]("defaultChecked",!0)):(e("#"+a,o)[j.p.useProp?"prop":"attr"]("checked",!1),e("#"+a,o)[j.p.useProp?"prop":"attr"]("defaultChecked",!1));(t[j.p.id].checkOnSubmit===!0||t[j.p.id].checkOnUpdate)&&(s=e("#"+a,o).is(":checked")?e("#"+a,o).val():e("#"+a,o).attr("offval"),t[j.p.id]._savedData[a]=s);break;case"custom":try{if(!u[n].editoptions||!e.isFunction(u[n].editoptions.custom_value))throw"e1";u[n].editoptions.custom_value.call(j,e("#"+a,o),"set",s)}catch(h){"e1"===h?e.jgrid.info_dialog(k.errcap,"function 'custom_value' "+t[e(this)[0]].p.msg.nodefined,e.rp_ge[e(this)[0]].p.bClose,{styleUI:t[e(this)[0]].p.styleUI}):e.jgrid.info_dialog(k.errcap,h.message,e.rp_ge[e(this)[0]].p.bClose,{styleUI:t[e(this)[0]].p.styleUI})}}c++}}),c>0&&(e("#id_g",D).val(i),(t[j.p.id].checkOnSubmit===!0||t[j.p.id].checkOnUpdate)&&(t[j.p.id]._savedData[r.p.id+"_id"]=i)))}function d(){e.each(j.p.colModel,function(e,t){t.editoptions&&t.editoptions.NullIfEmpty===!0&&w.hasOwnProperty(t.name)&&""===w[t.name]&&(w[t.name]="null")})}function p(){var i,o,a,s,p,c,u,h=[!0,"",""],g={},f=j.p.prmNames,m=e(j).triggerHandler("jqGridAddEditBeforeCheckValues",[e(_),x]);m&&"object"==typeof m&&(w=m),e.isFunction(t[j.p.id].beforeCheckValues)&&(m=t[j.p.id].beforeCheckValues.call(j,w,e(_),x),m&&"object"==typeof m&&(w=m));for(s in w)if(w.hasOwnProperty(s)&&(h=e.jgrid.checkValues.call(j,w[s],s),h[0]===!1))break;if(d(),h[0]&&(g=e(j).triggerHandler("jqGridAddEditClickSubmit",[t[j.p.id],w,x]),void 0===g&&e.isFunction(t[j.p.id].onclickSubmit)&&(g=t[j.p.id].onclickSubmit.call(j,t[j.p.id],w,x)||{}),h=e(j).triggerHandler("jqGridAddEditBeforeSubmit",[w,e(_),x]),void 0===h&&(h=[!0,"",""]),h[0]&&e.isFunction(t[j.p.id].beforeSubmit)&&(h=t[j.p.id].beforeSubmit.call(j,w,e(_),x))),h[0]&&!t[j.p.id].processing){if(t[j.p.id].processing=!0,e("#sData",D+"_2").addClass(n.active),u=t[j.p.id].url||e(j).jqGrid("getGridParam","editurl"),a=f.oper,o="clientArray"===u?j.p.keyName:f.id,w[a]="_empty"===e.trim(w[j.p.id+"_id"])?f.addoper:f.editoper,w[a]!==f.addoper?w[o]=w[j.p.id+"_id"]:void 0===w[o]&&(w[o]=w[j.p.id+"_id"]),delete w[j.p.id+"_id"],w=e.extend(w,t[j.p.id].editData,g),j.p.treeGrid===!0){if(w[a]===f.addoper){p=e(j).jqGrid("getGridParam","selrow");var v="adjacency"===j.p.treeGridModel?j.p.treeReader.parent_id_field:"parent_id";w[v]=p}for(c in j.p.treeReader)if(j.p.treeReader.hasOwnProperty(c)){var b=j.p.treeReader[c];if(w.hasOwnProperty(b)){if(w[a]===f.addoper&&"parent_id_field"===c)continue;delete w[b]}}}w[o]=e.jgrid.stripPref(j.p.idPrefix,w[o]);var y=e.extend({url:u,type:t[j.p.id].mtype,data:e.isFunction(t[j.p.id].serializeEditData)?t[j.p.id].serializeEditData.call(j,w):w,complete:function(s,d){var c;if(e("#sData",D+"_2").removeClass(n.active),w[o]=j.p.idPrefix+w[o],s.status>=300&&304!==s.status?(h[0]=!1,h[1]=e(j).triggerHandler("jqGridAddEditErrorTextFormat",[s,x]),e.isFunction(t[j.p.id].errorTextFormat)?h[1]=t[j.p.id].errorTextFormat.call(j,s,x):h[1]=d+" Status: '"+s.statusText+"'. Error code: "+s.status):(h=e(j).triggerHandler("jqGridAddEditAfterSubmit",[s,w,x]),void 0===h&&(h=[!0,"",""]),h[0]&&e.isFunction(t[j.p.id].afterSubmit)&&(h=t[j.p.id].afterSubmit.call(j,s,w,x))),h[0]===!1)e(".FormError",_).html(h[1]),e(".FormError",_).show();else if(j.p.autoencode&&e.each(w,function(t,i){w[t]=e.jgrid.htmlDecode(i)}),w[a]===f.addoper?(h[2]||(h[2]=e.jgrid.randId()),null==w[o]||"_empty"===w[o]?w[o]=h[2]:h[2]=w[o],t[j.p.id].reloadAfterSubmit?e(j).trigger("reloadGrid"):j.p.treeGrid===!0?e(j).jqGrid("addChildNode",h[2],p,w):e(j).jqGrid("addRowData",h[2],w,r.addedrow),t[j.p.id].closeAfterAdd?(j.p.treeGrid!==!0&&e(j).jqGrid("setSelection",h[2]),e.jgrid.hideModal("#"+e.jgrid.jqID(C.themodal),{gb:"#gbox_"+e.jgrid.jqID(q),jqm:r.jqModal,onClose:t[j.p.id].onClose,removemodal:t[j.p.id].removemodal,formprop:!t[j.p.id].recreateForm,form:t[j.p.id].form})):t[j.p.id].clearAfterAdd&&l("_empty",j,_)):(t[j.p.id].reloadAfterSubmit?(e(j).trigger("reloadGrid"),t[j.p.id].closeAfterEdit||setTimeout(function(){e(j).jqGrid("setSelection",w[o])},1e3)):j.p.treeGrid===!0?e(j).jqGrid("setTreeRow",w[o],w):e(j).jqGrid("setRowData",w[o],w),t[j.p.id].closeAfterEdit&&e.jgrid.hideModal("#"+e.jgrid.jqID(C.themodal),{gb:"#gbox_"+e.jgrid.jqID(q),jqm:r.jqModal,onClose:t[j.p.id].onClose,removemodal:t[j.p.id].removemodal,formprop:!t[j.p.id].recreateForm,form:t[j.p.id].form})),e.isFunction(t[j.p.id].afterComplete)&&(i=s,setTimeout(function(){e(j).triggerHandler("jqGridAddEditAfterComplete",[i,w,e(_),x]),t[j.p.id].afterComplete.call(j,i,w,e(_),x),i=null},500)),(t[j.p.id].checkOnSubmit||t[j.p.id].checkOnUpdate)&&(e(_).data("disabled",!1),"_empty"!==t[j.p.id]._savedData[j.p.id+"_id"]))for(c in t[j.p.id]._savedData)t[j.p.id]._savedData.hasOwnProperty(c)&&w[c]&&(t[j.p.id]._savedData[c]=w[c]);t[j.p.id].processing=!1;try{e(":input:visible",_)[0].focus()}catch(u){}}},e.jgrid.ajaxOptions,t[j.p.id].ajaxEditOptions);if(y.url||t[j.p.id].useDataProxy||(e.isFunction(j.p.dataProxy)?t[j.p.id].useDataProxy=!0:(h[0]=!1,h[1]+=" "+k.nourl)),h[0])if(t[j.p.id].useDataProxy){var $=j.p.dataProxy.call(j,y,"set_"+j.p.id);void 0===$&&($=[!0,""]),$[0]===!1?(h[0]=!1,h[1]=$[1]||"Error deleting the selected row!"):(y.data.oper===f.addoper&&t[j.p.id].closeAfterAdd&&e.jgrid.hideModal("#"+e.jgrid.jqID(C.themodal),{gb:"#gbox_"+e.jgrid.jqID(q),jqm:r.jqModal,onClose:t[j.p.id].onClose,removemodal:t[j.p.id].removemodal,formprop:!t[j.p.id].recreateForm,form:t[j.p.id].form}),y.data.oper===f.editoper&&t[j.p.id].closeAfterEdit&&e.jgrid.hideModal("#"+e.jgrid.jqID(C.themodal),{gb:"#gbox_"+e.jgrid.jqID(q),jqm:r.jqModal,onClose:t[j.p.id].onClose,removemodal:t[j.p.id].removemodal,formprop:!t[j.p.id].recreateForm,form:t[j.p.id].form}))}else"clientArray"===y.url?(t[j.p.id].reloadAfterSubmit=!1,w=y.data,y.complete({status:200,statusText:""},"")):e.ajax(y)}h[0]===!1&&(e(".FormError",_).html(h[1]),e(".FormError",_).show())}function c(e,t){var i,r=!1;for(i in e)if(e.hasOwnProperty(i)&&e[i]!=t[i]){r=!0;break}return r}function u(){var i=!0;return e(".FormError",_).hide(),t[j.p.id].checkOnUpdate&&(w={},o(),y=c(w,t[j.p.id]._savedData),y&&(e(_).data("disabled",!0),e(".confirm","#"+C.themodal).show(),i=!1)),i}function h(){var t;if("_empty"!==i&&void 0!==j.p.savedRow&&j.p.savedRow.length>0&&e.isFunction(e.fn.jqGrid.restoreRow))for(t=0;t<j.p.savedRow.length;t++)if(j.p.savedRow[t].id===i){e(j).jqGrid("restoreRow",i);break}}function g(t,i){var r=i[1].length-1;0===t?e("#pData",b).addClass(n.disabled):void 0!==i[1][t-1]&&e("#"+e.jgrid.jqID(i[1][t-1])).hasClass(n.disabled)?e("#pData",b).addClass(n.disabled):e("#pData",b).removeClass(n.disabled),t===r?e("#nData",b).addClass(n.disabled):void 0!==i[1][t+1]&&e("#"+e.jgrid.jqID(i[1][t+1])).hasClass(n.disabled)?e("#nData",b).addClass(n.disabled):e("#nData",b).removeClass(n.disabled)}function f(){var t=e(j).jqGrid("getDataIDs"),i=e("#id_g",D).val(),r=e.inArray(i,t);return[r,t]}function m(e){var t="";return"string"==typeof e&&(t=e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(e,t){return'<span id="'+t+'" ></span>'})),t}function v(){if(t[j.p.id].checkOnSubmit||t[j.p.id].checkOnUpdate){var i=[],r={};i=e.map(t[j.p.id]._savedData,function(e,t){return t}),e(".FormElement",T).each(function(){if(-1===i.indexOf(this.name)){var o=e(this).val(),a=e(this).get(0).type;if("checkbox"===a)e(this).is(":checked")||(o=e(this).attr("offval"));else if("select-multiple"===a)o=o.join(",");else if("radio"===a){if(r.hasOwnProperty(this.name))return!0;r[this.name]=void 0===e(this).attr("offval")?"off":e(this).attr("offval")}t[j.p.id]._savedData[this.name]=o}});for(var o in r)if(r.hasOwnProperty(o)){var a=e('input[name="'+o+'"]:checked',T).val();t[j.p.id]._savedData[o]=void 0!==a?a:r[o]}}}var j=this;if(j.grid&&i){var b,w,y,x,q=j.p.id,_="FrmGrid_"+q,$="TblGrid_"+q,D="#"+e.jgrid.jqID($),C={themodal:"editmod"+q,modalhead:"edithd"+q,modalcontent:"editcnt"+q,scrollelm:_},I=!0,G=1,F=0,S="string"==typeof t[j.p.id].template&&t[j.p.id].template.length>0,k=e.jgrid.getRegional(this,"errors");t[j.p.id].styleUI=j.p.styleUI||"jQueryUI",e.jgrid.isMobile()&&(t[j.p.id].resize=!1),"new"===i?(i="_empty",x="add",r.caption=t[j.p.id].addCaption):(r.caption=t[j.p.id].editCaption,x="edit"),r.recreateForm||e(j).data("formProp")&&e.extend(t[e(this)[0].p.id],e(j).data("formProp"));var R=!0;r.checkOnUpdate&&r.jqModal&&!r.modal&&(R=!1);var M,N=isNaN(t[e(this)[0].p.id].dataheight)?t[e(this)[0].p.id].dataheight:t[e(this)[0].p.id].dataheight+"px",O=isNaN(t[e(this)[0].p.id].datawidth)?t[e(this)[0].p.id].datawidth:t[e(this)[0].p.id].datawidth+"px",T=e("<form name='FormPost' id='"+_+"' class='FormGrid' onSubmit='return false;' style='width:"+O+";height:"+N+";'></form>").data("disabled",!1);if(S?(M=m(t[e(this)[0].p.id].template),b=D):(M=e("<table id='"+$+"' class='EditTable ui-common-table'><tbody></tbody></table>"),b=D+"_2"),_="#"+e.jgrid.jqID(_),e(T).append("<div class='FormError "+n.error+"' style='display:none;'></div>"),e(T).append("<div class='tinfo topinfo'>"+t[j.p.id].topinfo+"</div>"),e(j.p.colModel).each(function(){var e=this.formoptions;G=Math.max(G,e?e.colpos||0:0),F=Math.max(F,e?e.rowpos||0:0)}),e(T).append(M),I=e(j).triggerHandler("jqGridAddEditBeforeInitData",[T,x]),void 0===I&&(I=!0),I&&e.isFunction(t[j.p.id].beforeInitData)&&(I=t[j.p.id].beforeInitData.call(j,T,x)),I!==!1){h(),a(i,j,M,G);var P="rtl"===j.p.direction,A=P?"nData":"pData",E=P?"pData":"nData",U="<a id='"+A+"' class='fm-button "+n.button+"'><span class='"+n.icon_base+" "+s.icon_prev+"'></span></a>",z="<a id='"+E+"' class='fm-button "+n.button+"'><span class='"+n.icon_base+" "+s.icon_next+"'></span></a>",B="<a id='sData' class='fm-button "+n.button+"'>"+r.bSubmit+"</a>",H="<a id='cData' class='fm-button "+n.button+"'>"+r.bCancel+"</a>",L="<table style='height:auto' class='EditTable ui-common-table' id='"+$+"_2'><tbody><tr><td colspan='2'><hr class='"+n.content+"' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(P?z+U:U+z)+"</td><td class='EditButton'>"+B+H+"</td></tr>";if(L+="</tbody></table>",F>0){var V=[];e.each(e(M)[0].rows,function(e,t){V[e]=t}),V.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),e.each(V,function(t,i){e("tbody",M).append(i)})}r.gbox="#gbox_"+e.jgrid.jqID(q);var W=!1;r.closeOnEscape===!0&&(r.closeOnEscape=!1,W=!0);var Q;if(S?(e(T).find("#pData").replaceWith(U),e(T).find("#nData").replaceWith(z),e(T).find("#sData").replaceWith(B),e(T).find("#cData").replaceWith(H),Q=e("<div id="+$+"></div>").append(T)):Q=e("<div></div>").append(T).append(L),e(T).append("<div class='binfo topinfo bottominfo'>"+t[j.p.id].bottominfo+"</div>"),e.jgrid.createModal(C,Q,t[e(this)[0].p.id],"#gview_"+e.jgrid.jqID(j.p.id),e("#gbox_"+e.jgrid.jqID(j.p.id))[0]),P&&(e("#pData, #nData",D+"_2").css("float","right"),e(".EditButton",D+"_2").css("text-align","left")),t[j.p.id].topinfo&&e(".tinfo",_).show(),t[j.p.id].bottominfo&&e(".binfo",_).show(),Q=null,L=null,e("#"+e.jgrid.jqID(C.themodal)).keydown(function(i){var o=i.target;if(e(_).data("disabled")===!0)return!1;if(t[j.p.id].savekey[0]===!0&&i.which===t[j.p.id].savekey[1]&&"TEXTAREA"!==o.tagName)return e("#sData",D+"_2").trigger("click"),!1;if(27===i.which)return!!u()&&(W&&e.jgrid.hideModal("#"+e.jgrid.jqID(C.themodal),{gb:r.gbox,jqm:r.jqModal,onClose:t[j.p.id].onClose,removemodal:t[j.p.id].removemodal,formprop:!t[j.p.id].recreateForm,form:t[j.p.id].form}),!1);if(t[j.p.id].navkeys[0]===!0){if("_empty"===e("#id_g",D).val())return!0;if(i.which===t[j.p.id].navkeys[1])return e("#pData",b).trigger("click"),!1;if(i.which===t[j.p.id].navkeys[2])return e("#nData",b).trigger("click"),!1}}),r.checkOnUpdate&&(e("a.ui-jqdialog-titlebar-close span","#"+e.jgrid.jqID(C.themodal)).removeClass("jqmClose"),e("a.ui-jqdialog-titlebar-close","#"+e.jgrid.jqID(C.themodal)).unbind("click").click(function(){return!!u()&&(e.jgrid.hideModal("#"+e.jgrid.jqID(C.themodal),{gb:"#gbox_"+e.jgrid.jqID(q),jqm:r.jqModal,onClose:t[j.p.id].onClose,removemodal:t[j.p.id].removemodal,formprop:!t[j.p.id].recreateForm,form:t[j.p.id].form}),!1)})),r.saveicon=e.extend([!0,"left",s.icon_save],r.saveicon),r.closeicon=e.extend([!0,"left",s.icon_close],r.closeicon),r.saveicon[0]===!0&&e("#sData",b).addClass("right"===r.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+n.icon_base+" "+r.saveicon[2]+"'></span>"),r.closeicon[0]===!0&&e("#cData",b).addClass("right"===r.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+n.icon_base+" "+r.closeicon[2]+"'></span>"),t[j.p.id].checkOnSubmit||t[j.p.id].checkOnUpdate){B="<a id='sNew' class='fm-button "+n.button+"' style='z-index:1002'>"+r.bYes+"</a>",z="<a id='nNew' class='fm-button "+n.button+"' style='z-index:1002;margin-left:5px'>"+r.bNo+"</a>",H="<a id='cNew' class='fm-button "+n.button+"' style='z-index:1002;margin-left:5px;'>"+r.bExit+"</a>";var X=r.zIndex||999;X++,e("<div class='"+r.overlayClass+" jqgrid-overlay confirm' style='z-index:"+X+";display:none;'>&#160;</div><div class='confirm ui-jqconfirm "+n.content+"' style='z-index:"+(X+1)+"'>"+r.saveData+"<br/><br/>"+B+z+H+"</div>").insertAfter(_),e("#sNew","#"+e.jgrid.jqID(C.themodal)).click(function(){return p(),e(_).data("disabled",!1),e(".confirm","#"+e.jgrid.jqID(C.themodal)).hide(),!1}),e("#nNew","#"+e.jgrid.jqID(C.themodal)).click(function(){return e(".confirm","#"+e.jgrid.jqID(C.themodal)).hide(),e(_).data("disabled",!1),setTimeout(function(){e(":input:visible",_)[0].focus()},0),!1}),e("#cNew","#"+e.jgrid.jqID(C.themodal)).click(function(){return e(".confirm","#"+e.jgrid.jqID(C.themodal)).hide(),e(_).data("disabled",!1),e.jgrid.hideModal("#"+e.jgrid.jqID(C.themodal),{gb:"#gbox_"+e.jgrid.jqID(q),jqm:r.jqModal,onClose:t[j.p.id].onClose,removemodal:t[j.p.id].removemodal,formprop:!t[j.p.id].recreateForm,form:t[j.p.id].form}),!1})}e(j).triggerHandler("jqGridAddEditInitializeForm",[e(_),x]),e.isFunction(t[j.p.id].onInitializeForm)&&t[j.p.id].onInitializeForm.call(j,e(_),x),"_empty"!==i&&t[j.p.id].viewPagerButtons?e("#pData,#nData",b).show():e("#pData,#nData",b).hide(),e(j).triggerHandler("jqGridAddEditBeforeShowForm",[e(_),x]),e.isFunction(t[j.p.id].beforeShowForm)&&t[j.p.id].beforeShowForm.call(j,e(_),x),v(),e("#"+e.jgrid.jqID(C.themodal)).data("onClose",t[j.p.id].onClose),e.jgrid.viewModal("#"+e.jgrid.jqID(C.themodal),{gbox:"#gbox_"+e.jgrid.jqID(q),jqm:r.jqModal,overlay:r.overlay,modal:r.modal,overlayClass:r.overlayClass,focusField:r.focusField,onHide:function(t){var i=e("#editmod"+q)[0].style.height,r=e("#editmod"+q)[0].style.width;i.indexOf("px")>-1&&(i=parseFloat(i)),r.indexOf("px")>-1&&(r=parseFloat(r)),e(j).data("formProp",{top:parseFloat(e(t.w).css("top")),left:parseFloat(e(t.w).css("left")),width:r,height:i,dataheight:e(_).height(),datawidth:e(_).width()}),t.w.remove(),t.o&&t.o.remove()}}),R||e("."+e.jgrid.jqID(r.overlayClass)).click(function(){return!!u()&&(e.jgrid.hideModal("#"+e.jgrid.jqID(C.themodal),{gb:"#gbox_"+e.jgrid.jqID(q),jqm:r.jqModal,onClose:t[j.p.id].onClose,removemodal:t[j.p.id].removemodal,formprop:!t[j.p.id].recreateForm,form:t[j.p.id].form}),!1)}),e(".fm-button","#"+e.jgrid.jqID(C.themodal)).hover(function(){e(this).addClass(n.hover)},function(){e(this).removeClass(n.hover)}),e("#sData",b).click(function(){return w={},e(".FormError",_).hide(),o(),"_empty"===w[j.p.id+"_id"]?p():r.checkOnSubmit===!0?(y=c(w,t[j.p.id]._savedData),y?(e(_).data("disabled",!0),e(".confirm","#"+e.jgrid.jqID(C.themodal)).show()):p()):p(),!1}),e("#cData",b).click(function(){return!!u()&&(e.jgrid.hideModal("#"+e.jgrid.jqID(C.themodal),{gb:"#gbox_"+e.jgrid.jqID(q),jqm:r.jqModal,onClose:t[j.p.id].onClose,removemodal:t[j.p.id].removemodal,formprop:!t[j.p.id].recreateForm,form:t[j.p.id].form}),!1)}),e("#nData",b).click(function(){if(!u())return!1;e(".FormError",_).hide();var t=f();if(t[0]=parseInt(t[0],10),-1!==t[0]&&t[1][t[0]+1]){e(j).triggerHandler("jqGridAddEditClickPgButtons",["next",e(_),t[1][t[0]]]);var i;if(e.isFunction(r.onclickPgButtons)&&(i=r.onclickPgButtons.call(j,"next",e(_),t[1][t[0]]),void 0!==i&&i===!1))return!1;if(e("#"+e.jgrid.jqID(t[1][t[0]+1])).hasClass(n.disabled))return!1;l(t[1][t[0]+1],j,_),e(j).jqGrid("setSelection",t[1][t[0]+1]),e(j).triggerHandler("jqGridAddEditAfterClickPgButtons",["next",e(_),t[1][t[0]]]),e.isFunction(r.afterclickPgButtons)&&r.afterclickPgButtons.call(j,"next",e(_),t[1][t[0]+1]),v(),g(t[0]+1,t)}return!1}),e("#pData",b).click(function(){if(!u())return!1;e(".FormError",_).hide();var t=f();if(-1!==t[0]&&t[1][t[0]-1]){e(j).triggerHandler("jqGridAddEditClickPgButtons",["prev",e(_),t[1][t[0]]]);var i;if(e.isFunction(r.onclickPgButtons)&&(i=r.onclickPgButtons.call(j,"prev",e(_),t[1][t[0]]),void 0!==i&&i===!1))return!1;if(e("#"+e.jgrid.jqID(t[1][t[0]-1])).hasClass(n.disabled))return!1;l(t[1][t[0]-1],j,_),e(j).jqGrid("setSelection",t[1][t[0]-1]),e(j).triggerHandler("jqGridAddEditAfterClickPgButtons",["prev",e(_),t[1][t[0]]]),e.isFunction(r.afterclickPgButtons)&&r.afterclickPgButtons.call(j,"prev",e(_),t[1][t[0]-1]),v(),g(t[0]-1,t)}return!1}),e(j).triggerHandler("jqGridAddEditAfterShowForm",[e(_),x]),e.isFunction(t[j.p.id].afterShowForm)&&t[j.p.id].afterShowForm.call(j,e(_),x);var Y=f();g(Y[0],Y)}}})},viewGridRow:function(i,r){var o=e.jgrid.getRegional(this[0],"view"),a=this[0].p.styleUI,s=e.jgrid.styleUI[a].formedit,n=e.jgrid.styleUI[a].common;return r=e.extend(!0,{top:0,left:0,width:500,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,
viewPagerButtons:!0,recreateForm:!1,removemodal:!0,form:"view"},o,r||{}),t[e(this)[0].p.id]=r,this.each(function(){function o(){(t[c.p.id].closeOnEscape===!0||t[c.p.id].navkeys[0]===!0)&&setTimeout(function(){e(".ui-jqdialog-titlebar-close","#"+e.jgrid.jqID(v.modalhead)).attr("tabindex","-1").focus()},0)}function a(t,i,o,a){var s,l,d,p,c,u,h,g,f,m=0,v=[],j=!1,b="<td class='CaptionTD form-view-label "+n.content+"' width='"+r.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset "+n.content+"'>&#160;</td>",w="",y="<td class='CaptionTD form-view-label "+n.content+"'>&#160;</td><td class='DataTD form-view-data "+n.content+"'>&#160;</td>",x=["integer","number","currency"],q=0,_=0;for(u=1;a>=u;u++)w+=1===u?b:y;if(e(i.p.colModel).each(function(){l=(!this.editrules||this.editrules.edithidden!==!0)&&this.hidden===!0,l||"right"!==this.align||(this.formatter&&-1!==e.inArray(this.formatter,x)?q=Math.max(q,parseInt(this.width,10)):_=Math.max(_,parseInt(this.width,10)))}),h=0!==q?q:0!==_?_:0,j=e(i).jqGrid("getInd",t),e(i.p.colModel).each(function(t){if(s=this.name,g=!1,l=(!this.editrules||this.editrules.edithidden!==!0)&&this.hidden===!0,c=l?"style='display:none'":"",f="boolean"!=typeof this.viewable||this.viewable,"cb"!==s&&"subgrid"!==s&&"rn"!==s&&f){p=j===!1?"":s===i.p.ExpandColumn&&i.p.treeGrid===!0?e("td:eq("+t+")",i.rows[j]).text():e("td:eq("+t+")",i.rows[j]).html(),g="right"===this.align&&0!==h;var r=e.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),n=parseInt(r.rowpos,10)||m+1,u=parseInt(2*(parseInt(r.colpos,10)||1),10);if(r.rowabove){var b=e("<tr><td class='contentinfo' colspan='"+2*a+"'>"+r.rowcontent+"</td></tr>");e(o).append(b),b[0].rp=n}d=e(o).find("tr[rowpos="+n+"]"),0===d.length&&(d=e("<tr "+c+" rowpos='"+n+"'></tr>").addClass("FormData").attr("id","trv_"+s),e(d).append(w),e(o).append(d),d[0].rp=n),e("td:eq("+(u-2)+")",d[0]).html("<b>"+(void 0===r.label?i.p.colNames[t]:r.label)+"</b>"),e("td:eq("+(u-1)+")",d[0]).append("<span>"+p+"</span>").attr("id","v_"+s),g&&e("td:eq("+(u-1)+") span",d[0]).css({"text-align":"right",width:h+"px"}),v[m]=t,m++}}),m>0){var $=e("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*a-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+t+"'/></td></tr>");$[0].rp=m+99,e(o).append($)}return v}function l(t,i){var r,o,a,s,n=0;s=e(i).jqGrid("getInd",t,!0),s&&(e("td",s).each(function(t){r=i.p.colModel[t].name,o=(!i.p.colModel[t].editrules||i.p.colModel[t].editrules.edithidden!==!0)&&i.p.colModel[t].hidden===!0,"cb"!==r&&"subgrid"!==r&&"rn"!==r&&(a=r===i.p.ExpandColumn&&i.p.treeGrid===!0?e(this).text():e(this).html(),r=e.jgrid.jqID("v_"+r),e("#"+r+" span","#"+g).html(a),o&&e("#"+r,"#"+g).parents("tr:first").hide(),n++)}),n>0&&e("#id_g","#"+g).val(t))}function d(t,i){var r=i[1].length-1;0===t?e("#pData","#"+g+"_2").addClass(n.disabled):void 0!==i[1][t-1]&&e("#"+e.jgrid.jqID(i[1][t-1])).hasClass(n.disabled)?e("#pData",g+"_2").addClass(n.disabled):e("#pData","#"+g+"_2").removeClass(n.disabled),t===r?e("#nData","#"+g+"_2").addClass(n.disabled):void 0!==i[1][t+1]&&e("#"+e.jgrid.jqID(i[1][t+1])).hasClass(n.disabled)?e("#nData",g+"_2").addClass(n.disabled):e("#nData","#"+g+"_2").removeClass(n.disabled)}function p(){var t=e(c).jqGrid("getDataIDs"),i=e("#id_g","#"+g).val(),r=e.inArray(i,t);return[r,t]}var c=this;if(c.grid&&i){var u=c.p.id,h="ViewGrid_"+e.jgrid.jqID(u),g="ViewTbl_"+e.jgrid.jqID(u),f="ViewGrid_"+u,m="ViewTbl_"+u,v={themodal:"viewmod"+u,modalhead:"viewhd"+u,modalcontent:"viewcnt"+u,scrollelm:h},j=!!e.isFunction(t[c.p.id].beforeInitData)&&t[c.p.id].beforeInitData,b=!0,w=1,y=0;t[c.p.id].styleUI=c.p.styleUI||"jQueryUI",r.recreateForm||e(c).data("viewProp")&&e.extend(t[e(this)[0].p.id],e(c).data("viewProp"));var x=isNaN(t[e(this)[0].p.id].dataheight)?t[e(this)[0].p.id].dataheight:t[e(this)[0].p.id].dataheight+"px",q=isNaN(t[e(this)[0].p.id].datawidth)?t[e(this)[0].p.id].datawidth:t[e(this)[0].p.id].datawidth+"px",_=e("<form name='FormPost' id='"+f+"' class='FormGrid' style='width:"+q+";height:"+x+";'></form>"),$=e("<table id='"+m+"' class='EditTable ViewTable'><tbody></tbody></table>");if(e(c.p.colModel).each(function(){var e=this.formoptions;w=Math.max(w,e?e.colpos||0:0),y=Math.max(y,e?e.rowpos||0:0)}),e(_).append($),j&&(b=j.call(c,_),void 0===b&&(b=!0)),b!==!1){a(i,c,$,w);var D="rtl"===c.p.direction,C=D?"nData":"pData",I=D?"pData":"nData",G="<a id='"+C+"' class='fm-button "+n.button+"'><span class='"+n.icon_base+" "+s.icon_prev+"'></span></a>",F="<a id='"+I+"' class='fm-button "+n.button+"'><span class='"+n.icon_base+" "+s.icon_next+"'></span></a>",S="<a id='cData' class='fm-button "+n.button+"'>"+r.bClose+"</a>";if(y>0){var k=[];e.each(e($)[0].rows,function(e,t){k[e]=t}),k.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),e.each(k,function(t,i){e("tbody",$).append(i)})}r.gbox="#gbox_"+e.jgrid.jqID(u);var R=e("<div></div>").append(_).append("<table border='0' class='EditTable' id='"+g+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+r.labelswidth+"'>"+(D?F+G:G+F)+"</td><td class='EditButton'>"+S+"</td></tr></tbody></table>");e.jgrid.createModal(v,R,t[e(this)[0].p.id],"#gview_"+e.jgrid.jqID(c.p.id),e("#gview_"+e.jgrid.jqID(c.p.id))[0]),D&&(e("#pData, #nData","#"+g+"_2").css("float","right"),e(".EditButton","#"+g+"_2").css("text-align","left")),r.viewPagerButtons||e("#pData, #nData","#"+g+"_2").hide(),R=null,e("#"+v.themodal).keydown(function(i){if(27===i.which)return t[c.p.id].closeOnEscape&&e.jgrid.hideModal("#"+e.jgrid.jqID(v.themodal),{gb:r.gbox,jqm:r.jqModal,onClose:r.onClose,removemodal:t[c.p.id].removemodal,formprop:!t[c.p.id].recreateForm,form:t[c.p.id].form}),!1;if(r.navkeys[0]===!0){if(i.which===r.navkeys[1])return e("#pData","#"+g+"_2").trigger("click"),!1;if(i.which===r.navkeys[2])return e("#nData","#"+g+"_2").trigger("click"),!1}}),r.closeicon=e.extend([!0,"left",s.icon_close],r.closeicon),r.closeicon[0]===!0&&e("#cData","#"+g+"_2").addClass("right"===r.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+n.icon_base+" "+r.closeicon[2]+"'></span>"),e.isFunction(r.beforeShowForm)&&r.beforeShowForm.call(c,e("#"+h)),e.jgrid.viewModal("#"+e.jgrid.jqID(v.themodal),{gbox:"#gbox_"+e.jgrid.jqID(u),jqm:r.jqModal,overlay:r.overlay,modal:r.modal,onHide:function(t){e(c).data("viewProp",{top:parseFloat(e(t.w).css("top")),left:parseFloat(e(t.w).css("left")),width:e(t.w).width(),height:e(t.w).height(),dataheight:e("#"+h).height(),datawidth:e("#"+h).width()}),t.w.remove(),t.o&&t.o.remove()}}),e(".fm-button:not(."+n.disabled+")","#"+g+"_2").hover(function(){e(this).addClass(n.hover)},function(){e(this).removeClass(n.hover)}),o(),e("#cData","#"+g+"_2").click(function(){return e.jgrid.hideModal("#"+e.jgrid.jqID(v.themodal),{gb:"#gbox_"+e.jgrid.jqID(u),jqm:r.jqModal,onClose:r.onClose,removemodal:t[c.p.id].removemodal,formprop:!t[c.p.id].recreateForm,form:t[c.p.id].form}),!1}),e("#nData","#"+g+"_2").click(function(){e("#FormError","#"+g).hide();var t=p();return t[0]=parseInt(t[0],10),-1!==t[0]&&t[1][t[0]+1]&&(e.isFunction(r.onclickPgButtons)&&r.onclickPgButtons.call(c,"next",e("#"+h),t[1][t[0]]),l(t[1][t[0]+1],c),e(c).jqGrid("setSelection",t[1][t[0]+1]),e.isFunction(r.afterclickPgButtons)&&r.afterclickPgButtons.call(c,"next",e("#"+h),t[1][t[0]+1]),d(t[0]+1,t)),o(),!1}),e("#pData","#"+g+"_2").click(function(){e("#FormError","#"+g).hide();var t=p();return-1!==t[0]&&t[1][t[0]-1]&&(e.isFunction(r.onclickPgButtons)&&r.onclickPgButtons.call(c,"prev",e("#"+h),t[1][t[0]]),l(t[1][t[0]-1],c),e(c).jqGrid("setSelection",t[1][t[0]-1]),e.isFunction(r.afterclickPgButtons)&&r.afterclickPgButtons.call(c,"prev",e("#"+h),t[1][t[0]-1]),d(t[0]-1,t)),o(),!1});var M=p();d(M[0],M)}}})},delGridRow:function(i,r){var o=e.jgrid.getRegional(this[0],"del"),a=this[0].p.styleUI,s=e.jgrid.styleUI[a].formedit,n=e.jgrid.styleUI[a].common;return r=e.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},o,r||{}),t[e(this)[0].p.id]=r,this.each(function(){var o=this;if(o.grid&&i){var a,l,d,p,c=e.isFunction(t[o.p.id].beforeShowForm),u=e.isFunction(t[o.p.id].afterShowForm),h=!!e.isFunction(t[o.p.id].beforeInitData)&&t[o.p.id].beforeInitData,g=o.p.id,f={},m=!0,v="DelTbl_"+e.jgrid.jqID(g),j="DelTbl_"+g,b={themodal:"delmod"+g,modalhead:"delhd"+g,modalcontent:"delcnt"+g,scrollelm:v};if(t[o.p.id].styleUI=o.p.styleUI||"jQueryUI",e.isArray(i)&&(i=i.join()),void 0!==e("#"+e.jgrid.jqID(b.themodal))[0]){if(h&&(m=h.call(o,e("#"+v)),void 0===m&&(m=!0)),m===!1)return;e("#DelData>td","#"+v).text(i),e("#DelError","#"+v).hide(),t[o.p.id].processing===!0&&(t[o.p.id].processing=!1,e("#dData","#"+v).removeClass(n.active)),c&&t[o.p.id].beforeShowForm.call(o,e("#"+v)),e.jgrid.viewModal("#"+e.jgrid.jqID(b.themodal),{gbox:"#gbox_"+e.jgrid.jqID(g),jqm:t[o.p.id].jqModal,jqM:!1,overlay:t[o.p.id].overlay,modal:t[o.p.id].modal}),u&&t[o.p.id].afterShowForm.call(o,e("#"+v))}else{var w=isNaN(t[o.p.id].dataheight)?t[o.p.id].dataheight:t[o.p.id].dataheight+"px",y=isNaN(r.datawidth)?r.datawidth:r.datawidth+"px",x="<div id='"+j+"' class='formdata' style='width:"+y+";overflow:auto;position:relative;height:"+w+";'>";x+="<table class='DelTable'><tbody>",x+="<tr id='DelError' style='display:none'><td class='"+n.error+"'></td></tr>",x+="<tr id='DelData' style='display:none'><td >"+i+"</td></tr>",x+='<tr><td class="delmsg" style="white-space:pre;">'+t[o.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>",x+="</tbody></table></div>";var q="<a id='dData' class='fm-button "+n.button+"'>"+r.bSubmit+"</a>",_="<a id='eData' class='fm-button "+n.button+"'>"+r.bCancel+"</a>";if(x+="<table class='EditTable ui-common-table' id='"+v+"_2'><tbody><tr><td><hr class='"+n.content+"' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+q+"&#160;"+_+"</td></tr></tbody></table>",r.gbox="#gbox_"+e.jgrid.jqID(g),e.jgrid.createModal(b,x,t[o.p.id],"#gview_"+e.jgrid.jqID(o.p.id),e("#gview_"+e.jgrid.jqID(o.p.id))[0]),h&&(m=h.call(o,e(x)),void 0===m&&(m=!0)),m===!1)return;e(".fm-button","#"+v+"_2").hover(function(){e(this).addClass(n.hover)},function(){e(this).removeClass(n.hover)}),r.delicon=e.extend([!0,"left",s.icon_del],t[o.p.id].delicon),r.cancelicon=e.extend([!0,"left",s.icon_cancel],t[o.p.id].cancelicon),r.delicon[0]===!0&&e("#dData","#"+v+"_2").addClass("right"===r.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+n.icon_base+" "+r.delicon[2]+"'></span>"),r.cancelicon[0]===!0&&e("#eData","#"+v+"_2").addClass("right"===r.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+n.icon_base+" "+r.cancelicon[2]+"'></span>"),e("#dData","#"+v+"_2").click(function(){var i,s=[!0,""],c=e("#DelData>td","#"+v).text();if(f={},e.isFunction(t[o.p.id].onclickSubmit)&&(f=t[o.p.id].onclickSubmit.call(o,t[o.p.id],c)||{}),e.isFunction(t[o.p.id].beforeSubmit)&&(s=t[o.p.id].beforeSubmit.call(o,c)),s[0]&&!t[o.p.id].processing){if(t[o.p.id].processing=!0,d=o.p.prmNames,a=e.extend({},t[o.p.id].delData,f),p=d.oper,a[p]=d.deloper,l=d.id,c=String(c).split(","),!c.length)return!1;for(i in c)c.hasOwnProperty(i)&&(c[i]=e.jgrid.stripPref(o.p.idPrefix,c[i]));a[l]=c.join(),e(this).addClass(n.active);var u=e.extend({url:t[o.p.id].url||e(o).jqGrid("getGridParam","editurl"),type:t[o.p.id].mtype,data:e.isFunction(t[o.p.id].serializeDelData)?t[o.p.id].serializeDelData.call(o,a):a,complete:function(i,l){var d;if(e("#dData","#"+v+"_2").removeClass(n.active),i.status>=300&&304!==i.status?(s[0]=!1,e.isFunction(t[o.p.id].errorTextFormat)?s[1]=t[o.p.id].errorTextFormat.call(o,i):s[1]=l+" Status: '"+i.statusText+"'. Error code: "+i.status):e.isFunction(t[o.p.id].afterSubmit)&&(s=t[o.p.id].afterSubmit.call(o,i,a)),s[0]===!1)e("#DelError>td","#"+v).html(s[1]),e("#DelError","#"+v).show();else{if(t[o.p.id].reloadAfterSubmit&&"local"!==o.p.datatype)e(o).trigger("reloadGrid");else{if(o.p.treeGrid===!0)try{e(o).jqGrid("delTreeNode",o.p.idPrefix+c[0])}catch(p){}else for(d=0;d<c.length;d++)e(o).jqGrid("delRowData",o.p.idPrefix+c[d]);o.p.selrow=null,o.p.selarrrow=[]}e.isFunction(t[o.p.id].afterComplete)&&setTimeout(function(){t[o.p.id].afterComplete.call(o,i,c)},500)}t[o.p.id].processing=!1,s[0]&&e.jgrid.hideModal("#"+e.jgrid.jqID(b.themodal),{gb:"#gbox_"+e.jgrid.jqID(g),jqm:r.jqModal,onClose:t[o.p.id].onClose})}},e.jgrid.ajaxOptions,t[o.p.id].ajaxDelOptions);if(u.url||t[o.p.id].useDataProxy||(e.isFunction(o.p.dataProxy)?t[o.p.id].useDataProxy=!0:(s[0]=!1,s[1]+=" "+e.jgrid.getRegional(o,"errors.nourl"))),s[0])if(t[o.p.id].useDataProxy){var h=o.p.dataProxy.call(o,u,"del_"+o.p.id);void 0===h&&(h=[!0,""]),h[0]===!1?(s[0]=!1,s[1]=h[1]||"Error deleting the selected row!"):e.jgrid.hideModal("#"+e.jgrid.jqID(b.themodal),{gb:"#gbox_"+e.jgrid.jqID(g),jqm:r.jqModal,onClose:t[o.p.id].onClose})}else"clientArray"===u.url?(a=u.data,u.complete({status:200,statusText:""},"")):e.ajax(u)}return s[0]===!1&&(e("#DelError>td","#"+v).html(s[1]),e("#DelError","#"+v).show()),!1}),e("#eData","#"+v+"_2").click(function(){return e.jgrid.hideModal("#"+e.jgrid.jqID(b.themodal),{gb:"#gbox_"+e.jgrid.jqID(g),jqm:t[o.p.id].jqModal,onClose:t[o.p.id].onClose}),!1}),c&&t[o.p.id].beforeShowForm.call(o,e("#"+v)),e.jgrid.viewModal("#"+e.jgrid.jqID(b.themodal),{gbox:"#gbox_"+e.jgrid.jqID(g),jqm:t[o.p.id].jqModal,overlay:t[o.p.id].overlay,modal:t[o.p.id].modal}),u&&t[o.p.id].afterShowForm.call(o,e("#"+v))}t[o.p.id].closeOnEscape===!0&&setTimeout(function(){e(".ui-jqdialog-titlebar-close","#"+e.jgrid.jqID(b.modalhead)).attr("tabindex","-1").focus()},0)}})},navGrid:function(t,i,r,o,a,s,n){var l=e.jgrid.getRegional(this[0],"nav"),d=this[0].p.styleUI,p=e.jgrid.styleUI[d].navigator,c=e.jgrid.styleUI[d].common;return i=e.extend({edit:!0,editicon:p.icon_edit_nav,add:!0,addicon:p.icon_add_nav,del:!0,delicon:p.icon_del_nav,search:!0,searchicon:p.icon_search_nav,refresh:!0,refreshicon:p.icon_refresh_nav,refreshstate:"firstpage",view:!1,viewicon:p.icon_view_nav,position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null,dropmenu:!1,navButtonText:""},l,i||{}),this.each(function(){if(!this.p.navGrid){var p,u,h,g={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},f=this;if(f.grid&&"string"==typeof t){e(f).data("navGrid")||e(f).data("navGrid",i),h=e(f).data("navGrid"),f.p.force_regional&&(h=e.extend(h,l)),void 0===e("#"+g.themodal)[0]&&(h.alerttop||h.alertleft||(void 0!==window.innerWidth?(h.alertleft=window.innerWidth,h.alerttop=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(h.alertleft=document.documentElement.clientWidth,h.alerttop=document.documentElement.clientHeight):(h.alertleft=1024,h.alerttop=768),h.alertleft=h.alertleft/2-parseInt(h.alertwidth,10)/2,h.alerttop=h.alerttop/2-25),e.jgrid.createModal(g,"<div>"+h.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+e.jgrid.jqID(f.p.id),jqModal:!0,drag:!0,resize:!0,caption:h.alertcap,top:h.alerttop,left:h.alertleft,width:h.alertwidth,height:h.alertheight,closeOnEscape:h.closeOnEscape,zIndex:h.alertzIndex,styleUI:f.p.styleUI},"#gview_"+e.jgrid.jqID(f.p.id),e("#gbox_"+e.jgrid.jqID(f.p.id))[0],!0));var m,v=1,j=function(){e(this).hasClass(c.disabled)||e(this).addClass(c.hover)},b=function(){e(this).removeClass(c.hover)};for(h.cloneToTop&&f.p.toppager&&(v=2),m=0;v>m;m++){var w,y,x,q=e("<table class='ui-pg-table navtable ui-common-table'><tbody><tr></tr></tbody></table>"),_="<td class='ui-pg-button "+c.disabled+"' style='width:4px;'><span class='ui-separator'></span></td>";0===m?(y=t,x=f.p.id,y===f.p.toppager&&(x+="_top",v=1)):(y=f.p.toppager,x=f.p.id+"_top"),"rtl"===f.p.direction&&e(q).attr("dir","rtl").css("float","right"),o=o||{},h.add&&(w=e("<td class='ui-pg-button "+c.cornerall+"'></td>"),e(w).append("<div class='ui-pg-div'><span class='"+c.icon_base+" "+h.addicon+"'></span>"+h.addtext+"</div>"),e("tr",q).append(w),e(w,q).attr({title:h.addtitle||"",id:o.id||"add_"+x}).click(function(){return e(this).hasClass(c.disabled)||(e.isFunction(h.addfunc)?h.addfunc.call(f):e(f).jqGrid("editGridRow","new",o)),!1}).hover(j,b),w=null),r=r||{},h.edit&&(w=e("<td class='ui-pg-button "+c.cornerall+"'></td>"),e(w).append("<div class='ui-pg-div'><span class='"+c.icon_base+" "+h.editicon+"'></span>"+h.edittext+"</div>"),e("tr",q).append(w),e(w,q).attr({title:h.edittitle||"",id:r.id||"edit_"+x}).click(function(){if(!e(this).hasClass(c.disabled)){var t=f.p.selrow;t?e.isFunction(h.editfunc)?h.editfunc.call(f,t):e(f).jqGrid("editGridRow",t,r):(e.jgrid.viewModal("#"+g.themodal,{gbox:"#gbox_"+e.jgrid.jqID(f.p.id),jqm:!0}),e("#jqg_alrt").focus())}return!1}).hover(j,b),w=null),n=n||{},h.view&&(w=e("<td class='ui-pg-button "+c.cornerall+"'></td>"),e(w).append("<div class='ui-pg-div'><span class='"+c.icon_base+" "+h.viewicon+"'></span>"+h.viewtext+"</div>"),e("tr",q).append(w),e(w,q).attr({title:h.viewtitle||"",id:n.id||"view_"+x}).click(function(){if(!e(this).hasClass(c.disabled)){var t=f.p.selrow;t?e.isFunction(h.viewfunc)?h.viewfunc.call(f,t):e(f).jqGrid("viewGridRow",t,n):(e.jgrid.viewModal("#"+g.themodal,{gbox:"#gbox_"+e.jgrid.jqID(f.p.id),jqm:!0}),e("#jqg_alrt").focus())}return!1}).hover(j,b),w=null),a=a||{},h.del&&(w=e("<td class='ui-pg-button "+c.cornerall+"'></td>"),e(w).append("<div class='ui-pg-div'><span class='"+c.icon_base+" "+h.delicon+"'></span>"+h.deltext+"</div>"),e("tr",q).append(w),e(w,q).attr({title:h.deltitle||"",id:a.id||"del_"+x}).click(function(){if(!e(this).hasClass(c.disabled)){var t;f.p.multiselect?(t=f.p.selarrrow,0===t.length&&(t=null)):t=f.p.selrow,t?e.isFunction(h.delfunc)?h.delfunc.call(f,t):e(f).jqGrid("delGridRow",t,a):(e.jgrid.viewModal("#"+g.themodal,{gbox:"#gbox_"+e.jgrid.jqID(f.p.id),jqm:!0}),e("#jqg_alrt").focus())}return!1}).hover(j,b),w=null),(h.add||h.edit||h.del||h.view)&&e("tr",q).append(_),s=s||{},h.search&&(w=e("<td class='ui-pg-button "+c.cornerall+"'></td>"),e(w).append("<div class='ui-pg-div'><span class='"+c.icon_base+" "+h.searchicon+"'></span>"+h.searchtext+"</div>"),e("tr",q).append(w),e(w,q).attr({title:h.searchtitle||"",id:s.id||"search_"+x}).click(function(){return e(this).hasClass(c.disabled)||(e.isFunction(h.searchfunc)?h.searchfunc.call(f,s):e(f).jqGrid("searchGrid",s)),!1}).hover(j,b),s.showOnLoad&&s.showOnLoad===!0&&e(w,q).click(),w=null),h.refresh&&(w=e("<td class='ui-pg-button "+c.cornerall+"'></td>"),e(w).append("<div class='ui-pg-div'><span class='"+c.icon_base+" "+h.refreshicon+"'></span>"+h.refreshtext+"</div>"),e("tr",q).append(w),e(w,q).attr({title:h.refreshtitle||"",id:"refresh_"+x}).click(function(){if(!e(this).hasClass(c.disabled)){e.isFunction(h.beforeRefresh)&&h.beforeRefresh.call(f),f.p.search=!1,f.p.resetsearch=!0;try{if("currentfilter"!==h.refreshstate){var t=f.p.id;f.p.postData.filters="";try{e("#fbox_"+e.jgrid.jqID(t)).jqFilter("resetFilter")}catch(i){}e.isFunction(f.clearToolbar)&&f.clearToolbar.call(f,!1)}}catch(r){}switch(h.refreshstate){case"firstpage":e(f).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":e(f).trigger("reloadGrid",[{current:!0}])}e.isFunction(h.afterRefresh)&&h.afterRefresh.call(f)}return!1}).hover(j,b),w=null),u=e(".ui-jqgrid").css("font-size")||"11px",e("body").append("<div id='testpg2' class='ui-jqgrid "+e.jgrid.styleUI[d].base.entrieBox+"' style='font-size:"+u+";visibility:hidden;' ></div>"),p=e(q).clone().appendTo("#testpg2").width(),e("#testpg2").remove(),f.p._nvtd&&(h.dropmenu?(q=null,e(f).jqGrid("_buildNavMenu",y,x,i,r,o,a,s,n)):p>f.p._nvtd[0]?(f.p.responsive?(q=null,e(f).jqGrid("_buildNavMenu",y,x,i,r,o,a,s,n)):e(y+"_"+h.position,y).append(q).width(p),f.p._nvtd[0]=p):e(y+"_"+h.position,y).append(q),f.p._nvtd[1]=p),f.p.navGrid=!0}f.p.storeNavOptions&&(f.p.navOptions=h,f.p.editOptions=r,f.p.addOptions=o,f.p.delOptions=a,f.p.searchOptions=s,f.p.viewOptions=n,f.p.navButtons=[])}}})},navButtonAdd:function(t,i){var r=this[0].p.styleUI,o=e.jgrid.styleUI[r].navigator;return i=e.extend({caption:"newButton",title:"",buttonicon:o.icon_newbutton_nav,onClickButton:null,position:"last",cursor:"pointer",internal:!1},i||{}),this.each(function(){if(this.grid){"string"==typeof t&&0!==t.indexOf("#")&&(t="#"+e.jgrid.jqID(t));var o=e(".navtable",t)[0],a=this,s=e.jgrid.styleUI[r].common.disabled,n=e.jgrid.styleUI[r].common.hover,l=e.jgrid.styleUI[r].common.cornerall,d=e.jgrid.styleUI[r].common.icon_base;if(a.p.storeNavOptions&&!i.internal&&a.p.navButtons.push([t,i]),o){if(i.id&&void 0!==e("#"+e.jgrid.jqID(i.id),o)[0])return;var p=e("<td></td>");"NONE"===i.buttonicon.toString().toUpperCase()?e(p).addClass("ui-pg-button "+l).append("<div class='ui-pg-div'>"+i.caption+"</div>"):e(p).addClass("ui-pg-button "+l).append("<div class='ui-pg-div'><span class='"+d+" "+i.buttonicon+"'></span>"+i.caption+"</div>"),i.id&&e(p).attr("id",i.id),"first"===i.position?0===o.rows[0].cells.length?e("tr",o).append(p):e("tr td:eq(0)",o).before(p):e("tr",o).append(p),e(p,o).attr("title",i.title||"").click(function(t){return e(this).hasClass(s)||e.isFunction(i.onClickButton)&&i.onClickButton.call(a,t),!1}).hover(function(){e(this).hasClass(s)||e(this).addClass(n)},function(){e(this).removeClass(n)})}else if(o=e(".dropdownmenu",t)[0]){var c=e(o).val(),u=i.id||e.jgrid.randId(),h=e('<li class="ui-menu-item" role="presentation"><a class="'+l+' g-menu-item" tabindex="0" role="menuitem" id="'+u+'">'+(i.caption||i.title)+"</a></li>");c&&("first"===i.position?e("#"+c).prepend(h):e("#"+c).append(h),e(h).on("click",function(t){return e(this).hasClass(s)||(e("#"+c).hide(),e.isFunction(i.onClickButton)&&i.onClickButton.call(a,t)),!1}).find("a").hover(function(){e(this).hasClass(s)||e(this).addClass(n)},function(){e(this).removeClass(n)}))}}})},navSeparatorAdd:function(t,i){var r=this[0].p.styleUI,o=e.jgrid.styleUI[r].common;return i=e.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},i||{}),this.each(function(){if(this.grid){"string"==typeof t&&0!==t.indexOf("#")&&(t="#"+e.jgrid.jqID(t));var r,a,s=e(".navtable",t)[0];this.p.storeNavOptions&&this.p.navButtons.push([t,i]),s?(r="<td class='ui-pg-button "+o.disabled+"' style='width:4px;'><span class='"+i.sepclass+"'></span>"+i.sepcontent+"</td>","first"===i.position?0===s.rows[0].cells.length?e("tr",s).append(r):e("tr td:eq(0)",s).before(r):e("tr",s).append(r)):(s=e(".dropdownmenu",t)[0],r="<li class='ui-menu-item "+o.disabled+"' style='width:100%' role='presentation'><hr class='ui-separator-li'></li>",s&&(a=e(s).val(),a&&("first"===i.position?e("#"+a).prepend(r):e("#"+a).append(r))))}})},_buildNavMenu:function(t,i,r,o,a,s,n,l){return this.each(function(){var d=this,p=e.jgrid.getRegional(d,"nav"),c=d.p.styleUI,u=(e.jgrid.styleUI[c].navigator,e.jgrid.styleUI[c].filter),h=e.jgrid.styleUI[c].common,g="form_menu_"+e.jgrid.randId(),f=r.navButtonText?r.navButtonText:p.selectcaption||"Actions",m="<button class='dropdownmenu "+h.button+"' value='"+g+"'>"+f+"</button>";e(t+"_"+r.position,t).append(m);var v={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},j=function(){var t,p,c=e(".ui-jqgrid-view").css("font-size")||"11px",f=e('<ul id="'+g+'" class="ui-nav-menu modal-content" role="menu" tabindex="0" style="display:none;font-size:'+c+'"></ul>');r.add&&(a=a||{},t=a.id||"add_"+i,p=e('<li class="ui-menu-item" role="presentation"><a class="'+h.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(r.addtext||r.addtitle)+"</a></li>").click(function(){return e(this).hasClass(h.disabled)||(e.isFunction(r.addfunc)?r.addfunc.call(d):e(d).jqGrid("editGridRow","new",a),e(f).hide()),!1}),e(f).append(p)),r.edit&&(o=o||{},t=o.id||"edit_"+i,p=e('<li class="ui-menu-item" role="presentation"><a class="'+h.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(r.edittext||r.edittitle)+"</a></li>").click(function(){if(!e(this).hasClass(h.disabled)){var t=d.p.selrow;t?e.isFunction(r.editfunc)?r.editfunc.call(d,t):e(d).jqGrid("editGridRow",t,o):(e.jgrid.viewModal("#"+v.themodal,{gbox:"#gbox_"+e.jgrid.jqID(d.p.id),jqm:!0}),e("#jqg_alrt").focus()),e(f).hide()}return!1}),e(f).append(p)),r.view&&(l=l||{},t=l.id||"view_"+i,p=e('<li class="ui-menu-item" role="presentation"><a class="'+h.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(r.viewtext||r.viewtitle)+"</a></li>").click(function(){if(!e(this).hasClass(h.disabled)){var t=d.p.selrow;t?e.isFunction(r.editfunc)?r.viewfunc.call(d,t):e(d).jqGrid("viewGridRow",t,l):(e.jgrid.viewModal("#"+v.themodal,{gbox:"#gbox_"+e.jgrid.jqID(d.p.id),jqm:!0}),e("#jqg_alrt").focus()),e(f).hide()}return!1}),e(f).append(p)),r.del&&(s=s||{},t=s.id||"del_"+i,p=e('<li class="ui-menu-item" role="presentation"><a class="'+h.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(r.deltext||r.deltitle)+"</a></li>").click(function(){if(!e(this).hasClass(h.disabled)){var t;d.p.multiselect?(t=d.p.selarrrow,0===t.length&&(t=null)):t=d.p.selrow,t?e.isFunction(r.delfunc)?r.delfunc.call(d,t):e(d).jqGrid("delGridRow",t,s):(e.jgrid.viewModal("#"+v.themodal,{gbox:"#gbox_"+e.jgrid.jqID(d.p.id),jqm:!0}),e("#jqg_alrt").focus()),e(f).hide()}return!1}),e(f).append(p)),(r.add||r.edit||r.del||r.view)&&e(f).append("<li class='ui-menu-item "+h.disabled+"' style='width:100%' role='presentation'><hr class='ui-separator-li'></li>"),r.search&&(n=n||{},t=n.id||"search_"+i,p=e('<li class="ui-menu-item" role="presentation"><a class="'+h.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(r.searchtext||r.searchtitle)+"</a></li>").click(function(){return e(this).hasClass(h.disabled)||(e.isFunction(r.searchfunc)?r.searchfunc.call(d,n):e(d).jqGrid("searchGrid",n),e(f).hide()),!1}),e(f).append(p),n.showOnLoad&&n.showOnLoad===!0&&e(p).click()),r.refresh&&(t=n.id||"search_"+i,p=e('<li class="ui-menu-item" role="presentation"><a class="'+h.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(r.refreshtext||r.refreshtitle)+"</a></li>").click(function(){if(!e(this).hasClass(h.disabled)){e.isFunction(r.beforeRefresh)&&r.beforeRefresh.call(d),d.p.search=!1,d.p.resetsearch=!0;try{if("currentfilter"!==r.refreshstate){var t=d.p.id;d.p.postData.filters="";try{e("#fbox_"+e.jgrid.jqID(t)).jqFilter("resetFilter")}catch(i){}e.isFunction(d.clearToolbar)&&d.clearToolbar.call(d,!1)}}catch(o){}switch(r.refreshstate){case"firstpage":e(d).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":e(d).trigger("reloadGrid",[{current:!0}])}e.isFunction(r.afterRefresh)&&r.afterRefresh.call(d),e(f).hide()}return!1}),e(f).append(p)),e(f).hide(),e("body").append(f),e("#"+g).addClass("ui-menu "+u.menu_widget),e("#"+g+" > li > a").hover(function(){e(this).addClass(h.hover)},function(){e(this).removeClass(h.hover)})};j(),e(".dropdownmenu",t+"_"+r.position).on("click",function(t){var i=e(this).offset(),r=i.left,o=parseInt(i.top),a=e(this).val();e("#"+a).show().css({top:o-(e("#"+a).height()+10)+"px",left:r+"px"}),t.stopPropagation()}),e("body").on("click",function(t){e(t.target).hasClass("dropdownmenu")||e("#"+g).hide()})})},GridToForm:function(t,i){return this.each(function(){var r,o=this;if(o.grid){var a=e(o).jqGrid("getRowData",t);if(a)for(r in a)a.hasOwnProperty(r)&&(e("[name="+e.jgrid.jqID(r)+"]",i).is("input:radio")||e("[name="+e.jgrid.jqID(r)+"]",i).is("input:checkbox")?e("[name="+e.jgrid.jqID(r)+"]",i).each(function(){e(this).val()==a[r]?e(this)[o.p.useProp?"prop":"attr"]("checked",!0):e(this)[o.p.useProp?"prop":"attr"]("checked",!1)}):e("[name="+e.jgrid.jqID(r)+"]",i).val(a[r]))}})},FormToGrid:function(t,i,r,o){return this.each(function(){var a=this;if(a.grid){r||(r="set"),o||(o="first");var s=e(i).serializeArray(),n={};e.each(s,function(e,t){n[t.name]=t.value}),"add"===r?e(a).jqGrid("addRowData",t,n,o):"set"===r&&e(a).jqGrid("setRowData",t,n)}})}})}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base","./grid.common"],e):e(jQuery)}(function(e){"use strict";e.fn.jqFilter=function(t){if("string"==typeof t){var i=e.fn.jqFilter[t];if(!i)throw"jqFilter - No such method: "+t;var r=e.makeArray(arguments).slice(1);return i.apply(this,r)}var o=e.extend(!0,{filter:null,columns:[],sortStrategy:null,onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],stropts:["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},e.jgrid.filter,t||{});return this.each(function(){if(!this.filter){this.p=o,(null===this.p.filter||void 0===this.p.filter)&&(this.p.filter={groupOp:this.p.groupOps[0].op,rules:[],groups:[]}),null!=this.p.sortStrategy&&e.isFunction(this.p.sortStrategy)&&this.p.columns.sort(this.p.sortStrategy);var t,i,r=this.p.columns.length,a=/msie/i.test(navigator.userAgent)&&!window.opera;if(this.p.initFilter=e.extend(!0,{},this.p.filter),r){for(t=0;r>t;t++)i=this.p.columns[t],i.stype?i.inputtype=i.stype:i.inputtype||(i.inputtype="text"),i.sorttype?i.searchtype=i.sorttype:i.searchtype||(i.searchtype="string"),void 0===i.hidden&&(i.hidden=!1),i.label||(i.label=i.name),i.index&&(i.name=i.index),i.hasOwnProperty("searchoptions")||(i.searchoptions={}),i.hasOwnProperty("searchrules")||(i.searchrules={});var s=function(){return e("#"+e.jgrid.jqID(o.id))[0]||null},n=s(),l=e.jgrid.styleUI[n.p.styleUI||"jQueryUI"].filter,d=e.jgrid.styleUI[n.p.styleUI||"jQueryUI"].common;this.p.showQuery&&e(this).append("<table class='queryresult "+l.table_widget+"' style='display:block;max-width:440px;border:0px none;' dir='"+this.p.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var p=function(t,i){var r=[!0,""],a=s();if(e.isFunction(i.searchrules))r=i.searchrules.call(a,t,i);else if(e.jgrid&&e.jgrid.checkValues)try{r=e.jgrid.checkValues.call(a,t,-1,i.searchrules,i.label)}catch(n){}r&&r.length&&r[0]===!1&&(o.error=!r[0],o.errmsg=r[1])};this.onchange=function(){return this.p.error=!1,this.p.errmsg="",!!e.isFunction(this.p.onChange)&&this.p.onChange.call(this,this.p)},this.reDraw=function(){e("table.group:first",this).remove();var t=this.createTableForGroup(o.filter,null);e(this).append(t),e.isFunction(this.p.afterRedraw)&&this.p.afterRedraw.call(this,this.p)},this.createTableForGroup=function(t,i){var r,a=this,s=e("<table class='group "+l.table_widget+" ui-search-table' style='border:0px none;'><tbody></tbody></table>"),n="left";"rtl"===this.p.direction&&(n="right",s.attr("dir","rtl")),null===i&&s.append("<tr class='error' style='display:none;'><th colspan='5' class='"+d.error+"' align='"+n+"'></th></tr>");var p=e("<tr></tr>");s.append(p);var c=e("<th colspan='5' align='"+n+"'></th>");if(p.append(c),this.p.ruleButtons===!0){var u=e("<select class='opsel "+l.srSelect+"'></select>");c.append(u);var h,g="";for(r=0;r<o.groupOps.length;r++)h=t.groupOp===a.p.groupOps[r].op?" selected='selected'":"",g+="<option value='"+a.p.groupOps[r].op+"'"+h+">"+a.p.groupOps[r].text+"</option>";u.append(g).bind("change",function(){t.groupOp=e(u).val(),a.onchange()})}var f="<span></span>";if(this.p.groupButton&&(f=e("<input type='button' value='+ {}' title='Add subgroup' class='add-group "+d.button+"'/>"),f.bind("click",function(){return void 0===t.groups&&(t.groups=[]),t.groups.push({groupOp:o.groupOps[0].op,rules:[],groups:[]}),a.reDraw(),a.onchange(),!1})),c.append(f),this.p.ruleButtons===!0){var m,v=e("<input type='button' value='+' title='Add rule' class='add-rule ui-add "+d.button+"'/>");
v.bind("click",function(){for(void 0===t.rules&&(t.rules=[]),r=0;r<a.p.columns.length;r++){var i=void 0===a.p.columns[r].search||a.p.columns[r].search,o=a.p.columns[r].hidden===!0,s=a.p.columns[r].searchoptions.searchhidden===!0;if(s&&i||i&&!o){m=a.p.columns[r];break}}var n;return n=m.searchoptions.sopt?m.searchoptions.sopt:a.p.sopt?a.p.sopt:-1!==e.inArray(m.searchtype,a.p.strarr)?a.p.stropts:a.p.numopts,t.rules.push({field:m.name,op:n[0],data:""}),a.reDraw(),!1}),c.append(v)}if(null!==i){var j=e("<input type='button' value='-' title='Delete group' class='delete-group "+d.button+"'/>");c.append(j),j.bind("click",function(){for(r=0;r<i.groups.length;r++)if(i.groups[r]===t){i.groups.splice(r,1);break}return a.reDraw(),a.onchange(),!1})}if(void 0!==t.groups)for(r=0;r<t.groups.length;r++){var b=e("<tr></tr>");s.append(b);var w=e("<td class='first'></td>");b.append(w);var y=e("<td colspan='4'></td>");y.append(this.createTableForGroup(t.groups[r],t)),b.append(y)}if(void 0===t.groupOp&&(t.groupOp=a.p.groupOps[0].op),void 0!==t.rules)for(r=0;r<t.rules.length;r++)s.append(this.createTableRowForRule(t.rules[r],t));return s},this.createTableRowForRule=function(t,i){var r,n,p,c,u,h=this,g=s(),f=e("<tr></tr>"),m="";f.append("<td class='first'></td>");var v=e("<td class='columns'></td>");f.append(v);var j,b=e("<select class='"+l.srSelect+"'></select>"),w=[];v.append(b),b.bind("change",function(){for(t.field=e(b).val(),p=e(this).parents("tr:first"),e(".data",p).empty(),r=0;r<h.p.columns.length;r++)if(h.p.columns[r].name===t.field){c=h.p.columns[r];break}if(c){c.searchoptions.id=e.jgrid.randId(),c.searchoptions.name=t.field,c.searchoptions.oper="filter",a&&"text"===c.inputtype&&(c.searchoptions.size||(c.searchoptions.size=10));var i=e.jgrid.createEl.call(g,c.inputtype,c.searchoptions,"",!0,h.p.ajaxSelectOptions||{},!0);e(i).addClass("input-elm "+l.srInput),n=c.searchoptions.sopt?c.searchoptions.sopt:h.p.sopt?h.p.sopt:-1!==e.inArray(c.searchtype,h.p.strarr)?h.p.stropts:h.p.numopts;var o="",s=0;for(w=[],e.each(h.p.ops,function(){w.push(this.oper)}),r=0;r<n.length;r++)j=e.inArray(n[r],w),-1!==j&&(0===s&&(t.op=h.p.ops[j].oper),o+="<option value='"+h.p.ops[j].oper+"'>"+h.p.ops[j].text+"</option>",s++);if(e(".selectopts",p).empty().append(o),e(".selectopts",p)[0].selectedIndex=0,e.jgrid.msie&&e.jgrid.msiever()<9){var d=parseInt(e("select.selectopts",p)[0].offsetWidth,10)+1;e(".selectopts",p).width(d),e(".selectopts",p).css("width","auto")}e(".data",p).append(i),e.jgrid.bindEv.call(g,i,c.searchoptions),e(".input-elm",p).bind("change",function(i){var r=i.target;t.data="SPAN"===r.nodeName.toUpperCase()&&c.searchoptions&&e.isFunction(c.searchoptions.custom_value)?c.searchoptions.custom_value.call(g,e(r).children(".customelement:first"),"get"):r.value,h.onchange()}),setTimeout(function(){t.data=e(i).val(),h.onchange()},0)}});var y=0;for(r=0;r<h.p.columns.length;r++){var x=void 0===h.p.columns[r].search||h.p.columns[r].search,q=h.p.columns[r].hidden===!0,_=h.p.columns[r].searchoptions.searchhidden===!0;(_&&x||x&&!q)&&(u="",t.field===h.p.columns[r].name&&(u=" selected='selected'",y=r),m+="<option value='"+h.p.columns[r].name+"'"+u+">"+h.p.columns[r].label+"</option>")}b.append(m);var $=e("<td class='operators'></td>");f.append($),c=o.columns[y],c.searchoptions.id=e.jgrid.randId(),a&&"text"===c.inputtype&&(c.searchoptions.size||(c.searchoptions.size=10)),c.searchoptions.name=t.field,c.searchoptions.oper="filter";var D=e.jgrid.createEl.call(g,c.inputtype,c.searchoptions,t.data,!0,h.p.ajaxSelectOptions||{},!0);("nu"===t.op||"nn"===t.op)&&(e(D).attr("readonly","true"),e(D).attr("disabled","true"));var C=e("<select class='selectopts "+l.srSelect+"'></select>");for($.append(C),C.bind("change",function(){t.op=e(C).val(),p=e(this).parents("tr:first");var i=e(".input-elm",p)[0];"nu"===t.op||"nn"===t.op?(t.data="","SELECT"!==i.tagName.toUpperCase()&&(i.value=""),i.setAttribute("readonly","true"),i.setAttribute("disabled","true")):("SELECT"===i.tagName.toUpperCase()&&(t.data=i.value),i.removeAttribute("readonly"),i.removeAttribute("disabled")),h.onchange()}),n=c.searchoptions.sopt?c.searchoptions.sopt:h.p.sopt?h.p.sopt:-1!==e.inArray(c.searchtype,h.p.strarr)?h.p.stropts:h.p.numopts,m="",e.each(h.p.ops,function(){w.push(this.oper)}),r=0;r<n.length;r++)j=e.inArray(n[r],w),-1!==j&&(u=t.op===h.p.ops[j].oper?" selected='selected'":"",m+="<option value='"+h.p.ops[j].oper+"'"+u+">"+h.p.ops[j].text+"</option>");C.append(m);var I=e("<td class='data'></td>");f.append(I),I.append(D),e.jgrid.bindEv.call(g,D,c.searchoptions),e(D).addClass("input-elm "+l.srInput).bind("change",function(){t.data="custom"===c.inputtype?c.searchoptions.custom_value.call(g,e(this).children(".customelement:first"),"get"):e(this).val(),h.onchange()});var G=e("<td></td>");if(f.append(G),this.p.ruleButtons===!0){var F=e("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del "+d.button+"'/>");G.append(F),F.bind("click",function(){for(r=0;r<i.rules.length;r++)if(i.rules[r]===t){i.rules.splice(r,1);break}return h.reDraw(),h.onchange(),!1})}return f},this.getStringForGroup=function(e){var t,i="(";if(void 0!==e.groups)for(t=0;t<e.groups.length;t++){i.length>1&&(i+=" "+e.groupOp+" ");try{i+=this.getStringForGroup(e.groups[t])}catch(r){alert(r)}}if(void 0!==e.rules)try{for(t=0;t<e.rules.length;t++)i.length>1&&(i+=" "+e.groupOp+" "),i+=this.getStringForRule(e.rules[t])}catch(o){alert(o)}return i+=")","()"===i?"":i},this.getStringForRule=function(t){var i,r,a,s,n="",l="",d=["int","integer","float","number","currency"];for(i=0;i<this.p.ops.length;i++)if(this.p.ops[i].oper===t.op){n=this.p.operands.hasOwnProperty(t.op)?this.p.operands[t.op]:"",l=this.p.ops[i].oper;break}for(i=0;i<this.p.columns.length;i++)if(this.p.columns[i].name===t.field){r=this.p.columns[i];break}return void 0===r?"":(s=t.data,("bw"===l||"bn"===l)&&(s+="%"),("ew"===l||"en"===l)&&(s="%"+s),("cn"===l||"nc"===l)&&(s="%"+s+"%"),("in"===l||"ni"===l)&&(s=" ("+s+")"),o.errorcheck&&p(t.data,r),a=-1!==e.inArray(r.searchtype,d)||"nn"===l||"nu"===l?t.field+" "+n+" "+s:t.field+" "+n+' "'+s+'"')},this.resetFilter=function(){this.p.filter=e.extend(!0,{},this.p.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){e("th."+d.error,this).html(""),e("tr.error",this).hide()},this.showError=function(){e("th."+d.error,this).html(this.p.errmsg),e("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(o.filter)},this.toString=function(){function e(e){if(i.p.errorcheck){var t,r;for(t=0;t<i.p.columns.length;t++)if(i.p.columns[t].name===e.field){r=i.p.columns[t];break}r&&p(e.data,r)}return e.op+"(item."+e.field+",'"+e.data+"')"}function t(i){var r,o="(";if(void 0!==i.groups)for(r=0;r<i.groups.length;r++)o.length>1&&(o+="OR"===i.groupOp?" || ":" && "),o+=t(i.groups[r]);if(void 0!==i.rules)for(r=0;r<i.rules.length;r++)o.length>1&&(o+="OR"===i.groupOp?" || ":" && "),o+=e(i.rules[r]);return o+=")","()"===o?"":o}var i=this;return t(this.p.filter)},this.reDraw(),this.p.showQuery&&this.onchange(),this.filter=!0}}})},e.extend(e.fn.jqFilter,{toSQLString:function(){var e="";return this.each(function(){e=this.toUserFriendlyString()}),e},filterData:function(){var e;return this.each(function(){e=this.p.filter}),e},getParameter:function(e){return void 0!==e&&this.p.hasOwnProperty(e)?this.p[e]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(t){"string"==typeof t&&(t=e.jgrid.parse(t)),this.each(function(){this.p.filter=t,this.reDraw(),this.onchange()})}}),e.jgrid.extend({filterToolbar:function(t){var i=e.jgrid.getRegional(this[0],"search");return t=e.extend({autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",searchOperators:!1,resetIcon:"x",operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^","in":"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},i,t||{}),this.each(function(){var r=this;if(!r.p.filterToolbar){e(r).data("filterToolbar")||e(r).data("filterToolbar",t),r.p.force_regional&&(t=e.extend(t,i));var o,a,s,n=e.jgrid.styleUI[r.p.styleUI||"jQueryUI"].filter,l=e.jgrid.styleUI[r.p.styleUI||"jQueryUI"].common,d=e.jgrid.styleUI[r.p.styleUI||"jQueryUI"].base,p=function(){var i,o,a,s={},n=0,l={};e.each(r.p.colModel,function(){var d=e("#gs_"+r.p.idPrefix+e.jgrid.jqID(this.name),this.frozen===!0&&r.p.frozenColumns===!0?r.grid.fhDiv:r.grid.hDiv);if(o=this.index||this.name,a=t.searchOperators?d.parent().prev().children("a").attr("soper")||t.defaultSearch:this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:"select"===this.stype?"eq":t.defaultSearch,i="custom"===this.stype&&e.isFunction(this.searchoptions.custom_value)&&d.length>0&&"SPAN"===d[0].nodeName.toUpperCase()?this.searchoptions.custom_value.call(r,d.children(".customelement:first"),"get"):d.val(),i||"nu"===a||"nn"===a)s[o]=i,l[o]=a,n++;else try{delete r.p.postData[o]}catch(p){}});var d=n>0;if(t.stringResult===!0||"local"===r.p.datatype||t.searchOperators===!0){var p='{"groupOp":"'+t.groupOp+'","rules":[',c=0;e.each(s,function(e,t){c>0&&(p+=","),p+='{"field":"'+e+'",',p+='"op":"'+l[e]+'",',t+="",p+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',c++}),p+="]}",e.extend(r.p.postData,{filters:p}),e.each(["searchField","searchString","searchOper"],function(e,t){r.p.postData.hasOwnProperty(t)&&delete r.p.postData[t]})}else e.extend(r.p.postData,s);var u;r.p.searchurl&&(u=r.p.url,e(r).jqGrid("setGridParam",{url:r.p.searchurl}));var h="stop"===e(r).triggerHandler("jqGridToolbarBeforeSearch");!h&&e.isFunction(t.beforeSearch)&&(h=t.beforeSearch.call(r)),h||e(r).jqGrid("setGridParam",{search:d}).trigger("reloadGrid",[{page:1}]),u&&e(r).jqGrid("setGridParam",{url:u}),e(r).triggerHandler("jqGridToolbarAfterSearch"),e.isFunction(t.afterSearch)&&t.afterSearch.call(r)},c=function(i){var o,a={},s=0;i="boolean"!=typeof i||i,e.each(r.p.colModel,function(){var t,i=e("#gs_"+r.p.idPrefix+e.jgrid.jqID(this.name),this.frozen===!0&&r.p.frozenColumns===!0?r.grid.fhDiv:r.grid.hDiv);switch(this.searchoptions&&void 0!==this.searchoptions.defaultValue&&(t=this.searchoptions.defaultValue),o=this.index||this.name,this.stype){case"select":if(i.find("option").each(function(i){return 0===i&&(this.selected=!0),e(this).val()===t?(this.selected=!0,!1):void 0}),void 0!==t)a[o]=t,s++;else try{delete r.p.postData[o]}catch(n){}break;case"text":if(i.val(t||""),void 0!==t)a[o]=t,s++;else try{delete r.p.postData[o]}catch(l){}break;case"custom":e.isFunction(this.searchoptions.custom_value)&&i.length>0&&"SPAN"===i[0].nodeName.toUpperCase()&&this.searchoptions.custom_value.call(r,i.children(".customelement:first"),"set",t||"")}});var n=s>0;if(r.p.resetsearch=!0,t.stringResult===!0||"local"===r.p.datatype){var l='{"groupOp":"'+t.groupOp+'","rules":[',d=0;e.each(a,function(e,t){d>0&&(l+=","),l+='{"field":"'+e+'",',l+='"op":"eq",',t+="",l+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',d++}),l+="]}",e.extend(r.p.postData,{filters:l}),e.each(["searchField","searchString","searchOper"],function(e,t){r.p.postData.hasOwnProperty(t)&&delete r.p.postData[t]})}else e.extend(r.p.postData,a);var p;r.p.searchurl&&(p=r.p.url,e(r).jqGrid("setGridParam",{url:r.p.searchurl}));var c="stop"===e(r).triggerHandler("jqGridToolbarBeforeClear");!c&&e.isFunction(t.beforeClear)&&(c=t.beforeClear.call(r)),c||i&&e(r).jqGrid("setGridParam",{search:n}).trigger("reloadGrid",[{page:1}]),p&&e(r).jqGrid("setGridParam",{url:p}),e(r).triggerHandler("jqGridToolbarAfterClear"),e.isFunction(t.afterClear)&&t.afterClear()},u=function(){var t=e("tr.ui-search-toolbar",r.grid.hDiv),i=r.p.frozenColumns===!0&&e("tr.ui-search-toolbar",r.grid.fhDiv);"none"===t.css("display")?(t.show(),i&&i.show()):(t.hide(),i&&i.hide())},h=function(i,o,a){e("#sopt_menu").remove(),o=parseInt(o,10),a=parseInt(a,10)+18;for(var s,d,c=e(".ui-jqgrid-view").css("font-size")||"11px",u='<ul id="sopt_menu" class="ui-search-menu modal-content" role="menu" tabindex="0" style="font-size:'+c+";left:"+o+"px;top:"+a+'px;">',h=e(i).attr("soper"),g=[],f=0,m=e(i).attr("colname"),v=r.p.colModel.length;v>f&&r.p.colModel[f].name!==m;)f++;var j=r.p.colModel[f],b=e.extend({},j.searchoptions);for(b.sopt||(b.sopt=[],b.sopt[0]="select"===j.stype?"eq":t.defaultSearch),e.each(t.odata,function(){g.push(this.oper)}),f=0;f<b.sopt.length;f++)d=e.inArray(b.sopt[f],g),-1!==d&&(s=h===t.odata[d].oper?l.highlight:"",u+='<li class="ui-menu-item '+s+'" role="presentation"><a class="'+l.cornerall+' g-menu-item" tabindex="0" role="menuitem" value="'+t.odata[d].oper+'" oper="'+t.operands[t.odata[d].oper]+'"><table class="ui-common-table"><tr><td width="25px">'+t.operands[t.odata[d].oper]+"</td><td>"+t.odata[d].text+"</td></tr></table></a></li>");u+="</ul>",e("body").append(u),e("#sopt_menu").addClass("ui-menu "+n.menu_widget),e("#sopt_menu > li > a").hover(function(){e(this).addClass(l.hover)},function(){e(this).removeClass(l.hover)}).click(function(){var o=e(this).attr("value"),a=e(this).attr("oper");if(e(r).triggerHandler("jqGridToolbarSelectOper",[o,a,i]),e("#sopt_menu").hide(),e(i).text(a).attr("soper",o),t.autosearch===!0){var s=e(i).parent().next().children()[0];(e(s).val()||"nu"===o||"nn"===o)&&p()}})},g=e("<tr class='ui-search-toolbar' role='row'></tr>");t.restoreFromFilters&&(s=r.p.postData.filters,s&&("string"==typeof s&&(s=e.jgrid.parse(s)),a=!!s.rules.length&&s.rules)),e.each(r.p.colModel,function(i){var s,l,c,u,h,f,m,v,j=this,b="",w="=",y=e("<th role='columnheader' class='"+d.headerBox+" ui-th-"+r.p.direction+"' id='gsh_"+r.p.id+"_"+j.name+"' ></th>"),x=e("<div></div>"),q=e("<table class='ui-search-table' cellspacing='0'><tr><td class='ui-search-oper' headers=''></td><td class='ui-search-input' headers=''></td><td class='ui-search-clear' headers=''></td></tr></table>");if(this.hidden===!0&&e(y).css("display","none"),this.search=this.search!==!1,void 0===this.stype&&(this.stype="text"),s=e.extend({},this.searchoptions||{},{name:j.index||j.name,id:"gs_"+r.p.idPrefix+j.name,oper:"search"}),this.search){if(t.restoreFromFilters&&a){v=!1;for(var _=0;_<a.length;_++)if(a[_].field){var $=j.index||j.name;if($===a[_].field){v=a[_];break}}}if(t.searchOperators){for(l=s.sopt?s.sopt[0]:"select"===j.stype?"eq":t.defaultSearch,t.restoreFromFilters&&v&&(l=v.op),c=0;c<t.odata.length;c++)if(t.odata[c].oper===l){w=t.operands[l]||"";break}u=null!=s.searchtitle?s.searchtitle:t.operandTitle,b="<a title='"+u+"' style='padding-right: 0.5em;' soper='"+l+"' class='soptclass' colname='"+this.name+"'>"+w+"</a>"}switch(e("td:eq(0)",q).attr("colindex",i).append(b),void 0===s.clearSearch&&(s.clearSearch=!0),s.clearSearch?(h=t.resetTitle||"Clear Search Value",e("td:eq(2)",q).append("<a title='"+h+"' style='padding-right: 0.3em;padding-left: 0.3em;' class='clearsearchclass'>"+t.resetIcon+"</a>")):e("td:eq(2)",q).hide(),this.surl&&(s.dataUrl=this.surl),f="",s.defaultValue&&(f=e.isFunction(s.defaultValue)?s.defaultValue.call(r):s.defaultValue),t.restoreFromFilters&&v&&(f=v.data),m=e.jgrid.createEl.call(r,this.stype,s,f,!1,e.extend({},e.jgrid.ajaxOptions,r.p.ajaxSelectOptions||{})),e(m).addClass(n.srInput),e("td:eq(1)",q).append(m),e(x).append(q),null==s.dataEvents&&(s.dataEvents=[]),this.stype){case"select":t.autosearch===!0&&s.dataEvents.push({type:"change",fn:function(){return p(),!1}});break;case"text":t.autosearch===!0&&(t.searchOnEnter?s.dataEvents.push({type:"keypress",fn:function(e){var t=e.charCode||e.keyCode||0;return 13===t?(p(),!1):this}}):s.dataEvents.push({type:"keydown",fn:function(e){var i=e.which;switch(i){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:o&&clearTimeout(o),o=setTimeout(function(){p()},t.autosearchDelay)}}}))}e.jgrid.bindEv.call(r,m,s)}e(y).append(x),e(g).append(y),t.searchOperators||e("td:eq(0)",q).hide()}),e("table thead",r.grid.hDiv).append(g),t.searchOperators&&(e(".soptclass",g).click(function(t){var i=e(this).offset(),r=i.left,o=i.top;h(this,r,o),t.stopPropagation()}),e("body").on("click",function(t){"soptclass"!==t.target.className&&e("#sopt_menu").hide()})),e(".clearsearchclass",g).click(function(){var i=e(this).parents("tr:first"),o=parseInt(e("td.ui-search-oper",i).attr("colindex"),10),a=e.extend({},r.p.colModel[o].searchoptions||{}),s=a.defaultValue?a.defaultValue:"";"select"===r.p.colModel[o].stype?s?e("td.ui-search-input select",i).val(s):e("td.ui-search-input select",i)[0].selectedIndex=0:e("td.ui-search-input input",i).val(s),t.autosearch===!0&&p()}),this.p.filterToolbar=!0,this.triggerToolbar=p,this.clearToolbar=c,this.toggleToolbar=u}})},destroyFilterToolbar:function(){return this.each(function(){this.p.filterToolbar&&(this.triggerToolbar=null,this.clearToolbar=null,this.toggleToolbar=null,this.p.filterToolbar=!1,e(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())})},searchGrid:function(t){var i=e.jgrid.getRegional(this[0],"search");return t=e.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,sortStrategy:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,jqModal:!0,modal:!1,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,toTop:!0,overlay:30,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE","in":"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"ISNOT NULL"}},i,t||{}),this.each(function(){function i(i){s=e(r).triggerHandler("jqGridFilterBeforeShow",[i]),void 0===s&&(s=!0),s&&e.isFunction(t.beforeShowSearch)&&(s=t.beforeShowSearch.call(r,i)),s&&(e.jgrid.viewModal("#"+e.jgrid.jqID(l.themodal),{gbox:"#gbox_"+e.jgrid.jqID(a),jqm:t.jqModal,modal:t.modal,overlay:t.overlay,toTop:t.toTop}),e(r).triggerHandler("jqGridFilterAfterShow",[i]),e.isFunction(t.afterShowSearch)&&t.afterShowSearch.call(r,i))}var r=this;if(r.grid){var o,a="fbox_"+r.p.id,s=!0,n=!0,l={themodal:"searchmod"+a,modalhead:"searchhd"+a,modalcontent:"searchcnt"+a,scrollelm:a},d=r.p.postData[t.sFilter],p=e.jgrid.styleUI[r.p.styleUI||"jQueryUI"].filter,c=e.jgrid.styleUI[r.p.styleUI||"jQueryUI"].common;if(t.styleUI=r.p.styleUI,"string"==typeof d&&(d=e.jgrid.parse(d)),t.recreateFilter===!0&&e("#"+e.jgrid.jqID(l.themodal)).remove(),void 0!==e("#"+e.jgrid.jqID(l.themodal))[0])i(e("#fbox_"+e.jgrid.jqID(r.p.id)));else{var u=e("<div><div id='"+a+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore("#gview_"+e.jgrid.jqID(r.p.id)),h="left",g="";"rtl"===r.p.direction&&(h="right",g=" style='text-align:left'",u.attr("dir","rtl"));var f,m,v=e.extend([],r.p.colModel),j="<a id='"+a+"_search' class='fm-button "+c.button+" fm-button-icon-right ui-search'><span class='"+c.icon_base+" "+p.icon_search+"'></span>"+t.Find+"</a>",b="<a id='"+a+"_reset' class='fm-button "+c.button+" fm-button-icon-left ui-reset'><span class='"+c.icon_base+" "+p.icon_reset+"'></span>"+t.Reset+"</a>",w="",y="",x=!1,q=-1;if(t.showQuery&&(w="<a id='"+a+"_query' class='fm-button "+c.button+" fm-button-icon-left'><span class='"+c.icon_base+" "+p.icon_query+"'></span>Query</a>"),t.columns.length?(v=t.columns,q=0,f=v[0].index||v[0].name):e.each(v,function(e,t){if(t.label||(t.label=r.p.colNames[e]),!x){var i=void 0===t.search||t.search,o=t.hidden===!0,a=t.searchoptions&&t.searchoptions.searchhidden===!0;(a&&i||i&&!o)&&(x=!0,f=t.index||t.name,q=e)}}),!d&&f||t.multipleSearch===!1){var _="eq";q>=0&&v[q].searchoptions&&v[q].searchoptions.sopt?_=v[q].searchoptions.sopt[0]:t.sopt&&t.sopt.length&&(_=t.sopt[0]),d={groupOp:"AND",rules:[{field:f,op:_,data:""}]}}x=!1,t.tmplNames&&t.tmplNames.length&&(x=!0,y="<tr><td class='ui-search-label'>"+t.tmplLabel+"</td>",y+="<td><select class='ui-template "+p.srSelect+"'>",y+="<option value='default'>Default</option>",e.each(t.tmplNames,function(e,t){y+="<option value='"+e+"'>"+t+"</option>"}),y+="</select></td></tr>"),m="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+a+"_2'><tbody><tr><td colspan='2'><hr class='"+c.content+"' style='margin:1px'/></td></tr>"+y+"<tr><td class='EditButton' style='text-align:"+h+"'>"+b+"</td><td class='EditButton' "+g+">"+w+j+"</td></tr></tbody></table>",a=e.jgrid.jqID(a),e("#"+a).jqFilter({columns:v,sortStrategy:t.sortStrategy,filter:t.loadDefaults?d:null,showQuery:t.showQuery,errorcheck:t.errorcheck,sopt:t.sopt,groupButton:t.multipleGroup,ruleButtons:t.multipleSearch,afterRedraw:t.afterRedraw,ops:t.odata,operands:t.operands,ajaxSelectOptions:r.p.ajaxSelectOptions,groupOps:t.groupOps,onChange:function(){this.p.showQuery&&e(".query",this).html(this.toUserFriendlyString()),e.isFunction(t.afterChange)&&t.afterChange.call(r,e("#"+a),t)},direction:r.p.direction,id:r.p.id}),u.append(m),x&&t.tmplFilters&&t.tmplFilters.length&&e(".ui-template",u).bind("change",function(){var i=e(this).val();return"default"===i?e("#"+a).jqFilter("addFilter",d):e("#"+a).jqFilter("addFilter",t.tmplFilters[parseInt(i,10)]),!1}),t.multipleGroup===!0&&(t.multipleSearch=!0),e(r).triggerHandler("jqGridFilterInitialize",[e("#"+a)]),e.isFunction(t.onInitializeSearch)&&t.onInitializeSearch.call(r,e("#"+a)),t.gbox="#gbox_"+a,t.layer?e.jgrid.createModal(l,u,t,"#gview_"+e.jgrid.jqID(r.p.id),e("#gbox_"+e.jgrid.jqID(r.p.id))[0],"#"+e.jgrid.jqID(t.layer),{position:"relative"}):e.jgrid.createModal(l,u,t,"#gview_"+e.jgrid.jqID(r.p.id),e("#gbox_"+e.jgrid.jqID(r.p.id))[0]),(t.searchOnEnter||t.closeOnEscape)&&e("#"+e.jgrid.jqID(l.themodal)).keydown(function(i){var r=e(i.target);return!t.searchOnEnter||13!==i.which||r.hasClass("add-group")||r.hasClass("add-rule")||r.hasClass("delete-group")||r.hasClass("delete-rule")||r.hasClass("fm-button")&&r.is("[id$=_query]")?t.closeOnEscape&&27===i.which?(e("#"+e.jgrid.jqID(l.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:(e("#"+a+"_search").click(),!1)}),w&&e("#"+a+"_query").bind("click",function(){return e(".queryresult",u).toggle(),!1}),void 0===t.stringResult&&(t.stringResult=t.multipleSearch),e("#"+a+"_search").bind("click",function(){var i,s,d={};if(o=e("#"+a),o.find(".input-elm:focus").change(),s=o.jqFilter("filterData"),t.errorcheck&&(o[0].hideError(),t.showQuery||o.jqFilter("toSQLString"),o[0].p.error))return o[0].showError(),!1;if(t.stringResult){try{i=JSON.stringify(s)}catch(p){}"string"==typeof i&&(d[t.sFilter]=i,e.each([t.sField,t.sValue,t.sOper],function(){d[this]=""}))}else t.multipleSearch?(d[t.sFilter]=s,e.each([t.sField,t.sValue,t.sOper],function(){d[this]=""})):(d[t.sField]=s.rules[0].field,d[t.sValue]=s.rules[0].data,d[t.sOper]=s.rules[0].op,d[t.sFilter]="");return r.p.search=!0,e.extend(r.p.postData,d),n=e(r).triggerHandler("jqGridFilterSearch"),void 0===n&&(n=!0),n&&e.isFunction(t.onSearch)&&(n=t.onSearch.call(r,r.p.filters)),n!==!1&&e(r).trigger("reloadGrid",[{page:1}]),t.closeAfterSearch&&e.jgrid.hideModal("#"+e.jgrid.jqID(l.themodal),{gb:"#gbox_"+e.jgrid.jqID(r.p.id),jqm:t.jqModal,onClose:t.onClose}),!1}),e("#"+a+"_reset").bind("click",function(){var i={},o=e("#"+a);return r.p.search=!1,r.p.resetsearch=!0,t.multipleSearch===!1?i[t.sField]=i[t.sValue]=i[t.sOper]="":i[t.sFilter]="",o[0].resetFilter(),x&&e(".ui-template",u).val("default"),e.extend(r.p.postData,i),n=e(r).triggerHandler("jqGridFilterReset"),void 0===n&&(n=!0),n&&e.isFunction(t.onReset)&&(n=t.onReset.call(r)),n!==!1&&e(r).trigger("reloadGrid",[{page:1}]),t.closeAfterReset&&e.jgrid.hideModal("#"+e.jgrid.jqID(l.themodal),{gb:"#gbox_"+e.jgrid.jqID(r.p.id),jqm:t.jqModal,onClose:t.onClose}),!1}),i(e("#"+a)),e(".fm-button:not(."+c.disabled+")",u).hover(function(){e(this).addClass(c.hover)},function(){e(this).removeClass(c.hover)})}}})}})}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base","./grid.common"],e):e(jQuery)}(function(e){"use strict";e.jgrid.inlineEdit=e.jgrid.inlineEdit||{},e.jgrid.extend({editRow:function(t,i,r,o,a,s,n,l,d){var p={},c=e.makeArray(arguments).slice(1);return"object"===e.type(c[0])?p=c[0]:(void 0!==i&&(p.keys=i),e.isFunction(r)&&(p.oneditfunc=r),e.isFunction(o)&&(p.successfunc=o),void 0!==a&&(p.url=a),void 0!==s&&(p.extraparam=s),e.isFunction(n)&&(p.aftersavefunc=n),e.isFunction(l)&&(p.errorfunc=l),e.isFunction(d)&&(p.afterrestorefunc=d)),p=e.extend(!0,{keys:!1,keyevent:"keydown",oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",focusField:!0},e.jgrid.inlineEdit,p),this.each(function(){var i,r,o,a,s,n,l=this,d=0,c=null,u={},h=e(this).jqGrid("getStyleUI",l.p.styleUI+".inlinedit","inputClass",!0);l.grid&&(a=e(l).jqGrid("getInd",t,!0),a!==!1&&(n=e.isFunction(p.beforeEditRow)?p.beforeEditRow.call(l,p,t):void 0,void 0===n&&(n=!0),n&&(o=e(a).attr("editable")||"0","0"!==o||e(a).hasClass("not-editable-row")||(s=l.p.colModel,e('td[role="gridcell"]',a).each(function(o){i=s[o].name;var a=l.p.treeGrid===!0&&i===l.p.ExpandColumn;if(a)r=e("span:first",this).html();else try{r=e.unformat.call(l,this,{rowId:t,colModel:s[o]},o)}catch(n){r=s[o].edittype&&"textarea"===s[o].edittype?e(this).text():e(this).html()}if("cb"!==i&&"subgrid"!==i&&"rn"!==i&&(l.p.autoencode&&(r=e.jgrid.htmlDecode(r)),u[i]=r,s[o].editable===!0)){null===c&&(c=o),a?e("span:first",this).html(""):e(this).html("");var p=e.extend({},s[o].editoptions||{},{id:t+"_"+i,name:i,rowId:t,oper:"edit"});s[o].edittype||(s[o].edittype="text"),("&nbsp;"===r||"&#160;"===r||1===r.length&&160===r.charCodeAt(0))&&(r="");var g=e.jgrid.createEl.call(l,s[o].edittype,p,r,!0,e.extend({},e.jgrid.ajaxOptions,l.p.ajaxSelectOptions||{}));e(g).addClass("editable inline-edit-cell"),e.inArray(s[o].edittype,["text","textarea","password","select"])>-1&&e(g).addClass(h),a?e("span:first",this).append(g):e(this).append(g),e.jgrid.bindEv.call(l,g,p),"select"===s[o].edittype&&void 0!==s[o].editoptions&&s[o].editoptions.multiple===!0&&void 0===s[o].editoptions.dataUrl&&e.jgrid.msie&&e(g).width(e(g).width()),d++}}),d>0&&(u.id=t,l.p.savedRow.push(u),e(a).attr("editable","1"),p.focusField&&("number"==typeof p.focusField&&parseInt(p.focusField,10)<=s.length&&(c=p.focusField),setTimeout(function(){var t=e("td:eq("+c+") :input:visible",a).not(":disabled");t.length>0&&t.focus()},0)),p.keys===!0&&e(a).bind(p.keyevent,function(i){if(27===i.keyCode){if(e(l).jqGrid("restoreRow",t,p.afterrestorefunc),l.p.inlineNav)try{e(l).jqGrid("showAddEditButtons")}catch(r){}return!1}if(13===i.keyCode){var o=i.target;if("TEXTAREA"===o.tagName)return!0;if(e(l).jqGrid("saveRow",t,p)&&l.p.inlineNav)try{e(l).jqGrid("showAddEditButtons")}catch(a){}return!1}}),e(l).triggerHandler("jqGridInlineEditRow",[t,p]),e.isFunction(p.oneditfunc)&&p.oneditfunc.call(l,t))))))})},saveRow:function(t,i,r,o,a,s,n){var l=e.makeArray(arguments).slice(1),d={},p=this[0];"object"===e.type(l[0])?d=l[0]:(e.isFunction(i)&&(d.successfunc=i),void 0!==r&&(d.url=r),void 0!==o&&(d.extraparam=o),e.isFunction(a)&&(d.aftersavefunc=a),e.isFunction(s)&&(d.errorfunc=s),e.isFunction(n)&&(d.afterrestorefunc=n)),d=e.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",saveui:"enable",savetext:e.jgrid.getRegional(p,"defaults.savetext")},e.jgrid.inlineEdit,d);var c,u,h,g,f,m=!1,v={},j={},b={},w=!1,y=e.trim(e(p).jqGrid("getStyleUI",p.p.styleUI+".common","error",!0));if(!p.grid)return m;if(f=e(p).jqGrid("getInd",t,!0),f===!1)return m;var x=e.jgrid.getRegional(this,"errors"),q=e.jgrid.getRegional(this,"edit"),_=e.isFunction(d.beforeSaveRow)?d.beforeSaveRow.call(p,d,t):void 0;if(void 0===_&&(_=!0),_){if(u=e(f).attr("editable"),d.url=d.url||p.p.editurl,"1"===u){var $;if(e('td[role="gridcell"]',f).each(function(t){if($=p.p.colModel[t],c=$.name,"cb"!==c&&"subgrid"!==c&&$.editable===!0&&"rn"!==c&&!e(this).hasClass("not-editable-cell")){switch($.edittype){case"checkbox":var i=["Yes","No"];$.editoptions&&(i=$.editoptions.value.split(":")),v[c]=e("input",this).is(":checked")?i[0]:i[1];break;case"text":case"password":case"textarea":case"button":v[c]=e("input, textarea",this).val();break;case"select":if($.editoptions.multiple){var r=e("select",this),o=[];v[c]=e(r).val(),v[c]?v[c]=v[c].join(","):v[c]="",e("select option:selected",this).each(function(t,i){o[t]=e(i).text()}),j[c]=o.join(",")}else v[c]=e("select option:selected",this).val(),j[c]=e("select option:selected",this).text();$.formatter&&"select"===$.formatter&&(j={});break;case"custom":try{if(!$.editoptions||!e.isFunction($.editoptions.custom_value))throw"e1";if(v[c]=$.editoptions.custom_value.call(p,e(".customelement",this),"get"),void 0===v[c])throw"e2"}catch(a){"e1"===a?e.jgrid.info_dialog(x.errcap,"function 'custom_value' "+q.msg.nodefined,q.bClose,{styleUI:p.p.styleUI}):e.jgrid.info_dialog(x.errcap,a.message,q.bClose,{styleUI:p.p.styleUI})}}if(g=e.jgrid.checkValues.call(p,v[c],t),g[0]===!1)return!1;p.p.autoencode&&(v[c]=e.jgrid.htmlEncode(v[c])),"clientArray"!==d.url&&$.editoptions&&$.editoptions.NullIfEmpty===!0&&""===v[c]&&(b[c]="null",w=!0)}}),g[0]===!1){try{var D=e(p).jqGrid("getGridRowById",t),C=e.jgrid.findPos(D);e.jgrid.info_dialog(x.errcap,g[1],q.bClose,{left:C[0],top:C[1]+e(D).outerHeight(),styleUI:p.p.styleUI})}catch(I){alert(g[1])}return m}var G,F=p.p.prmNames,S=t;if(G=p.p.keyName===!1?F.id:p.p.keyName,v){if(v[F.oper]=F.editoper,void 0===v[G]||""===v[G])v[G]=t;else if(f.id!==p.p.idPrefix+v[G]){var k=e.jgrid.stripPref(p.p.idPrefix,t);if(void 0!==p.p._index[k]&&(p.p._index[v[G]]=p.p._index[k],delete p.p._index[k]),t=p.p.idPrefix+v[G],e(f).attr("id",t),p.p.selrow===S&&(p.p.selrow=t),e.isArray(p.p.selarrrow)){var R=e.inArray(S,p.p.selarrrow);R>=0&&(p.p.selarrrow[R]=t)}if(p.p.multiselect){var M="jqg_"+p.p.id+"_"+t;e("input.cbox",f).attr("id",M).attr("name",M)}}void 0===p.p.inlineData&&(p.p.inlineData={}),v=e.extend({},v,p.p.inlineData,d.extraparam)}if("clientArray"===d.url){v=e.extend({},v,j),p.p.autoencode&&e.each(v,function(t,i){v[t]=e.jgrid.htmlDecode(i)});var N,O=e(p).jqGrid("setRowData",t,v);for(e(f).attr("editable","0"),N=0;N<p.p.savedRow.length;N++)if(String(p.p.savedRow[N].id)===String(S)){h=N;break}h>=0&&p.p.savedRow.splice(h,1),e(p).triggerHandler("jqGridInlineAfterSaveRow",[t,O,v,d]),e.isFunction(d.aftersavefunc)&&d.aftersavefunc.call(p,t,O,v,d),m=!0,e(f).removeClass("jqgrid-new-row").unbind("keydown")}else e(p).jqGrid("progressBar",{method:"show",loadtype:d.saveui,htmlcontent:d.savetext}),b=e.extend({},v,b),b[G]=e.jgrid.stripPref(p.p.idPrefix,b[G]),e.ajax(e.extend({url:d.url,data:e.isFunction(p.p.serializeRowData)?p.p.serializeRowData.call(p,b):b,type:d.mtype,async:!1,complete:function(i,r){if(e(p).jqGrid("progressBar",{method:"hide",loadtype:d.saveui,htmlcontent:d.savetext}),"success"===r){var o,a,s=!0;if(o=e(p).triggerHandler("jqGridInlineSuccessSaveRow",[i,t,d]),e.isArray(o)||(o=[!0,b]),o[0]&&e.isFunction(d.successfunc)&&(o=d.successfunc.call(p,i)),e.isArray(o)?(s=o[0],v=o[1]||v):s=o,s===!0){for(p.p.autoencode&&e.each(v,function(t,i){v[t]=e.jgrid.htmlDecode(i)}),w&&e.each(v,function(e){"null"===v[e]&&(v[e]="")}),v=e.extend({},v,j),e(p).jqGrid("setRowData",t,v),e(f).attr("editable","0"),a=0;a<p.p.savedRow.length;a++)if(String(p.p.savedRow[a].id)===String(t)){h=a;break}h>=0&&p.p.savedRow.splice(h,1),e(p).triggerHandler("jqGridInlineAfterSaveRow",[t,i,v,d]),e.isFunction(d.aftersavefunc)&&d.aftersavefunc.call(p,t,i,v,d),m=!0,e(f).removeClass("jqgrid-new-row").unbind("keydown")}else e(p).triggerHandler("jqGridInlineErrorSaveRow",[t,i,r,null,d]),e.isFunction(d.errorfunc)&&d.errorfunc.call(p,t,i,r,null),d.restoreAfterError===!0&&e(p).jqGrid("restoreRow",t,d.afterrestorefunc)}},error:function(i,r,o){
if(e("#lui_"+e.jgrid.jqID(p.p.id)).hide(),e(p).triggerHandler("jqGridInlineErrorSaveRow",[t,i,r,o,d]),e.isFunction(d.errorfunc))d.errorfunc.call(p,t,i,r,o);else{var a=i.responseText||i.statusText;try{e.jgrid.info_dialog(x.errcap,'<div class="'+y+'">'+a+"</div>",q.bClose,{buttonalign:"right",styleUI:p.p.styleUI})}catch(s){alert(a)}}d.restoreAfterError===!0&&e(p).jqGrid("restoreRow",t,d.afterrestorefunc)}},e.jgrid.ajaxOptions,p.p.ajaxRowOptions||{}))}return m}},restoreRow:function(t,i){var r=e.makeArray(arguments).slice(1),o={};return"object"===e.type(r[0])?o=r[0]:e.isFunction(i)&&(o.afterrestorefunc=i),o=e.extend(!0,{},e.jgrid.inlineEdit,o),this.each(function(){var i,r,a=this,s=-1,n={};if(a.grid&&(i=e(a).jqGrid("getInd",t,!0),i!==!1)){var l=e.isFunction(o.beforeCancelRow)?o.beforeCancelRow.call(a,o,t):void 0;if(void 0===l&&(l=!0),l){for(r=0;r<a.p.savedRow.length;r++)if(String(a.p.savedRow[r].id)===String(t)){s=r;break}if(s>=0){if(e.isFunction(e.fn.datepicker))try{e("input.hasDatepicker","#"+e.jgrid.jqID(i.id)).datepicker("hide")}catch(d){}e.each(a.p.colModel,function(){this.editable===!0&&a.p.savedRow[s].hasOwnProperty(this.name)&&(n[this.name]=a.p.savedRow[s][this.name])}),e(a).jqGrid("setRowData",t,n),e(i).attr("editable","0").unbind("keydown"),a.p.savedRow.splice(s,1),e("#"+e.jgrid.jqID(t),"#"+e.jgrid.jqID(a.p.id)).hasClass("jqgrid-new-row")&&setTimeout(function(){e(a).jqGrid("delRowData",t),e(a).jqGrid("showAddEditButtons")},0)}e(a).triggerHandler("jqGridInlineAfterRestoreRow",[t]),e.isFunction(o.afterrestorefunc)&&o.afterrestorefunc.call(a,t)}}})},addRow:function(t){return t=e.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},t||{}),this.each(function(){if(this.grid){var i=this,r=e.isFunction(t.beforeAddRow)?t.beforeAddRow.call(i,t.addRowParams):void 0;if(void 0===r&&(r=!0),r)if(t.rowID=e.isFunction(t.rowID)?t.rowID.call(i,t):null!=t.rowID?t.rowID:e.jgrid.randId(),t.useDefValues===!0&&e(i.p.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var r=this.editoptions.defaultValue,o=e.isFunction(r)?r.call(i):r;t.initdata[this.name]=o}}),e(i).jqGrid("addRowData",t.rowID,t.initdata,t.position),t.rowID=i.p.idPrefix+t.rowID,e("#"+e.jgrid.jqID(t.rowID),"#"+e.jgrid.jqID(i.p.id)).addClass("jqgrid-new-row"),t.useFormatter)e("#"+e.jgrid.jqID(t.rowID)+" .ui-inline-edit","#"+e.jgrid.jqID(i.p.id)).click();else{var o=i.p.prmNames,a=o.oper;t.addRowParams.extraparam[a]=o.addoper,e(i).jqGrid("editRow",t.rowID,t.addRowParams),e(i).jqGrid("setSelection",t.rowID)}}})},inlineNav:function(t,i){var r=this[0],o=e.jgrid.getRegional(r,"nav"),a=e.jgrid.styleUI[r.p.styleUI].inlinedit;return i=e.extend(!0,{edit:!0,editicon:a.icon_edit_nav,add:!0,addicon:a.icon_add_nav,save:!0,saveicon:a.icon_save_nav,cancel:!0,cancelicon:a.icon_cancel_nav,addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0},o,i||{}),this.each(function(){if(this.grid&&!this.p.inlineNav){var a=e.jgrid.jqID(r.p.id),s=e.trim(e(r).jqGrid("getStyleUI",r.p.styleUI+".common","disabled",!0));if(r.p.navGrid||e(r).jqGrid("navGrid",t,{refresh:!1,edit:!1,add:!1,del:!1,search:!1,view:!1}),e(r).data("inlineNav")||e(r).data("inlineNav",i),r.p.force_regional&&(i=e.extend(i,o)),r.p.inlineNav=!0,i.addParams.useFormatter===!0){var n,l=r.p.colModel;for(n=0;n<l.length;n++)if(l[n].formatter&&"actions"===l[n].formatter){if(l[n].formatoptions){var d={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},p=e.extend(d,l[n].formatoptions);i.addParams.addRowParams={keys:p.keys,oneditfunc:p.onEdit,successfunc:p.onSuccess,url:p.url,extraparam:p.extraparam,aftersavefunc:p.afterSave,errorfunc:p.onError,afterrestorefunc:p.afterRestore}}break}}i.add&&e(r).jqGrid("navButtonAdd",t,{caption:i.addtext,title:i.addtitle,buttonicon:i.addicon,id:r.p.id+"_iladd",internal:!0,onClickButton:function(){e(r).jqGrid("addRow",i.addParams),i.addParams.useFormatter||(e("#"+a+"_ilsave").removeClass(s),e("#"+a+"_ilcancel").removeClass(s),e("#"+a+"_iladd").addClass(s),e("#"+a+"_iledit").addClass(s))}}),i.edit&&e(r).jqGrid("navButtonAdd",t,{caption:i.edittext,title:i.edittitle,buttonicon:i.editicon,id:r.p.id+"_iledit",internal:!0,onClickButton:function(){var t=e(r).jqGrid("getGridParam","selrow");t?(e(r).jqGrid("editRow",t,i.editParams),e("#"+a+"_ilsave").removeClass(s),e("#"+a+"_ilcancel").removeClass(s),e("#"+a+"_iladd").addClass(s),e("#"+a+"_iledit").addClass(s)):(e.jgrid.viewModal("#alertmod_"+a,{gbox:"#gbox_"+a,jqm:!0}),e("#jqg_alrt").focus())}}),i.save&&(e(r).jqGrid("navButtonAdd",t,{caption:i.savetext||"",title:i.savetitle||"Save row",buttonicon:i.saveicon,id:r.p.id+"_ilsave",internal:!0,onClickButton:function(){var t=r.p.savedRow[0].id;if(t){var o=r.p.prmNames,s=o.oper,n=i.editParams;e("#"+e.jgrid.jqID(t),"#"+a).hasClass("jqgrid-new-row")?(i.addParams.addRowParams.extraparam[s]=o.addoper,n=i.addParams.addRowParams):(i.editParams.extraparam||(i.editParams.extraparam={}),i.editParams.extraparam[s]=o.editoper),e(r).jqGrid("saveRow",t,n)&&e(r).jqGrid("showAddEditButtons")}else e.jgrid.viewModal("#alertmod_"+a,{gbox:"#gbox_"+a,jqm:!0}),e("#jqg_alrt").focus()}}),e("#"+a+"_ilsave").addClass(s)),i.cancel&&(e(r).jqGrid("navButtonAdd",t,{caption:i.canceltext||"",title:i.canceltitle||"Cancel row editing",buttonicon:i.cancelicon,id:r.p.id+"_ilcancel",internal:!0,onClickButton:function(){var t=r.p.savedRow[0].id,o=i.editParams;t?(e("#"+e.jgrid.jqID(t),"#"+a).hasClass("jqgrid-new-row")&&(o=i.addParams.addRowParams),e(r).jqGrid("restoreRow",t,o),e(r).jqGrid("showAddEditButtons")):(e.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+a,jqm:!0}),e("#jqg_alrt").focus())}}),e("#"+a+"_ilcancel").addClass(s)),i.restoreAfterSelect===!0&&e(r).bind("jqGridBeforeSelectRow.inlineNav",function(t,o){r.p.savedRow.length>0&&r.p.inlineNav===!0&&o!==r.p.selrow&&null!==r.p.selrow&&(r.p.selrow===i.addParams.rowID?e(r).jqGrid("delRowData",r.p.selrow):e(r).jqGrid("restoreRow",r.p.selrow,i.editParams),e(r).jqGrid("showAddEditButtons"))})}})},showAddEditButtons:function(){return this.each(function(){if(this.grid){var t=e.jgrid.jqID(this.p.id),i=e.trim(e(this).jqGrid("getStyleUI",this.p.styleUI+".common","disabled",!0));e("#"+t+"_ilsave").addClass(i),e("#"+t+"_ilcancel").addClass(i),e("#"+t+"_iladd").removeClass(i),e("#"+t+"_iledit").removeClass(i)}})}})}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base"],e):e(jQuery)}(function(e){"use strict";e.jgrid.extend({editCell:function(t,i,r){return this.each(function(){var o,a,s,n,l=this,d=e(this).jqGrid("getStyleUI",l.p.styleUI+".common","highlight",!0),p=e(this).jqGrid("getStyleUI",l.p.styleUI+".common","hover",!0),c=e(this).jqGrid("getStyleUI",l.p.styleUI+".celledit","inputClass",!0);if(l.grid&&l.p.cellEdit===!0){if(i=parseInt(i,10),l.p.selrow=l.rows[t].id,l.p.knv||e(l).jqGrid("GridNav"),l.p.savedRow.length>0){if(r===!0&&t==l.p.iRow&&i==l.p.iCol)return;e(l).jqGrid("saveCell",l.p.savedRow[0].id,l.p.savedRow[0].ic)}else window.setTimeout(function(){e("#"+e.jgrid.jqID(l.p.knv)).attr("tabindex","-1").focus()},1);if(n=l.p.colModel[i],o=n.name,"subgrid"!==o&&"cb"!==o&&"rn"!==o){if(s=e("td:eq("+i+")",l.rows[t]),n.editable!==!0||r!==!0||s.hasClass("not-editable-cell")||e.isFunction(l.p.isCellEditable)&&!l.p.isCellEditable.call(l,o,t,i))parseInt(l.p.iCol,10)>=0&&parseInt(l.p.iRow,10)>=0&&e(l.rows[l.p.iRow]).removeClass("selected-row "+p).find("td:eq("+l.p.iCol+")").removeClass("edit-cell "+d),s.addClass("edit-cell "+d),e(l.rows[t]).addClass("selected-row "+p),a=s.html().replace(/\&#160\;/gi,""),e(l).triggerHandler("jqGridSelectCell",[l.rows[t].id,o,a,t,i]),e.isFunction(l.p.onSelectCell)&&l.p.onSelectCell.call(l,l.rows[t].id,o,a,t,i);else{parseInt(l.p.iCol,10)>=0&&parseInt(l.p.iRow,10)>=0&&e(l.rows[l.p.iRow]).removeClass("selected-row "+p).find("td:eq("+l.p.iCol+")").removeClass("edit-cell "+d),e(s).addClass("edit-cell "+d),e(l.rows[t]).addClass("selected-row "+p);try{a=e.unformat.call(l,s,{rowId:l.rows[t].id,colModel:n},i)}catch(u){a=n.edittype&&"textarea"===n.edittype?e(s).text():e(s).html()}if(l.p.autoencode&&(a=e.jgrid.htmlDecode(a)),n.edittype||(n.edittype="text"),l.p.savedRow.push({id:t,ic:i,name:o,v:a}),("&nbsp;"===a||"&#160;"===a||1===a.length&&160===a.charCodeAt(0))&&(a=""),e.isFunction(l.p.formatCell)){var h=l.p.formatCell.call(l,l.rows[t].id,o,a,t,i);void 0!==h&&(a=h)}e(l).triggerHandler("jqGridBeforeEditCell",[l.rows[t].id,o,a,t,i]),e.isFunction(l.p.beforeEditCell)&&l.p.beforeEditCell.call(l,l.rows[t].id,o,a,t,i);var g=e.extend({},n.editoptions||{},{id:t+"_"+o,name:o,rowId:l.rows[t].id,oper:"edit"}),f=e.jgrid.createEl.call(l,n.edittype,g,a,!0,e.extend({},e.jgrid.ajaxOptions,l.p.ajaxSelectOptions||{}));e.inArray(n.edittype,["text","textarea","password","select"])>-1&&e(f).addClass(c),e(s).html("").append(f).attr("tabindex","0"),e.jgrid.bindEv.call(l,f,g),window.setTimeout(function(){e(f).focus()},1),e("input, select, textarea",s).bind("keydown",function(r){if(27===r.keyCode&&(e("input.hasDatepicker",s).length>0?e(".ui-datepicker").is(":hidden")?e(l).jqGrid("restoreCell",t,i):e("input.hasDatepicker",s).datepicker("hide"):e(l).jqGrid("restoreCell",t,i)),13===r.keyCode&&!r.shiftKey)return e(l).jqGrid("saveCell",t,i),!1;if(9===r.keyCode){if(l.grid.hDiv.loading)return!1;r.shiftKey?e(l).jqGrid("prevCell",t,i):e(l).jqGrid("nextCell",t,i)}r.stopPropagation()}),e("select",s).bind("change",function(r){e(l).jqGrid("saveCell",t,i),r.stopPropagation()}),e(l).triggerHandler("jqGridAfterEditCell",[l.rows[t].id,o,a,t,i]),e.isFunction(l.p.afterEditCell)&&l.p.afterEditCell.call(l,l.rows[t].id,o,a,t,i)}l.p.iCol=i,l.p.iRow=t}}})},saveCell:function(t,i){return this.each(function(){var r,o=this,a=e.jgrid.getRegional(this,"errors"),s=e.jgrid.getRegional(this,"edit");if(o.grid&&o.p.cellEdit===!0){if(r=o.p.savedRow.length>=1?0:null,null!==r){var n,l,d=e("td:eq("+i+")",o.rows[t]),p=o.p.colModel[i],c=p.name,u=e.jgrid.jqID(c),h=e(d).offset();switch(p.edittype){case"select":if(p.editoptions.multiple){var g=e("#"+t+"_"+u,o.rows[t]),f=[];n=e(g).val(),n?n.join(","):n="",e("option:selected",g).each(function(t,i){f[t]=e(i).text()}),l=f.join(",")}else n=e("#"+t+"_"+u+" option:selected",o.rows[t]).val(),l=e("#"+t+"_"+u+" option:selected",o.rows[t]).text();p.formatter&&(l=n);break;case"checkbox":var m=["Yes","No"];p.editoptions&&(m=p.editoptions.value.split(":")),n=e("#"+t+"_"+u,o.rows[t]).is(":checked")?m[0]:m[1],l=n;break;case"password":case"text":case"textarea":case"button":n=e("#"+t+"_"+u,o.rows[t]).val(),l=n;break;case"custom":try{if(!p.editoptions||!e.isFunction(p.editoptions.custom_value))throw"e1";if(n=p.editoptions.custom_value.call(o,e(".customelement",d),"get"),void 0===n)throw"e2";l=n}catch(v){"e1"===v?e.jgrid.info_dialog(a.errcap,"function 'custom_value' "+s.msg.nodefined,s.bClose,{styleUI:o.p.styleUI}):"e2"===v?e.jgrid.info_dialog(a.errcap,"function 'custom_value' "+s.msg.novalue,s.bClose,{styleUI:o.p.styleUI}):e.jgrid.info_dialog(a.errcap,v.message,s.bClose,{styleUI:o.p.styleUI})}}if(l!==o.p.savedRow[r].v){var j=e(o).triggerHandler("jqGridBeforeSaveCell",[o.rows[t].id,c,n,t,i]);if(j&&(n=j,l=j),e.isFunction(o.p.beforeSaveCell)){var b=o.p.beforeSaveCell.call(o,o.rows[t].id,c,n,t,i);b&&(n=b,l=b)}var w=e.jgrid.checkValues.call(o,n,i),y=!1;if(w[0]===!0){var x=e(o).triggerHandler("jqGridBeforeSubmitCell",[o.rows[t].id,c,n,t,i])||{};if(e.isFunction(o.p.beforeSubmitCell)&&(x=o.p.beforeSubmitCell.call(o,o.rows[t].id,c,n,t,i),x||(x={})),e("input.hasDatepicker",d).length>0&&e("input.hasDatepicker",d).datepicker("hide"),"remote"===o.p.cellsubmit)if(o.p.cellurl){var q={};o.p.autoencode&&(n=e.jgrid.htmlEncode(n)),p.editoptions&&p.editoptions.NullIfEmpty&&""===n&&(n="null",y=!0),q[c]=n;var _,$,D;D=o.p.prmNames,_=D.id,$=D.oper,q[_]=e.jgrid.stripPref(o.p.idPrefix,o.rows[t].id),q[$]=D.editoper,q=e.extend(x,q),e(o).jqGrid("progressBar",{method:"show",loadtype:o.p.loadui,htmlcontent:e.jgrid.getRegional(o,"defaults.savetext")}),o.grid.hDiv.loading=!0,e.ajax(e.extend({url:context+o.p.cellurl,data:e.isFunction(o.p.serializeCellData)?o.p.serializeCellData.call(o,q,c):q,type:"POST",dataType:"json",success:function(r,p){if(e(o).jqGrid("progressBar",{method:"hide",loadtype:o.p.loadui}),o.grid.hDiv.loading=!1,"success"===p){var u=e(o).triggerHandler("jqGridAfterSubmitCell",[o,r,q.id,c,n,t,i])||[!0,""];u[0]===!0&&e.isFunction(o.p.afterSubmitCell)&&(u=o.p.afterSubmitCell.call(o,r,q.id,c,n,t,i)),u[0]===!0?(y&&(n=""),e(d).empty(),e(o).jqGrid("setCell",o.rows[t].id,i,l,!1,!1,!0),e(d).addClass("dirty-cell"),e(o.rows[t]).addClass("edited"),e(o).triggerHandler("jqGridAfterSaveCell",[o.rows[t].id,c,n,t,i]),e.isFunction(o.p.afterSaveCell)&&o.p.afterSaveCell.call(o,o.rows[t].id,c,n,t,i),o.p.savedRow.splice(0,1)):(e.jgrid.info_dialog(a.errcap,u[1],s.bClose,{styleUI:o.p.styleUI}),o.p.restoreCellonFail&&e(o).jqGrid("restoreCell",t,i))}},error:function(r,n,l){e("#lui_"+e.jgrid.jqID(o.p.id)).hide(),o.grid.hDiv.loading=!1,e(o).triggerHandler("jqGridErrorCell",[r,n,l]),e.isFunction(o.p.errorCell)?o.p.errorCell.call(o,r,n,l):e.jgrid.info_dialog(a.errcap,r.status+" : "+r.statusText+"<br/>"+n,s.bClose,{styleUI:o.p.styleUI}),o.p.restoreCellonFail&&e(o).jqGrid("restoreCell",t,i)}},e.jgrid.ajaxOptions,o.p.ajaxCellOptions||{}))}else try{e.jgrid.info_dialog(a.errcap,a.nourl,s.bClose,{styleUI:o.p.styleUI}),o.p.restoreCellonFail&&e(o).jqGrid("restoreCell",t,i)}catch(v){}"clientArray"===o.p.cellsubmit&&(e(d).empty(),e(o).jqGrid("setCell",o.rows[t].id,i,l,!1,!1,!0),e(d).addClass("dirty-cell"),e(o.rows[t]).addClass("edited"),e(o).triggerHandler("jqGridAfterSaveCell",[o.rows[t].id,c,n,t,i]),e.isFunction(o.p.afterSaveCell)&&o.p.afterSaveCell.call(o,o.rows[t].id,c,n,t,i),o.p.savedRow.splice(0,1))}else try{window.setTimeout(function(){e.jgrid.info_dialog(a.errcap,n+" "+w[1],s.bClose,{styleUI:o.p.styleUI,top:h.top+40,left:h.left})},100),e(o).jqGrid("restoreCell",t,i)}catch(v){}}else e(o).jqGrid("restoreCell",t,i)}window.setTimeout(function(){e("#"+e.jgrid.jqID(o.p.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(t,i){return this.each(function(){var r,o=this;if(o.grid&&o.p.cellEdit===!0){if(r=o.p.savedRow.length>=1?0:null,null!==r){var a=e("td:eq("+i+")",o.rows[t]);if(e.isFunction(e.fn.datepicker))try{e("input.hasDatepicker",a).datepicker("hide")}catch(s){}e(a).empty().attr("tabindex","-1"),e(o).jqGrid("setCell",o.rows[t].id,i,o.p.savedRow[r].v,!1,!1,!0),e(o).triggerHandler("jqGridAfterRestoreCell",[o.rows[t].id,o.p.savedRow[r].v,t,i]),e.isFunction(o.p.afterRestoreCell)&&o.p.afterRestoreCell.call(o,o.rows[t].id,o.p.savedRow[r].v,t,i),o.p.savedRow.splice(0,1)}window.setTimeout(function(){e("#"+o.p.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(t,i){return this.each(function(){var r,o=this,a=!1;if(o.grid&&o.p.cellEdit===!0){for(r=i+1;r<o.p.colModel.length;r++)if(o.p.colModel[r].editable===!0&&(!e.isFunction(o.p.isCellEditable)||o.p.isCellEditable.call(o,o.p.colModel[r].name,t,r))){a=r;break}a!==!1?e(o).jqGrid("editCell",t,a,!0):o.p.savedRow.length>0&&e(o).jqGrid("saveCell",t,i)}})},prevCell:function(t,i){return this.each(function(){var r,o=this,a=!1;if(o.grid&&o.p.cellEdit===!0){for(r=i-1;r>=0;r--)if(o.p.colModel[r].editable===!0&&(!e.isFunction(o.p.isCellEditable)||o.p.isCellEditable.call(o,o.p.colModel[r].name,t,r))){a=r;break}a!==!1?e(o).jqGrid("editCell",t,a,!0):o.p.savedRow.length>0&&e(o).jqGrid("saveCell",t,i)}})},GridNav:function(){return this.each(function(){function t(t,i,o){if("v"===o.substr(0,1)){var a=e(r.grid.bDiv)[0].clientHeight,s=e(r.grid.bDiv)[0].scrollTop,n=r.rows[t].offsetTop+r.rows[t].clientHeight,l=r.rows[t].offsetTop;"vd"===o&&n>=a&&(e(r.grid.bDiv)[0].scrollTop=e(r.grid.bDiv)[0].scrollTop+r.rows[t].clientHeight),"vu"===o&&s>l&&(e(r.grid.bDiv)[0].scrollTop=e(r.grid.bDiv)[0].scrollTop-r.rows[t].clientHeight)}if("h"===o){var d=e(r.grid.bDiv)[0].clientWidth,p=e(r.grid.bDiv)[0].scrollLeft,c=r.rows[t].cells[i].offsetLeft+r.rows[t].cells[i].clientWidth,u=r.rows[t].cells[i].offsetLeft;c>=d+parseInt(p,10)?e(r.grid.bDiv)[0].scrollLeft=e(r.grid.bDiv)[0].scrollLeft+r.rows[t].cells[i].clientWidth:p>u&&(e(r.grid.bDiv)[0].scrollLeft=e(r.grid.bDiv)[0].scrollLeft-r.rows[t].cells[i].clientWidth)}}function i(e,t){var i,o;if("lft"===t)for(i=e+1,o=e;o>=0;o--)if(r.p.colModel[o].hidden!==!0){i=o;break}if("rgt"===t)for(i=e-1,o=e;o<r.p.colModel.length;o++)if(r.p.colModel[o].hidden!==!0){i=o;break}return i}var r=this;if(r.grid&&r.p.cellEdit===!0){r.p.knv=r.p.id+"_kn";var o,a,s=e("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+r.p.knv+"'></div></div>");e(s).insertBefore(r.grid.cDiv),e("#"+r.p.knv).focus().keydown(function(s){switch(a=s.keyCode,"rtl"===r.p.direction&&(37===a?a=39:39===a&&(a=37)),a){case 38:r.p.iRow-1>0&&(t(r.p.iRow-1,r.p.iCol,"vu"),e(r).jqGrid("editCell",r.p.iRow-1,r.p.iCol,!1));break;case 40:r.p.iRow+1<=r.rows.length-1&&(t(r.p.iRow+1,r.p.iCol,"vd"),e(r).jqGrid("editCell",r.p.iRow+1,r.p.iCol,!1));break;case 37:r.p.iCol-1>=0&&(o=i(r.p.iCol-1,"lft"),t(r.p.iRow,o,"h"),e(r).jqGrid("editCell",r.p.iRow,o,!1));break;case 39:r.p.iCol+1<=r.p.colModel.length-1&&(o=i(r.p.iCol+1,"rgt"),t(r.p.iRow,o,"h"),e(r).jqGrid("editCell",r.p.iRow,o,!1));break;case 13:parseInt(r.p.iCol,10)>=0&&parseInt(r.p.iRow,10)>=0&&e(r).jqGrid("editCell",r.p.iRow,r.p.iCol,!0);break;default:return!0}return!1})}})},getChangedCells:function(t){var i=[];return t||(t="all"),this.each(function(){var r,o=this;o.grid&&o.p.cellEdit===!0&&e(o.rows).each(function(a){var s={};e(this).hasClass("edited")&&(e("td",this).each(function(i){if(r=o.p.colModel[i].name,"cb"!==r&&"subgrid"!==r)if("dirty"===t){if(e(this).hasClass("dirty-cell"))try{s[r]=e.unformat.call(o,this,{rowId:o.rows[a].id,colModel:o.p.colModel[i]},i)}catch(n){s[r]=e.jgrid.htmlDecode(e(this).html())}}else try{s[r]=e.unformat.call(o,this,{rowId:o.rows[a].id,colModel:o.p.colModel[i]},i)}catch(n){s[r]=e.jgrid.htmlDecode(e(this).html())}}),s.id=this.id,i.push(s))})}),i}})}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";e.fn.jqm=function(r){var a={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:o,ajaxText:"",target:o,modal:o,toTop:o,onShow:o,onHide:o,onLoad:o};return this.each(function(){return this._jqm?i[this._jqm].c=e.extend({},i[this._jqm].c,r):(t++,this._jqm=t,i[t]={c:e.extend(a,e.jqm.params,r),a:o,w:e(this).addClass("jqmID"+t),s:t},void(a.trigger&&e(this).jqmAddTrigger(a.trigger)))})},e.fn.jqmAddClose=function(e){return d(this,e,"jqmHide")},e.fn.jqmAddTrigger=function(e){return d(this,e,"jqmShow")},e.fn.jqmShow=function(t){return this.each(function(){e.jqm.open(this._jqm,t)})},e.fn.jqmHide=function(t){return this.each(function(){e.jqm.close(this._jqm,t)})},e.jqm={hash:{},open:function(t,s){var l=i[t],d=l.c,p="."+d.closeClass,c=parseInt(l.w.css("z-index"));c=c>0?c:3e3;var u=e("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":c-1,opacity:d.overlay/100});if(l.a)return o;if(l.t=s,l.a=!0,l.w.css("z-index",c),d.modal?(r[0]||setTimeout(function(){new n("bind")},1),r.push(t)):d.overlay>0?d.closeoverlay&&l.w.jqmAddClose(u):u=o,l.o=u?u.addClass(d.overlayClass).prependTo("body"):o,d.ajax){var h=d.target||l.w,g=d.ajax;h="string"==typeof h?e(h,l.w):e(h),g="@"===g.substr(0,1)?e(s).attr(g.substring(1)):g,h.html(d.ajaxText).load(g,function(){d.onLoad&&d.onLoad.call(this,l),p&&l.w.jqmAddClose(e(p,l.w)),a(l)})}else p&&l.w.jqmAddClose(e(p,l.w));return d.toTop&&l.o&&l.w.before('<span id="jqmP'+l.w[0]._jqm+'"></span>').insertAfter(l.o),d.onShow?d.onShow(l):l.w.show(),a(l),o},close:function(t){var a=i[t];return a.a?(a.a=o,r[0]&&(r.pop(),r[0]||new n("unbind")),a.c.toTop&&a.o&&e("#jqmP"+a.w[0]._jqm).after(a.w).remove(),a.c.onHide?a.c.onHide(a):(a.w.hide(),a.o&&a.o.remove()),o):o},params:{}};var t=0,i=e.jqm.hash,r=[],o=!1,a=function(e){void 0===e.c.focusField&&(e.c.focusField=0),e.c.focusField>=0&&s(e)},s=function(t){try{e(":input:visible",t.w)[parseInt(t.c.focusField,10)].focus()}catch(i){}},n=function(t){e(document)[t]("keypress",l)[t]("keydown",l)[t]("mousedown",l)},l=function(t){var o=i[r[r.length-1]],a=!e(t.target).parents(".jqmID"+o.s)[0];return a&&(e(".jqmID"+o.s).each(function(){var i=e(this),r=i.offset();return r.top<=t.pageY&&t.pageY<=r.top+i.height()&&r.left<=t.pageX&&t.pageX<=r.left+i.width()?(a=!1,!1):void 0}),s(o)),!a},d=function(t,r,a){return t.each(function(){var t=this._jqm;e(r).each(function(){this[a]||(this[a]=[],e(this).click(function(){for(var e in{jqmShow:1,jqmHide:1})for(var t in this[e])i[this[e][t]]&&i[this[e][t]].w[e](this);return o})),this[a].push(t)})})}}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";e.fn.jqDrag=function(e){return s(this,e,"d")},e.fn.jqResize=function(e,t){return s(this,e,"r",t)},e.jqDnR={dnr:{},e:0,drag:function(e){return"d"==o.k?a.css({left:o.X+e.pageX-o.pX,top:o.Y+e.pageY-o.pY}):(a.css({width:Math.max(e.pageX-o.pX+o.W,0),height:Math.max(e.pageY-o.pY+o.H,0)}),i&&t.css({width:Math.max(e.pageX-i.pX+i.W,0),height:Math.max(e.pageY-i.pY+i.H,0)})),!1},stop:function(){e(document).unbind("mousemove",r.drag).unbind("mouseup",r.stop)}};var t,i,r=e.jqDnR,o=r.dnr,a=r.e,s=function(r,s,d,p){return r.each(function(){s=s?e(s,r):r,s.bind("mousedown",{e:r,k:d},function(r){var s=r.data,d={};if(a=s.e,t=!!p&&e(p),"relative"!=a.css("position"))try{a.position(d)}catch(c){}if(o={X:d.left||n("left")||0,Y:d.top||n("top")||0,W:n("width")||a[0].scrollWidth||0,H:n("height")||a[0].scrollHeight||0,pX:r.pageX,pY:r.pageY,k:s.k},i=!(!t||"d"==s.k)&&{X:d.left||l("left")||0,Y:d.top||l("top")||0,W:t[0].offsetWidth||l("width")||0,H:t[0].offsetHeight||l("height")||0,pX:r.pageX,pY:r.pageY,k:s.k},e("input.hasDatepicker",a[0])[0])try{e("input.hasDatepicker",a[0]).datepicker("hide")}catch(u){}return e(document).mousemove(e.jqDnR.drag).mouseup(e.jqDnR.stop),!1})})},n=function(e){return parseInt(a.css(e),10)||!1},l=function(e){return parseInt(t.css(e),10)||!1};e.fn.tinyDraggable=function(t){var i=e.extend({handle:0,exclude:0},t);return this.each(function(){var t,r,o=e(this),a=i.handle?e(i.handle,o):o;a.on({mousedown:function(a){if(!i.exclude||!~e.inArray(a.target,e(i.exclude,o))){a.preventDefault();var s=o.offset();t=a.pageX-s.left,r=a.pageY-s.top,e(document).on("mousemove.drag",function(e){o.offset({top:e.pageY-r,left:e.pageX-t})})}},mouseup:function(t){e(document).off("mousemove.drag")}})})}}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base"],e):e(jQuery)}(function(e){"use strict";e.jgrid.extend({setSubGrid:function(){return this.each(function(){var t,i,r=this,o=e.jgrid.styleUI[r.p.styleUI||"jQueryUI"].subgrid,a={plusicon:o.icon_plus,minusicon:o.icon_minus,openicon:o.icon_open,expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,selectOnCollapse:!1,reloadOnExpand:!0};if(r.p.subGridOptions=e.extend(a,r.p.subGridOptions||{}),r.p.colNames.unshift(""),r.p.colModel.unshift({name:"subgrid",width:e.jgrid.cell_width?r.p.subGridWidth+r.p.cellLayout:r.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0}),t=r.p.subGridModel,t[0])for(t[0].align=e.extend([],t[0].align||[]),i=0;i<t[0].name.length;i++)t[0].align[i]=t[0].align[i]||"left"})},addSubGridCell:function(t,i){var r,o,a,s="";return this.each(function(){s=this.formatCol(t,i),o=this.p.id,r=this.p.subGridOptions.plusicon,a=e.jgrid.styleUI[this.p.styleUI||"jQueryUI"].common}),'<td role="gridcell" aria-describedby="'+o+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+s+"><a style='cursor:pointer;' class='ui-sghref'><span class='"+a.icon_base+" "+r+"'></span></a></td>"},addSubGrid:function(t,i){return this.each(function(){var r=this;if(r.grid){var o,a,s,n,l,d=e.jgrid.styleUI[r.p.styleUI||"jQueryUI"].base,p=e.jgrid.styleUI[r.p.styleUI||"jQueryUI"].common,c=function(t,i,o){var a=e("<td align='"+r.p.subGridModel[0].align[o]+"'></td>").html(i);e(t).append(a)},u=function(t,i){var o,a,s,n=e("<table class='"+d.rowTable+" ui-common-table'><tbody></tbody></table>"),l=e("<tr></tr>");for(a=0;a<r.p.subGridModel[0].name.length;a++)o=e("<th class='"+d.headerBox+" ui-th-subgrid ui-th-column ui-th-"+r.p.direction+"'></th>"),e(o).html(r.p.subGridModel[0].name[a]),e(o).width(r.p.subGridModel[0].width[a]),e(l).append(o);e(n).append(l),t&&(s=r.p.xmlReader.subgrid,e(s.root+" "+s.row,t).each(function(){if(l=e("<tr class='"+p.content+" ui-subtblcell'></tr>"),s.repeatitems===!0)e(s.cell,this).each(function(t){c(l,e(this).text()||"&#160;",t)});else{var t=r.p.subGridModel[0].mapping||r.p.subGridModel[0].name;if(t)for(a=0;a<t.length;a++)c(l,e(t[a],this).text()||"&#160;",a)}e(n).append(l)}));var u=e("table:first",r.grid.bDiv).attr("id")+"_";return e("#"+e.jgrid.jqID(u+i)).append(n),r.grid.hDiv.loading=!1,e("#load_"+e.jgrid.jqID(r.p.id)).hide(),!1},h=function(t,i){var o,a,s,n,l,u,h=e("<table class='"+d.rowTable+" ui-common-table'><tbody></tbody></table>"),g=e("<tr></tr>");for(s=0;s<r.p.subGridModel[0].name.length;s++)o=e("<th class='"+d.headerBox+" ui-th-subgrid ui-th-column ui-th-"+r.p.direction+"'></th>"),e(o).html(r.p.subGridModel[0].name[s]),e(o).width(r.p.subGridModel[0].width[s]),e(g).append(o);if(e(h).append(g),t&&(l=r.p.jsonReader.subgrid,a=e.jgrid.getAccessor(t,l.root),void 0!==a))for(s=0;s<a.length;s++){if(n=a[s],g=e("<tr class='"+p.content+" ui-subtblcell'></tr>"),l.repeatitems===!0)for(l.cell&&(n=n[l.cell]),u=0;u<n.length;u++)c(g,n[u]||"&#160;",u);else{var f=r.p.subGridModel[0].mapping||r.p.subGridModel[0].name;if(f.length)for(u=0;u<f.length;u++)c(g,n[f[u]]||"&#160;",u)}e(h).append(g)}var m=e("table:first",r.grid.bDiv).attr("id")+"_";return e("#"+e.jgrid.jqID(m+i)).append(h),r.grid.hDiv.loading=!1,e("#load_"+e.jgrid.jqID(r.p.id)).hide(),!1},g=function(t){var i,o,a,s;if(i=e(t).attr("id"),o={nd_:(new Date).getTime()},o[r.p.prmNames.subgridid]=i,!r.p.subGridModel[0])return!1;if(r.p.subGridModel[0].params)for(s=0;s<r.p.subGridModel[0].params.length;s++)for(a=0;a<r.p.colModel.length;a++)r.p.colModel[a].name===r.p.subGridModel[0].params[s]&&(o[r.p.colModel[a].name]=e("td:eq("+a+")",t).text().replace(/\&#160\;/gi,""));if(!r.grid.hDiv.loading)switch(r.grid.hDiv.loading=!0,e("#load_"+e.jgrid.jqID(r.p.id)).show(),r.p.subgridtype||(r.p.subgridtype=r.p.datatype),e.isFunction(r.p.subgridtype)?r.p.subgridtype.call(r,o):r.p.subgridtype=r.p.subgridtype.toLowerCase(),r.p.subgridtype){case"xml":case"json":e.ajax(e.extend({type:r.p.mtype,url:e.isFunction(r.p.subGridUrl)?r.p.subGridUrl.call(r,o):r.p.subGridUrl,dataType:r.p.subgridtype,data:e.isFunction(r.p.serializeSubGridData)?r.p.serializeSubGridData.call(r,o):o,complete:function(t){"xml"===r.p.subgridtype?u(t.responseXML,i):h(e.jgrid.parse(t.responseText),i),t=null}},e.jgrid.ajaxOptions,r.p.ajaxSubgridOptions||{}))}return!1},f=0;e.each(r.p.colModel,function(){(this.hidden===!0||"rn"===this.name||"cb"===this.name)&&f++});var m=r.rows.length,v=1;for(void 0!==i&&i>0&&(v=i,m=i+1);m>v;)e(r.rows[v]).hasClass("jqgrow")&&(r.p.scroll&&e(r.rows[v].cells[t]).unbind("click"),e(r.rows[v].cells[t]).bind("click",function(){var i=e(this).parent("tr")[0];if(a=r.p.id,o=i.id,l=e("#"+a+"_"+o+"_expandedContent"),e(this).hasClass("sgcollapsed")){if(n=e(r).triggerHandler("jqGridSubGridBeforeExpand",[a+"_"+o,o]),n=n!==!1&&"stop"!==n,n&&e.isFunction(r.p.subGridBeforeExpand)&&(n=r.p.subGridBeforeExpand.call(r,a+"_"+o,o)),n===!1)return!1;r.p.subGridOptions.reloadOnExpand===!0||r.p.subGridOptions.reloadOnExpand===!1&&!l.hasClass("ui-subgrid")?(s=t>=1?"<td colspan='"+t+"'>&#160;</td>":"",e(i).after("<tr role='row' id='"+a+"_"+o+"_expandedContent' class='ui-subgrid ui-sg-expanded'>"+s+"<td class='"+p.content+" subgrid-cell'><span class='"+p.icon_base+" "+r.p.subGridOptions.openicon+"'></span></td><td colspan='"+parseInt(r.p.colNames.length-1-f,10)+"' class='"+p.content+" subgrid-data'><div id="+a+"_"+o+" class='tablediv'></div></td></tr>"),e(r).triggerHandler("jqGridSubGridRowExpanded",[a+"_"+o,o]),e.isFunction(r.p.subGridRowExpanded)?r.p.subGridRowExpanded.call(r,a+"_"+o,o):g(i)):l.show().removeClass("ui-sg-collapsed").addClass("ui-sg-expanded"),e(this).html("<a style='cursor:pointer;' class='ui-sghref'><span class='"+p.icon_base+" "+r.p.subGridOptions.minusicon+"'></span></a>").removeClass("sgcollapsed").addClass("sgexpanded"),r.p.subGridOptions.selectOnExpand&&e(r).jqGrid("setSelection",o)}else if(e(this).hasClass("sgexpanded")){if(n=e(r).triggerHandler("jqGridSubGridRowColapsed",[a+"_"+o,o]),n=n!==!1&&"stop"!==n,n&&e.isFunction(r.p.subGridRowColapsed)&&(n=r.p.subGridRowColapsed.call(r,a+"_"+o,o)),n===!1)return!1;r.p.subGridOptions.reloadOnExpand===!0?l.remove(".ui-subgrid"):l.hasClass("ui-subgrid")&&l.hide().addClass("ui-sg-collapsed").removeClass("ui-sg-expanded"),e(this).html("<a style='cursor:pointer;' class='ui-sghref'><span class='"+p.icon_base+" "+r.p.subGridOptions.plusicon+"'></span></a>").removeClass("sgexpanded").addClass("sgcollapsed"),r.p.subGridOptions.selectOnCollapse&&e(r).jqGrid("setSelection",o)}return!1})),v++;r.p.subGridOptions.expandOnLoad===!0&&e(r.rows).filter(".jqgrow").each(function(t,i){e(i.cells[0]).click()}),r.subGridXml=function(e,t){u(e,t)},r.subGridJson=function(e,t){h(e,t)}}})},expandSubGridRow:function(t){return this.each(function(){var i=this;if((i.grid||t)&&i.p.subGrid===!0){var r=e(this).jqGrid("getInd",t,!0);if(r){var o=e("td.sgcollapsed",r)[0];o&&e(o).trigger("click")}}})},collapseSubGridRow:function(t){return this.each(function(){var i=this;if((i.grid||t)&&i.p.subGrid===!0){var r=e(this).jqGrid("getInd",t,!0);if(r){var o=e("td.sgexpanded",r)[0];o&&e(o).trigger("click")}}})},toggleSubGridRow:function(t){return this.each(function(){var i=this;if((i.grid||t)&&i.p.subGrid===!0){var r=e(this).jqGrid("getInd",t,!0);if(r){var o=e("td.sgcollapsed",r)[0];o?e(o).trigger("click"):(o=e("td.sgexpanded",r)[0],o&&e(o).trigger("click"))}}})}})}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base"],e):e(jQuery)}(function(e){"use strict";e.jgrid.extend({groupingSetup:function(){return this.each(function(){var t,i,r,o=this,a=o.p.colModel,s=o.p.groupingView,n=e.jgrid.styleUI[o.p.styleUI||"jQueryUI"].grouping;if(null===s||"object"!=typeof s&&!e.isFunction(s))o.p.grouping=!1;else if(s.plusicon||(s.plusicon=n.icon_plus),s.minusicon||(s.minusicon=n.icon_minus),s.groupField.length){for(void 0===s.visibiltyOnNextGrouping&&(s.visibiltyOnNextGrouping=[]),s.lastvalues=[],s._locgr||(s.groups=[]),s.counters=[],t=0;t<s.groupField.length;t++)s.groupOrder[t]||(s.groupOrder[t]="asc"),s.groupText[t]||(s.groupText[t]="{0}"),"boolean"!=typeof s.groupColumnShow[t]&&(s.groupColumnShow[t]=!0),"boolean"!=typeof s.groupSummary[t]&&(s.groupSummary[t]=!1),s.groupSummaryPos[t]||(s.groupSummaryPos[t]="footer"),s.groupColumnShow[t]===!0?(s.visibiltyOnNextGrouping[t]=!0,e(o).jqGrid("showCol",s.groupField[t])):(s.visibiltyOnNextGrouping[t]=e("#"+e.jgrid.jqID(o.p.id+"_"+s.groupField[t])).is(":visible"),e(o).jqGrid("hideCol",s.groupField[t]));for(s.summary=[],s.hideFirstGroupCol&&e.isArray(s.formatDisplayField)&&!e.isFunction(s.formatDisplayField[0])&&(s.formatDisplayField[0]=function(e){return e}),i=0,r=a.length;r>i;i++)s.hideFirstGroupCol&&(a[i].hidden||s.groupField[0]!==a[i].name||(a[i].formatter=function(){return""})),a[i].summaryType&&(a[i].summaryDivider?s.summary.push({nm:a[i].name,st:a[i].summaryType,v:"",sd:a[i].summaryDivider,vd:"",sr:a[i].summaryRound,srt:a[i].summaryRoundType||"round"}):s.summary.push({nm:a[i].name,st:a[i].summaryType,v:"",sr:a[i].summaryRound,srt:a[i].summaryRoundType||"round"}))}else o.p.grouping=!1})},groupingPrepare:function(t,i){return this.each(function(){var r,o,a,s,n,l=this.p.groupingView,d=this,p=function(){e.isFunction(this.st)?this.v=this.st.call(d,this.v,this.nm,t):(this.v=e(d).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,t),"avg"===this.st.toLowerCase()&&this.sd&&(this.vd=e(d).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,t)));
},c=l.groupField.length,u=0;for(r=0;c>r;r++)o=l.groupField[r],s=l.displayField[r],a=t[o],n=null==s?null:t[s],null==n&&(n=a),void 0!==a&&(0===i?(l.groups.push({idx:r,dataIndex:o,value:a,dataId:t.id,displayValue:n,startRow:i,cnt:1,summary:[]}),l.lastvalues[r]=a,l.counters[r]={cnt:1,pos:l.groups.length-1,summary:e.extend(!0,[],l.summary)},e.each(l.counters[r].summary,p),l.groups[l.counters[r].pos].summary=l.counters[r].summary):"object"==typeof a||(e.isArray(l.isInTheSameGroup)&&e.isFunction(l.isInTheSameGroup[r])?l.isInTheSameGroup[r].call(d,l.lastvalues[r],a,r,l):l.lastvalues[r]===a)?1===u?(l.groups.push({idx:r,dataIndex:o,dataId:t.id,value:a,displayValue:n,startRow:i,cnt:1,summary:[]}),l.lastvalues[r]=a,l.counters[r]={cnt:1,pos:l.groups.length-1,summary:e.extend(!0,[],l.summary)},e.each(l.counters[r].summary,p),l.groups[l.counters[r].pos].summary=l.counters[r].summary):(l.counters[r].cnt+=1,l.groups[l.counters[r].pos].cnt=l.counters[r].cnt,e.each(l.counters[r].summary,p),l.groups[l.counters[r].pos].summary=l.counters[r].summary):(l.groups.push({idx:r,dataIndex:o,dataId:t.id,value:a,displayValue:n,startRow:i,cnt:1,summary:[]}),l.lastvalues[r]=a,u=1,l.counters[r]={cnt:1,pos:l.groups.length-1,summary:e.extend(!0,[],l.summary)},e.each(l.counters[r].summary,p),l.groups[l.counters[r].pos].summary=l.counters[r].summary))}),this},groupingToggle:function(t){return this.each(function(){var i=this,r=i.p.groupingView,o=t.split("_"),a=parseInt(o[o.length-2],10);o.splice(o.length-2,2);var s,n,l=o.join("_"),d=r.minusicon,p=r.plusicon,c=e("#"+e.jgrid.jqID(t)),u=c.length?c[0].nextSibling:null,h=e("#"+e.jgrid.jqID(t)+" span.tree-wrap-"+i.p.direction),g=function(t){var i=e.map(t.split(" "),function(e){return e.substring(0,l.length+1)===l+"_"?parseInt(e.substring(l.length+1),10):void 0});return i.length>0?i[0]:void 0},f=!1,m=!1,v=!!i.p.frozenColumns&&i.p.id+"_frozen",j=!!v&&e("#"+e.jgrid.jqID(t),"#"+e.jgrid.jqID(v)),b=j&&j.length?j[0].nextSibling:null;if(h.hasClass(d)){if(r.showSummaryOnHide){if(u)for(;u&&(s=g(u.className),!(void 0!==s&&a>=s));)e(u).hide(),u=u.nextSibling,v&&(e(b).hide(),b=b.nextSibling)}else if(u)for(;u&&(s=g(u.className),!(void 0!==s&&a>=s));)e(u).hide(),u=u.nextSibling,v&&(e(b).hide(),b=b.nextSibling);h.removeClass(d).addClass(p),f=!0}else{if(u)for(n=void 0;u;){if(s=g(u.className),void 0===n&&(n=void 0===s),m=e(u).hasClass("ui-subgrid")&&e(u).hasClass("ui-sg-collapsed"),void 0!==s){if(a>=s)break;s===a+1&&(m||(e(u).show().find(">td>span.tree-wrap-"+i.p.direction).removeClass(d).addClass(p),v&&e(b).show().find(">td>span.tree-wrap-"+i.p.direction).removeClass(d).addClass(p)))}else n&&(m||(e(u).show(),v&&e(b).show()));u=u.nextSibling,v&&(b=b.nextSibling)}h.removeClass(p).addClass(d)}e(i).triggerHandler("jqGridGroupingClickGroup",[t,f]),e.isFunction(i.p.onClickGroup)&&i.p.onClickGroup.call(i,t,f)}),!1},groupingRender:function(t,i,r,o){return this.each(function(){function a(e,t,i){var r,o=!1;if(0===t)o=i[e];else{var a=i[e].idx;if(0===a)o=i[e];else for(r=e;r>=0;r--)if(i[r].idx===a-t){o=i[r];break}}return o}function s(t,r,o,s){var n,l,d=a(t,r,o),c=p.p.colModel,u=d.cnt,h="";for(l=s;i>l;l++){var g="<td "+p.formatCol(l,1,"")+">&#160;</td>",f="{0}";e.each(d.summary,function(){if(this.nm===c[l].name){c[l].summaryTpl&&(f=c[l].summaryTpl),"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&(this.sd&&this.vd?this.v=this.v/this.vd:this.v&&u>0&&(this.v=this.v/u));try{this.groupCount=d.cnt,this.groupIndex=d.dataIndex,this.groupValue=d.value,n=p.formatter("",this.v,l,this)}catch(t){n=this.v}return g="<td "+p.formatCol(l,1,"")+">"+e.jgrid.template(f,n)+"</td>",!1}}),h+=g}return h}var n,l,d,p=this,c=p.p.groupingView,u="",h="",g=c.groupCollapse?c.plusicon:c.minusicon,f=[],m=c.groupField.length,v=e.jgrid.styleUI[p.p.styleUI||"jQueryUI"].common;g=g+" tree-wrap-"+p.p.direction,e.each(p.p.colModel,function(e,t){var i;for(i=0;m>i;i++)if(c.groupField[i]===t.name){f[i]=e;break}});var j,b=0,w=e.makeArray(c.groupSummary);w.reverse(),j=p.p.multiselect?' colspan="2"':"",e.each(c.groups,function(a,y){if(c._locgr&&!(y.startRow+y.cnt>(r-1)*o&&y.startRow<r*o))return!0;b++,l=p.p.id+"ghead_"+y.idx,n=l+"_"+a,h="<button btnType='edit' class='btn btn-xs btn-info btn-edit' type='button' rowid='"+y.dataId+"'>Edit</button><span style='cursor:pointer;margin-right:8px;margin-left:5px;' class='"+v.icon_base+" "+g+"' onclick=\"jQuery('#"+e.jgrid.jqID(p.p.id)+"').jqGrid('groupingToggle','"+n+"');return false;\"></span>";try{e.isArray(c.formatDisplayField)&&e.isFunction(c.formatDisplayField[y.idx])?(y.displayValue=c.formatDisplayField[y.idx].call(p,y.displayValue,y.value,p.p.colModel[f[y.idx]],y.idx,c),d=y.displayValue):d=p.formatter(n,y.displayValue,f[y.idx],y.value)}catch(x){d=y.displayValue}var q="";q=e.isFunction(c.groupText[y.idx])?c.groupText[y.idx].call(p,d,y.cnt,y.summary):e.jgrid.template(c.groupText[y.idx],d,y.cnt,y.summary),"string"!=typeof q&&"number"!=typeof q&&(q=d),"header"===c.groupSummaryPos[y.idx]?(u+='<tr id="'+n+'"'+(c.groupCollapse&&y.idx>0?' style="display:none;" ':" ")+'role="row" class= "'+v.content+" jqgroup ui-row-"+p.p.direction+" "+l+'"><td style="padding-left:'+12*y.idx+'px;"'+j+">"+h+q+"</td>",u+=s(a,0,c.groups,c.groupColumnShow[y.idx]===!1?""===j?2:3:""===j?1:2),u+="</tr>"):u+='<tr id="'+n+'"'+(c.groupCollapse&&y.idx>0?' style="display:none;" ':" ")+'role="row" class= "'+v.content+" jqgroup ui-row-"+p.p.direction+" "+l+'"><td style="padding-left:'+12*y.idx+'px;" colspan="'+(c.groupColumnShow[y.idx]===!1?i-1:i)+'">'+h+q+"</td></tr>";var _=m-1===y.idx;if(_){var $,D,C=c.groups[a+1],I=0,G=y.startRow,F=void 0!==C?C.startRow:c.groups[a].startRow+c.groups[a].cnt;for(c._locgr&&(I=(r-1)*o,I>y.startRow&&(G=I)),$=G;F>$&&t[$-I];$++)u+=t[$-I].join("");if("header"!==c.groupSummaryPos[y.idx]){var S;if(void 0!==C){for(S=0;S<c.groupField.length&&C.dataIndex!==c.groupField[S];S++);b=c.groupField.length-S}for(D=0;b>D;D++)if(w[D]){var k="";c.groupCollapse&&!c.showSummaryOnHide&&(k=' style="display:none;"'),u+="<tr"+k+' jqfootlevel="'+(y.idx-D)+'" role="row" class="'+v.content+" jqfoot ui-row-"+p.p.direction+'">',u+=s(a,D,c.groups,0),u+="</tr>"}b=S}}}),e("#"+e.jgrid.jqID(p.p.id)+" tbody:first").append(u),u=null})},groupingGroupBy:function(t,i){return this.each(function(){var r=this;"string"==typeof t&&(t=[t]);var o=r.p.groupingView;r.p.grouping=!0,o._locgr=!1,void 0===o.visibiltyOnNextGrouping&&(o.visibiltyOnNextGrouping=[]);var a;for(a=0;a<o.groupField.length;a++)!o.groupColumnShow[a]&&o.visibiltyOnNextGrouping[a]&&e(r).jqGrid("showCol",o.groupField[a]);for(a=0;a<t.length;a++)o.visibiltyOnNextGrouping[a]=e("#"+e.jgrid.jqID(r.p.id)+"_"+e.jgrid.jqID(t[a])).is(":visible");r.p.groupingView=e.extend(r.p.groupingView,i||{}),o.groupField=t,e(r).trigger("reloadGrid")})},groupingRemove:function(t){return this.each(function(){var i=this;if(void 0===t&&(t=!0),i.p.grouping=!1,t===!0){var r,o=i.p.groupingView;for(r=0;r<o.groupField.length;r++)!o.groupColumnShow[r]&&o.visibiltyOnNextGrouping[r]&&e(i).jqGrid("showCol",o.groupField);e("tr.jqgroup, tr.jqfoot","#"+e.jgrid.jqID(i.p.id)+" tbody:first").remove(),e("tr.jqgrow:hidden","#"+e.jgrid.jqID(i.p.id)+" tbody:first").show()}else e(i).trigger("reloadGrid")})},groupingCalculations:{handler:function(e,t,i,r,o,a){var s={sum:function(){return parseFloat(t||0)+parseFloat(a[i]||0)},min:function(){return""===t?parseFloat(a[i]||0):Math.min(parseFloat(t),parseFloat(a[i]||0))},max:function(){return""===t?parseFloat(a[i]||0):Math.max(parseFloat(t),parseFloat(a[i]||0))},count:function(){return""===t&&(t=0),a.hasOwnProperty(i)?t+1:0},avg:function(){return s.sum()}};if(!s[e])throw"jqGrid Grouping No such method: "+e;var n=s[e]();if(null!=r)if("fixed"===o)n=n.toFixed(r);else{var l=Math.pow(10,r);n=Math.round(n*l)/l}return n}},setGroupHeaders:function(t){return t=e.extend({useColSpanStyle:!1,groupHeaders:[]},t||{}),this.each(function(){var i,r,o,a,s,n,l,d,p,c,u,h,g,f,m=this,v=0,j=m.p.colModel,b=j.length,w=m.grid.headers,y=e("table.ui-jqgrid-htable",m.grid.hDiv),x=y.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header"),q=y.children("thead"),_=y.find(".jqg-first-row-header"),$=e.jgrid.styleUI[m.p.styleUI||"jQueryUI"].base;m.p.groupHeader||(m.p.groupHeader=[]),m.p.groupHeader.push(t),void 0===_[0]?_=e("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):_.empty();var D,C=function(e,t){var i,r=t.length;for(i=0;r>i;i++)if(t[i].startColumnName===e)return i;return-1};for(e(m).prepend(q),o=e("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header"),i=0;b>i;i++)if(s=w[i].el,n=e(s),r=j[i],l={height:"0px",width:w[i].width+"px",display:r.hidden?"none":""},e("<th>",{role:"gridcell"}).css(l).addClass("ui-first-th-"+m.p.direction).appendTo(_),s.style.width="",d=C(r.name,t.groupHeaders),d>=0){for(p=t.groupHeaders[d],c=p.numberOfColumns,u=p.titleText,g=p.className||"",h=0,d=0;c>d&&b>i+d;d++)j[i+d].hidden||h++;a=e("<th>").attr({role:"columnheader"}).addClass($.headerBox+" ui-th-column-header ui-th-"+m.p.direction+" "+g).html(u),h>0&&a.attr("colspan",String(h)),m.p.headertitles&&a.attr("title",a.text()),0===h&&a.hide(),n.before(a),o.append(s),v=c-1}else 0===v?t.useColSpanStyle?n.attr("rowspan","2"):(e("<th>",{role:"columnheader"}).addClass($.headerBox+" ui-th-column-header ui-th-"+m.p.direction).css({display:r.hidden?"none":""}).insertBefore(n),o.append(s)):(o.append(s),v--);f=e(m).children("thead"),f.prepend(_),o.insertAfter(x),y.append(f),t.useColSpanStyle&&(y.find("span.ui-jqgrid-resize").each(function(){var t=e(this).parent();t.is(":visible")&&(this.style.cssText="height: "+t.height()+"px !important; cursor: col-resize;")}),y.find("div.ui-jqgrid-sortable").each(function(){var t=e(this),i=t.parent();i.is(":visible")&&i.is(":has(span.ui-jqgrid-resize)")&&t.css("top",(i.height()-t.outerHeight())/2-4+"px")})),D=f.find("tr.jqg-first-row-header"),e(m).bind("jqGridResizeStop.setGroupHeaders",function(e,t,i){D.find("th").eq(i)[0].style.width=t+"px"})})},destroyGroupHeader:function(t){return void 0===t&&(t=!0),this.each(function(){var i,r,o,a,s,n,l,d=this,p=d.grid,c=e("table.ui-jqgrid-htable thead",p.hDiv),u=d.p.colModel;if(p){for(e(this).unbind(".setGroupHeaders"),i=e("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),a=p.headers,r=0,o=a.length;o>r;r++){l=u[r].hidden?"none":"",s=e(a[r].el).width(a[r].width).css("display",l);try{s.removeAttr("rowSpan")}catch(h){s.attr("rowSpan",1)}i.append(s),n=s.children("span.ui-jqgrid-resize"),n.length>0&&(n[0].style.height=""),s.children("div")[0].style.top=""}e(c).children("tr.ui-jqgrid-labels").remove(),e(c).prepend(i),t===!0&&e(d).jqGrid("setGridParam",{groupHeader:null})}})}})}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base"],e):e(jQuery)}(function(e){"use strict";e.jgrid.extend({setTreeNode:function(t,i){return this.each(function(){var r=this;if(r.grid&&r.p.treeGrid)for(var o,a,s,n,l,d,p,c,u=r.p.expColInd,h=r.p.treeReader.expanded_field,g=r.p.treeReader.leaf_field,f=r.p.treeReader.level_field,m=r.p.treeReader.icon_field,v=r.p.treeReader.loaded,j=e.jgrid.styleUI[r.p.styleUI||"jQueryUI"].common;i>t;){var b,w=e.jgrid.stripPref(r.p.idPrefix,r.rows[t].id),y=r.p._index[w];p=r.p.data[y],"nested"===r.p.treeGridModel&&(p[g]||(o=parseInt(p[r.p.treeReader.left_field],10),a=parseInt(p[r.p.treeReader.right_field],10),p[g]=a===o+1?"true":"false",r.rows[t].cells[r.p._treeleafpos].innerHTML=p[g])),s=parseInt(p[f],10),0===r.p.tree_root_level?(n=s+1,l=s):(n=s,l=s-1),d="<div class='tree-wrap tree-wrap-"+r.p.direction+"' style='width:"+18*n+"px;'>",d+="<div style='"+("rtl"===r.p.direction?"right:":"left:")+18*l+"px;' class='"+j.icon_base+" ",void 0!==p[v]&&("true"===p[v]||p[v]===!0?p[v]=!0:p[v]=!1),"true"===p[g]||p[g]===!0?(d+=(void 0!==p[m]&&""!==p[m]?p[m]:r.p.treeIcons.leaf)+" tree-leaf treeclick",p[g]=!0,c="leaf"):(p[g]=!1,c=""),p[h]=("true"===p[h]||p[h]===!0)&&(p[v]||void 0===p[v]),d+=p[h]===!1?p[g]===!0?"'":r.p.treeIcons.plus+" tree-plus treeclick'":p[g]===!0?"'":r.p.treeIcons.minus+" tree-minus treeclick'",d+="></div></div>",e(r.rows[t].cells[u]).wrapInner("<span class='cell-wrapper"+c+"'></span>").prepend(d),s!==parseInt(r.p.tree_root_level,10)&&(b=e(r).jqGrid("isVisibleNode",p),b||e(r.rows[t]).css("display","none")),e(r.rows[t].cells[u]).find("div.treeclick").bind("click",function(t){var i=t.target||t.srcElement,o=e.jgrid.stripPref(r.p.idPrefix,e(i,r.rows).closest("tr.jqgrow")[0].id),a=r.p._index[o];return r.p.data[a][g]||(r.p.data[a][h]?(e(r).jqGrid("collapseRow",r.p.data[a]),e(r).jqGrid("collapseNode",r.p.data[a])):(e(r).jqGrid("expandRow",r.p.data[a]),e(r).jqGrid("expandNode",r.p.data[a]))),!1}),r.p.ExpandColClick===!0&&e(r.rows[t].cells[u]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(t){var i=t.target||t.srcElement,o=e.jgrid.stripPref(r.p.idPrefix,e(i,r.rows).closest("tr.jqgrow")[0].id),a=r.p._index[o];return r.p.data[a][g]||(r.p.data[a][h]?(e(r).jqGrid("collapseRow",r.p.data[a]),e(r).jqGrid("collapseNode",r.p.data[a])):(e(r).jqGrid("expandRow",r.p.data[a]),e(r).jqGrid("expandNode",r.p.data[a]))),e(r).jqGrid("setSelection",o),!1}),t++}})},setTreeGrid:function(){return this.each(function(){var t,i,r,o,a=this,s=0,n=!1,l=[],d=e.jgrid.styleUI[a.p.styleUI||"jQueryUI"].treegrid;if(a.p.treeGrid){a.p.treedatatype||e.extend(a.p,{treedatatype:a.p.datatype}),a.p.loadonce&&(a.p.treedatatype="local"),a.p.subGrid=!1,a.p.altRows=!1,a.p.pgbuttons=!1,a.p.pginput=!1,a.p.gridview=!0,null===a.p.rowTotal&&(a.p.rowNum=1e4),a.p.multiselect=!1,a.p.rowList=[],a.p.expColInd=0,t=d.icon_plus,"jQueryUI"===a.p.styleUI&&(t+="rtl"===a.p.direction?"w":"e"),a.p.treeIcons=e.extend({plus:t,minus:d.icon_minus,leaf:d.icon_leaf},a.p.treeIcons||{}),"nested"===a.p.treeGridModel?a.p.treeReader=e.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},a.p.treeReader):"adjacency"===a.p.treeGridModel&&(a.p.treeReader=e.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},a.p.treeReader));for(r in a.p.colModel)if(a.p.colModel.hasOwnProperty(r)){i=a.p.colModel[r].name,i!==a.p.ExpandColumn||n||(n=!0,a.p.expColInd=s),s++;for(o in a.p.treeReader)a.p.treeReader.hasOwnProperty(o)&&a.p.treeReader[o]===i&&l.push(i)}e.each(a.p.treeReader,function(t,i){i&&-1===e.inArray(i,l)&&("leaf_field"===t&&(a.p._treeleafpos=s),s++,a.p.colNames.push(i),a.p.colModel.push({name:i,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))})}})},expandRow:function(t){this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var r=e(i).jqGrid("getNodeChildren",t),o=i.p.treeReader.expanded_field,a=t[i.p.localReader.id],s=!e.isFunction(i.p.beforeExpandTreeGridRow)||i.p.beforeExpandTreeGridRow.call(i,a,t,r);s!==!1&&(e(r).each(function(){var t=i.p.idPrefix+e.jgrid.getAccessor(this,i.p.localReader.id);e(e(i).jqGrid("getGridRowById",t)).css("display",""),this[o]&&e(i).jqGrid("expandRow",this)}),e.isFunction(i.p.afterExpandTreeGridRow)&&i.p.afterExpandTreeGridRow.call(i,a,t,r))}})},collapseRow:function(t){this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var r=e(i).jqGrid("getNodeChildren",t),o=i.p.treeReader.expanded_field,a=t[i.p.localReader.id],s=!e.isFunction(i.p.beforeCollapseTreeGridRow)||i.p.beforeCollapseTreeGridRow.call(i,a,t,r);s!==!1&&(e(r).each(function(){var t=i.p.idPrefix+e.jgrid.getAccessor(this,i.p.localReader.id);e(e(i).jqGrid("getGridRowById",t)).css("display","none"),this[o]&&e(i).jqGrid("collapseRow",this)}),e.isFunction(i.p.afterCollapseTreeGridRow)&&i.p.afterCollapseTreeGridRow.call(i,a,t,r))}})},getRootNodes:function(t){var i=[];return this.each(function(){var r,o,a,s=this;if(s.grid&&s.p.treeGrid)switch("boolean"!=typeof t&&(t=!1),a=t?e(s).jqGrid("getRowData",null,!0):s.p.data,s.p.treeGridModel){case"nested":r=s.p.treeReader.level_field,e(a).each(function(){parseInt(this[r],10)===parseInt(s.p.tree_root_level,10)&&(t?i.push(s.p.data[s.p._index[this[s.p.keyName]]]):i.push(this))});break;case"adjacency":o=s.p.treeReader.parent_id_field,e(a).each(function(){(null===this[o]||"null"===String(this[o]).toLowerCase())&&(t?i.push(s.p.data[s.p._index[this[s.p.keyName]]]):i.push(this))})}}),i},getNodeDepth:function(t){var i=null;return this.each(function(){if(this.grid&&this.p.treeGrid){var r=this;switch(r.p.treeGridModel){case"nested":var o=r.p.treeReader.level_field;i=parseInt(t[o],10)-parseInt(r.p.tree_root_level,10);break;case"adjacency":i=e(r).jqGrid("getNodeAncestors",t).length}}}),i},getNodeParent:function(t){var i=null;return this.each(function(){var r=this;if(r.grid&&r.p.treeGrid)switch(r.p.treeGridModel){case"nested":var o=r.p.treeReader.left_field,a=r.p.treeReader.right_field,s=r.p.treeReader.level_field,n=parseInt(t[o],10),l=parseInt(t[a],10),d=parseInt(t[s],10);e(this.p.data).each(function(){return parseInt(this[s],10)===d-1&&parseInt(this[o],10)<n&&parseInt(this[a],10)>l?(i=this,!1):void 0});break;case"adjacency":for(var p=r.p.treeReader.parent_id_field,c=r.p.localReader.id,u=t[c],h=r.p._index[u];h--;)if(r.p.data[h][c]===e.jgrid.stripPref(r.p.idPrefix,t[p])){i=r.p.data[h];break}}}),i},getNodeChildren:function(t){var i=[];return this.each(function(){var r=this;if(r.grid&&r.p.treeGrid)switch(r.p.treeGridModel){case"nested":var o=r.p.treeReader.left_field,a=r.p.treeReader.right_field,s=r.p.treeReader.level_field,n=parseInt(t[o],10),l=parseInt(t[a],10),d=parseInt(t[s],10);e(this.p.data).each(function(){parseInt(this[s],10)===d+1&&parseInt(this[o],10)>n&&parseInt(this[a],10)<l&&i.push(this)});break;case"adjacency":var p=r.p.treeReader.parent_id_field,c=r.p.localReader.id;e(this.p.data).each(function(){this[p]==e.jgrid.stripPref(r.p.idPrefix,t[c])&&i.push(this)})}}),i},getFullTreeNode:function(t,i){var r=[];return this.each(function(){var o,a=this,s=a.p.treeReader.expanded_field;if(a.grid&&a.p.treeGrid)switch((null==i||"boolean"!=typeof i)&&(i=!1),a.p.treeGridModel){case"nested":var n=a.p.treeReader.left_field,l=a.p.treeReader.right_field,d=a.p.treeReader.level_field,p=parseInt(t[n],10),c=parseInt(t[l],10),u=parseInt(t[d],10);e(this.p.data).each(function(){parseInt(this[d],10)>=u&&parseInt(this[n],10)>=p&&parseInt(this[n],10)<=c&&(i&&(this[s]=!0),r.push(this))});break;case"adjacency":if(t){r.push(t);var h=a.p.treeReader.parent_id_field,g=a.p.localReader.id;e(this.p.data).each(function(t){for(o=r.length,t=0;o>t;t++)if(e.jgrid.stripPref(a.p.idPrefix,r[t][g])===this[h]){i&&(this[s]=!0),r.push(this);break}})}}}),r},getNodeAncestors:function(t){var i=[];return this.each(function(){if(this.grid&&this.p.treeGrid)for(var r=e(this).jqGrid("getNodeParent",t);r;)i.push(r),r=e(this).jqGrid("getNodeParent",r)}),i},isVisibleNode:function(t){var i=!0;return this.each(function(){var r=this;if(r.grid&&r.p.treeGrid){var o=e(r).jqGrid("getNodeAncestors",t),a=r.p.treeReader.expanded_field;e(o).each(function(){return i=i&&this[a],!!i&&void 0})}}),i},isNodeLoaded:function(t){var i;return this.each(function(){var r=this;if(r.grid&&r.p.treeGrid){var o=r.p.treeReader.leaf_field,a=r.p.treeReader.loaded;i=void 0!==t&&(void 0!==t[a]?t[a]:!!(t[o]||e(r).jqGrid("getNodeChildren",t).length>0))}}),i},reloadNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var i=this.p.localReader.id,r=this.p.selrow;e(this).jqGrid("delChildren",t[i]);var o=this.p.treeReader.expanded_field,a=this.p.treeReader.parent_id_field,s=this.p.treeReader.loaded,n=this.p.treeReader.level_field,l=this.p.treeReader.left_field,d=this.p.treeReader.right_field,p=e.jgrid.getAccessor(t,this.p.localReader.id),c=e("#"+p,this.grid.bDiv)[0];t[o]=!0,e("div.treeclick",c).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=c.rowIndex,this.p.datatype=this.p.treedatatype,"nested"===this.p.treeGridModel?e(this).jqGrid("setGridParam",{postData:{nodeid:p,n_left:t[l],n_right:t[d],n_level:t[n]}}):e(this).jqGrid("setGridParam",{postData:{nodeid:p,parentid:t[a],n_level:t[n]}}),e(this).trigger("reloadGrid"),t[s]=!0,"nested"===this.p.treeGridModel?e(this).jqGrid("setGridParam",{selrow:r,postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):e(this).jqGrid("setGridParam",{selrow:r,postData:{nodeid:"",parentid:"",n_level:""}})}})},expandNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var i=this.p.treeReader.expanded_field,r=this.p.treeReader.parent_id_field,o=this.p.treeReader.loaded,a=this.p.treeReader.level_field,s=this.p.treeReader.left_field,n=this.p.treeReader.right_field;if(!t[i]){var l=e.jgrid.getAccessor(t,this.p.localReader.id),d=e("#"+this.p.idPrefix+e.jgrid.jqID(l),this.grid.bDiv)[0],p=this.p._index[l],c=!e.isFunction(this.p.beforeExpandTreeGridNode)||this.p.beforeExpandTreeGridNode.call(this,l,t);if(c===!1)return;e(this).jqGrid("isNodeLoaded",this.p.data[p])?(t[i]=!0,e("div.treeclick",d).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(t[i]=!0,e("div.treeclick",d).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=d.rowIndex,this.p.datatype=this.p.treedatatype,"nested"===this.p.treeGridModel?e(this).jqGrid("setGridParam",{postData:{nodeid:l,n_left:t[s],n_right:t[n],n_level:t[a]}}):e(this).jqGrid("setGridParam",{postData:{nodeid:l,parentid:t[r],n_level:t[a]}}),e(this).trigger("reloadGrid"),t[o]=!0,"nested"===this.p.treeGridModel?e(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):e(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}})),e.isFunction(this.p.afterExpandTreeGridNode)&&this.p.afterExpandTreeGridNode.call(this,l,t)}}})},collapseNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var i=this.p.treeReader.expanded_field;if(t[i]){var r=e.jgrid.getAccessor(t,this.p.localReader.id),o=!e.isFunction(this.p.beforeCollapseTreeGridNode)||this.p.beforeCollapseTreeGridNode.call(this,r,t),a=e("#"+this.p.idPrefix+e.jgrid.jqID(r),this.grid.bDiv)[0];if(t[i]=!1,o===!1)return;e("div.treeclick",a).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus"),e.isFunction(this.p.afterCollapseTreeGridNode)&&this.p.afterCollapseTreeGridNode.call(this,r,t)}}})},SortTree:function(t,i,r,o){return this.each(function(){if(this.grid&&this.p.treeGrid){var a,s,n,l,d,p=[],c=this,u=e(this).jqGrid("getRootNodes",c.p.search);for(l=e.jgrid.from.call(this,u),l.orderBy(t,i,r,o),d=l.select(),a=0,s=d.length;s>a;a++)n=d[a],p.push(n),e(this).jqGrid("collectChildrenSortTree",p,n,t,i,r,o);e.each(p,function(t){var i=e.jgrid.getAccessor(this,c.p.localReader.id);e("#"+e.jgrid.jqID(c.p.id)+" tbody tr:eq("+t+")").after(e("tr#"+e.jgrid.jqID(i),c.grid.bDiv))}),l=null,d=null,p=null}})},searchTree:function(t){var i,r,o,a=t.length||0,s=[],n=[],l=[];return this.each(function(){if(this.grid&&this.p.treeGrid&&a)for(r=this.p.localReader.id,i=0;a>i;i++)s=e(this).jqGrid("getNodeAncestors",t[i]),s.length||s.push(t[i]),o=s[s.length-1][r],-1===e.inArray(o,n)&&(n.push(o),s=e(this).jqGrid("getFullTreeNode",s[s.length-1],!0),l=l.concat(s))}),l},collectChildrenSortTree:function(t,i,r,o,a,s){return this.each(function(){if(this.grid&&this.p.treeGrid){var n,l,d,p,c,u;for(p=e(this).jqGrid("getNodeChildren",i),c=e.jgrid.from.call(this,p),c.orderBy(r,o,a,s),u=c.select(),n=0,l=u.length;l>n;n++)d=u[n],t.push(d),e(this).jqGrid("collectChildrenSortTree",t,d,r,o,a,s)}})},setTreeRow:function(t,i){var r=!1;return this.each(function(){var o=this;o.grid&&o.p.treeGrid&&(r=e(o).jqGrid("setRowData",t,i))}),r},delTreeNode:function(t){return this.each(function(){var i,r,o,a,s,n=this,l=n.p.localReader.id,d=n.p.treeReader.left_field,p=n.p.treeReader.right_field;if(n.grid&&n.p.treeGrid){var c=n.p._index[t];if(void 0!==c){r=parseInt(n.p.data[c][p],10),o=r-parseInt(n.p.data[c][d],10)+1;var u=e(n).jqGrid("getFullTreeNode",n.p.data[c]);if(u.length>0)for(i=0;i<u.length;i++)e(n).jqGrid("delRowData",u[i][l]);if("nested"===n.p.treeGridModel){if(a=e.jgrid.from.call(n,n.p.data).greater(d,r,{stype:"integer"}).select(),a.length)for(s in a)a.hasOwnProperty(s)&&(a[s][d]=parseInt(a[s][d],10)-o);if(a=e.jgrid.from.call(n,n.p.data).greater(p,r,{stype:"integer"}).select(),a.length)for(s in a)a.hasOwnProperty(s)&&(a[s][p]=parseInt(a[s][p],10)-o)}}}})},delChildren:function(t){return this.each(function(){var i,r,o,a,s=this,n=s.p.localReader.id,l=s.p.treeReader.left_field,d=s.p.treeReader.right_field;if(s.grid&&s.p.treeGrid){var p=s.p._index[t];if(void 0!==p){i=parseInt(s.p.data[p][d],10),r=i-parseInt(s.p.data[p][l],10)+1;var c=e(s).jqGrid("getFullTreeNode",s.p.data[p]);if(c.length>0)for(var u=0;u<c.length;u++)c[u][n]!==t&&e(s).jqGrid("delRowData",c[u][n]);if("nested"===s.p.treeGridModel){if(o=e.jgrid.from(s.p.data).greater(l,i,{stype:"integer"}).select(),o.length)for(a in o)o.hasOwnProperty(a)&&(o[a][l]=parseInt(o[a][l],10)-r);if(o=e.jgrid.from(s.p.data).greater(d,i,{stype:"integer"}).select(),o.length)for(a in o)o.hasOwnProperty(a)&&(o[a][d]=parseInt(o[a][d],10)-r)}}}})},addChildNode:function(t,i,r,o){var a=this[0];if(r){var s,n,l,d,p,c,u,h,g=a.p.treeReader.expanded_field,f=a.p.treeReader.leaf_field,m=a.p.treeReader.level_field,v=a.p.treeReader.parent_id_field,j=a.p.treeReader.left_field,b=a.p.treeReader.right_field,w=a.p.treeReader.loaded,y=0,x=i;if(void 0===o&&(o=!1),null==t){if(p=a.p.data.length-1,p>=0)for(;p>=0;)y=Math.max(y,parseInt(a.p.data[p][a.p.localReader.id],10)),p--;t=y+1}var q=e(a).jqGrid("getInd",i);if(u=!1,void 0===i||null===i||""===i)i=null,x=null,s="last",d=a.p.tree_root_level,p=a.p.data.length+1;else{s="after",n=a.p._index[i],l=a.p.data[n],i=l[a.p.localReader.id],d=parseInt(l[m],10)+1;var _=e(a).jqGrid("getFullTreeNode",l);_.length?(p=_[_.length-1][a.p.localReader.id],x=p,p=e(a).jqGrid("getInd",x)+1):p=e(a).jqGrid("getInd",i)+1,l[f]&&(u=!0,l[g]=!0,e(a.rows[q]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(a.p.treeIcons.leaf+" tree-leaf").addClass(a.p.treeIcons.minus+" tree-minus"),a.p.data[n][f]=!1,l[w]=!0)}if(c=p+1,void 0===r[g]&&(r[g]=!1),void 0===r[w]&&(r[w]=!1),r[m]=d,void 0===r[f]&&(r[f]=!0),"adjacency"===a.p.treeGridModel&&(r[v]=i),"nested"===a.p.treeGridModel){var $,D,C;if(null!==i){if(h=parseInt(l[b],10),$=e.jgrid.from.call(a,a.p.data),$=$.greaterOrEquals(b,h,{stype:"integer"}),D=$.select(),D.length)for(C in D)D.hasOwnProperty(C)&&(D[C][j]=D[C][j]>h?parseInt(D[C][j],10)+2:D[C][j],D[C][b]=D[C][b]>=h?parseInt(D[C][b],10)+2:D[C][b]);r[j]=h,r[b]=h+1}else{if(h=parseInt(e(a).jqGrid("getCol",b,!1,"max"),10),D=e.jgrid.from.call(a,a.p.data).greater(j,h,{stype:"integer"}).select(),D.length)for(C in D)D.hasOwnProperty(C)&&(D[C][j]=parseInt(D[C][j],10)+2);if(D=e.jgrid.from.call(a,a.p.data).greater(b,h,{stype:"integer"}).select(),D.length)for(C in D)D.hasOwnProperty(C)&&(D[C][b]=parseInt(D[C][b],10)+2);r[j]=h+1,r[b]=h+2}}(null===i||e(a).jqGrid("isNodeLoaded",l)||u)&&(e(a).jqGrid("addRowData",t,r,s,x),e(a).jqGrid("setTreeNode",p,c)),l&&!l[g]&&o&&e(a.rows[q]).find("div.treeclick").click()}}})}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base","./grid.grouping"],e):e(jQuery)}(function(e){"use strict";function t(e,t){var i,r,o,a=[];if(!this||"function"!=typeof e||e instanceof RegExp)throw new TypeError;for(o=this.length,i=0;o>i;i++)if(this.hasOwnProperty(i)&&(r=this[i],e.call(t,r,i,this))){a.push(r);break}return a}e.assocArraySize=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},e.jgrid.extend({pivotSetup:function(i,r){var o=[],a=[],s=[],n=[],l=[],d={grouping:!0,groupingView:{groupField:[],groupSummary:[],groupSummaryPos:[]}},p=[],c=e.extend({rowTotals:!1,rowTotalsText:"Total",colTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1},r||{});return this.each(function(){function r(e,i,r){var o;return o=t.call(e,i,r),o.length>0?o[0]:null}function u(e,t){var i,r=0,o=!0;for(i in e)if(e.hasOwnProperty(i)){if(e[i]!=this[r]){o=!1;break}if(r++,r>=this.length)break}return o&&(v=t),o}function h(e,t,i,r,o){var a;switch(e){case"sum":a=parseFloat(t||0)+parseFloat(r[i]||0);break;case"count":(""===t||null==t)&&(t=0),a=r.hasOwnProperty(i)?t+1:0;break;case"min":a=""===t||null==t?parseFloat(r[i]||0):Math.min(parseFloat(t),parseFloat(r[i]||0));break;case"max":a=""===t||null==t?parseFloat(r[i]||0):Math.max(parseFloat(t),parseFloat(r[i]||0));break;case"avg":a=(parseFloat(t||0)*(o-1)+parseFloat(r[i]||0))/o}return a}function g(t,i,r,o){var a,s,d,p,c=i.length,u="",g=[];for(e.isArray(r)?(p=r.length,g=r):(p=1,g[0]=r),n=[],l=[],n.root=0,o._count?o._count++:o._count=1,d=0;p>d;d++){var f,m=[];for(a=0;c>a;a++){if(null==r)s=e.trim(i[a].member)+"_"+i[a].aggregator,f=s,g[0]=i[a].label||i[a].aggregator+" "+e.trim(i[a].member);else{f=r[d].replace(/\s+/g,"");try{s=1===c?u+f:u+f+"_"+i[a].aggregator+"_"+String(a)}catch(v){}g[d]=r[d]}s=isNaN(parseInt(s,10))?s:s+" ",o[s]=m[s]=h(i[a].aggregator,o[s],i[a].member,t,o._count)}u+=r[d].replace(/\s+/g,""),n[s]=m,l[s]=g[d]}return o}function f(e){var t,i,r,a,s;for(r in e)if(e.hasOwnProperty(r)){if("object"!=typeof e[r]){if("level"===r){if(void 0===T[e.level]&&(T[e.level]="",e.level>0&&-1===e.text.indexOf("_r_Totals")&&(p[e.level-1]={useColSpanStyle:!1,groupHeaders:[]})),T[e.level]!==e.text&&e.children.length&&-1===e.text.indexOf("_r_Totals")&&e.level>0){p[e.level-1].groupHeaders.push({titleText:e.label,numberOfColumns:0});var n=p[e.level-1].groupHeaders.length-1,l=0===n?A:P;if(e.level-1===(c.rowTotals?1:0)&&n>0){for(var d=0,u=0;n>u;u++)d+=p[e.level-1].groupHeaders[u].numberOfColumns;d&&(l=d+b)}o[l]&&(p[e.level-1].groupHeaders[n].startColumnName=o[l].name,p[e.level-1].groupHeaders[n].numberOfColumns=o.length-l),P=o.length}T[e.level]=e.text}if(e.level===w&&"level"===r&&w>0)if(y>1){var h=1;for(t in e.fields)e.fields.hasOwnProperty(t)&&(1===h&&p[w-1].groupHeaders.push({startColumnName:t,numberOfColumns:1,titleText:e.label||e.text}),h++);p[w-1].groupHeaders[p[w-1].groupHeaders.length-1].numberOfColumns=h-1}else p.splice(w-1,1)}if(null!=e[r]&&"object"==typeof e[r]&&f(e[r]),"level"===r&&e.level>0&&(e.level===(0===w?e.level:w)||-1!==T[e.level].indexOf("_r_Totals"))){i=0;for(t in e.fields)if(e.fields.hasOwnProperty(t)){s={};for(a in c.aggregates[i])if(c.aggregates[i].hasOwnProperty(a))switch(a){case"member":case"label":case"aggregator":break;default:s[a]=c.aggregates[i][a]}y>1?(s.name=t,s.label=c.aggregates[i].label||e.label):(s.name=e.text,s.label="_r_Totals"===e.text?c.rowTotalsText:e.label),o.push(s),i++}}}}var m,v,j,b,w,y,x,q,_=i.length,$=0;if(c.rowTotals&&c.yDimension.length>0){var D=c.yDimension[0].dataName;c.yDimension.splice(0,0,{dataName:D}),c.yDimension[0].converter=function(){return"_r_Totals"}}if(b=e.isArray(c.xDimension)?c.xDimension.length:0,w=c.yDimension.length,y=e.isArray(c.aggregates)?c.aggregates.length:0,0===b||0===y)throw"xDimension or aggregates optiona are not set!";var C;for(j=0;b>j;j++)C={name:c.xDimension[j].dataName,frozen:c.frozenStaticCols},null==c.xDimension[j].isGroupField&&(c.xDimension[j].isGroupField=!0),C=e.extend(!0,C,c.xDimension[j]),o.push(C);for(var I=b-1,G={};_>$;){m=i[$];var F=[],S=[];x={},j=0;do F[j]=e.trim(m[c.xDimension[j].dataName]),x[c.xDimension[j].dataName]=F[j],j++;while(b>j);var k=0;if(v=-1,q=r(a,u,F)){if(v>=0){if(k=0,w>=1){for(k=0;w>k;k++)S[k]=e.trim(m[c.yDimension[k].dataName]),c.yDimension[k].converter&&e.isFunction(c.yDimension[k].converter)&&(S[k]=c.yDimension[k].converter.call(this,S[k],F,S));q=g(m,c.aggregates,S,q)}else 0===w&&(q=g(m,c.aggregates,null,q));a[v]=q}}else{if(k=0,w>=1){for(k=0;w>k;k++)S[k]=e.trim(m[c.yDimension[k].dataName]),c.yDimension[k].converter&&e.isFunction(c.yDimension[k].converter)&&(S[k]=c.yDimension[k].converter.call(this,S[k],F,S));x=g(m,c.aggregates,S,x)}else 0===w&&(x=g(m,c.aggregates,null,x));a.push(x)}var R,M=0,N=null,O=null;for(R in n)if(n.hasOwnProperty(R)){if(0===M)G.children&&void 0!==G.children||(G={
text:R,level:0,children:[],label:R}),N=G.children;else{for(O=null,j=0;j<N.length;j++)if(N[j].text===R){O=N[j];break}O?N=O.children:(N.push({children:[],text:R,level:M,fields:n[R],label:l[R]}),N=N[N.length-1].children)}M++}$++}var T=[],P=o.length,A=P;w>0&&(p[w-1]={useColSpanStyle:!1,groupHeaders:[]}),f(G);var E;if(c.colTotals)for(var U=a.length;U--;)for(j=b;j<o.length;j++)E=o[j].name,s[E]?s[E]+=parseFloat(a[U][E]||0):s[E]=parseFloat(a[U][E]||0);if(I>0)for(j=0;I>j;j++)o[j].isGroupField&&(d.groupingView.groupField.push(o[j].name),d.groupingView.groupSummary.push(c.groupSummary),d.groupingView.groupSummaryPos.push(c.groupSummaryPos));else d.grouping=!1;d.sortname=o[I].name,d.groupingView.hideFirstGroupCol=!0}),{colModel:o,rows:a,groupOptions:d,groupHeaders:p,summary:s}},jqPivot:function(t,i,r,o){return this.each(function(){function a(t){var o,a,n,l,d=jQuery(s).jqGrid("pivotSetup",t,i),p=e.assocArraySize(d.summary)>0,c=e.jgrid.from.call(s,d.rows);for(i.ignoreCase&&(c=c.ignoreCase()),o=0;o<d.groupOptions.groupingView.groupField.length;o++)a=i.xDimension[o].sortorder?i.xDimension[o].sortorder:"asc",n=i.xDimension[o].sorttype?i.xDimension[o].sorttype:"text",c.orderBy(d.groupOptions.groupingView.groupField[o],a,n,"",n);l=i.xDimension.length,d.groupOptions.sortname&&l&&(a=i.xDimension[l-1].sortorder?i.xDimension[l-1].sortorder:"asc",n=i.xDimension[l-1].sorttype?i.xDimension[l-1].sorttype:"text",c.orderBy(d.groupOptions.sortname,a,n,"",n)),jQuery(s).jqGrid(e.extend(!0,{datastr:e.extend(c.select(),p?{userdata:d.summary}:{}),datatype:"jsonstring",footerrow:p,userDataOnFooter:p,colModel:d.colModel,viewrecords:!0,sortname:i.xDimension[0].dataName},d.groupOptions,r||{}));var u=d.groupHeaders;if(u.length)for(o=0;o<u.length;o++)u[o]&&u[o].groupHeaders.length&&jQuery(s).jqGrid("setGroupHeaders",u[o]);i.frozenStaticCols&&jQuery(s).jqGrid("setFrozenColumns")}var s=this;"string"==typeof t?e.ajax(e.extend({url:t,dataType:"json",success:function(t){a(e.jgrid.getAccessor(t,o&&o.reader?o.reader:"rows"))}},o||{})):a(t)})}})}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.utils","./grid.base"],e):e(jQuery)}(function(e){"use strict";e.jgrid=e.jgrid||{},e.extend(e.jgrid,{saveState:function(t,i){if(i=e.extend({useStorage:!0,storageType:"localStorage",beforeSetItem:null,compression:!1,compressionModule:"LZString",compressionMethod:"compressToUTF16"},i||{}),t){var r,o,a="",s="",n=e("#"+t)[0];if(n.grid){if(o=e(n).data("inlineNav"),o&&n.p.inlineNav&&e(n).jqGrid("setGridParam",{_iN:o}),o=e(n).data("filterToolbar"),o&&n.p.filterToolbar&&e(n).jqGrid("setGridParam",{_fT:o}),a=e(n).jqGrid("jqGridExport",{exptype:"jsonstring",ident:"",root:""}),e(n.grid.bDiv).find(".ui-jqgrid-btable tr:gt(0)").each(function(e,t){s+=t.outerHTML}),e.isFunction(i.beforeSetItem)&&(r=i.beforeSetItem.call(n,a),null!=r&&(a=r)),i.compression&&i.compressionModule)try{r=window[i.compressionModule][i.compressionMethod](a),null!=r&&(a=r,s=window[i.compressionModule][i.compressionMethod](s))}catch(l){}if(i.useStorage&&e.jgrid.isLocalStorage())try{window[i.storageType].setItem("jqGrid"+n.p.id,a),window[i.storageType].setItem("jqGrid"+n.p.id+"_data",s)}catch(l){22===l.code&&alert("Local storage limit is over!")}return a}}},loadState:function(t,i,r){if(r=e.extend({useStorage:!0,storageType:"localStorage",clearAfterLoad:!1,beforeSetGrid:null,afterSetGrid:null,decompression:!1,decompressionModule:"LZString",decompressionMethod:"decompressFromUTF16"},r||{}),t){var o,a,s,n,l,d=e("#"+t)[0];if(r.useStorage)try{i=window[r.storageType].getItem("jqGrid"+d.id),s=window[r.storageType].getItem("jqGrid"+d.id+"_data")}catch(p){}if(i){if(r.decompression&&r.decompressionModule)try{o=window[r.decompressionModule][r.decompressionMethod](i),null!=o&&(i=o,s=window[r.decompressionModule][r.decompressionMethod](s))}catch(p){}if(o=jqGridUtils.parse(i),o&&"object"===e.type(o)){d.grid&&e.jgrid.gridUnload(t),e.isFunction(r.beforeSetGrid)&&(a=r.beforeSetGrid(o),a&&"object"===e.type(a)&&(o=a));var c=function(e){var t;return t=e},u={reccount:o.reccount,records:o.records,lastpage:o.lastpage,shrinkToFit:c(o.shrinkToFit),data:c(o.data),datatype:c(o.datatype),grouping:c(o.grouping)};o.shrinkToFit=!1,o.data=[],o.datatype="local",o.grouping=!1,o.inlineNav&&(n=c(o._iN),o._iN=null,delete o._iN),o.filterToolbar&&(l=c(o._fT),o._fT=null,delete o._fT);var h=e("#"+t).jqGrid(o);if(h.append(s),h.jqGrid("setGridParam",u),o.storeNavOptions&&o.navGrid&&(h[0].p.navGrid=!1,h.jqGrid("navGrid",o.pager,o.navOptions,o.editOptions,o.addOptions,o.delOptions,o.searchOptions,o.viewOptions),o.navButtons&&o.navButtons.length))for(var g=0;g<o.navButtons.length;g++)"sepclass"in o.navButtons[g][1]?h.jqGrid("navSeparatorAdd",o.navButtons[g][0],o.navButtons[g][1]):h.jqGrid("navButtonAdd",o.navButtons[g][0],o.navButtons[g][1]);o.inlineNav&&n&&(h.jqGrid("setGridParam",{inlineNav:!1}),h.jqGrid("inlineNav",o.pager,n)),o.filterToolbar&&l&&(h.jqGrid("setGridParam",{filterToolbar:!1}),l.restoreFromFilters=!0,h.jqGrid("filterToolbar",l)),o.frozenColumns&&h.jqGrid("setFrozenColumns"),h[0].updatepager(!0,!0),e.isFunction(r.afterSetGrid)&&r.afterSetGrid(h),r.clearAfterLoad&&(window[r.storageType].removeItem("jqGrid"+d.id),window[r.storageType].removeItem("jqGrid"+d.id+"_data"))}else alert("can not convert to object")}}},isGridInStorage:function(t,i){var r={storageType:"localStorage"};r=e.extend(r,i||{});var o,a,s;try{a=window[r.storageType].getItem("jqGrid"+t),s=window[r.storageType].getItem("jqGrid"+t+"_data"),o=null!=a&&null!=s&&"string"==typeof a&&"string"==typeof s}catch(n){o=!1}return o},setRegional:function(t,i){var r={storageType:"sessionStorage"};if(r=e.extend(r,i||{}),r.regional){e.jgrid.saveState(t,r),r.beforeSetGrid=function(e){return e.regional=r.regional,e.force_regional=!0,e},e.jgrid.loadState(t,null,r);var o=e("#"+t)[0],a=e(o).jqGrid("getGridParam","colModel"),s=-1,n=e.jgrid.getRegional(o,"nav");e.each(a,function(e){return this.formatter&&"actions"===this.formatter?(s=e,!1):void 0}),-1!==s&&n&&e("#"+t+" tbody tr").each(function(){var t=this.cells[s];e(t).find(".ui-inline-edit").attr("title",n.edittitle),e(t).find(".ui-inline-del").attr("title",n.deltitle),e(t).find(".ui-inline-save").attr("title",n.savetitle),e(t).find(".ui-inline-cancel").attr("title",n.canceltitle)});try{window[r.storageType].removeItem("jqGrid"+o.id),window[r.storageType].removeItem("jqGrid"+o.id+"_data")}catch(l){}}},jqGridImport:function(t,i){i=e.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"root>grid",data:"root>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},i||{});var r=(0===t.indexOf("#")?"":"#")+e.jgrid.jqID(t),o=function(t,i){var o,a,s,n=e(i.xmlGrid.config,t)[0],l=e(i.xmlGrid.data,t)[0];if(jqGridUtils.xmlToJSON){o=jqGridUtils.xmlToJSON(n);for(s in o)o.hasOwnProperty(s)&&(a=o[s]);if(l){var d=o.grid.datatype;o.grid.datatype="xmlstring",o.grid.datastr=t,e(r).jqGrid(a).jqGrid("setGridParam",{datatype:d})}else setTimeout(function(){e(r).jqGrid(a)},0)}else alert("xml2json or parse are not present")},a=function(t,i){if(t&&"string"==typeof t){var o=jqGridUtils.parse(t),a=o[i.jsonGrid.config],s=o[i.jsonGrid.data];if(s){var n=a.datatype;a.datatype="jsonstring",a.datastr=s,e(r).jqGrid(a).jqGrid("setGridParam",{datatype:n})}else e(r).jqGrid(a)}};switch(i.imptype){case"xml":e.ajax(e.extend({url:i.impurl,type:i.mtype,data:i.impData,dataType:"xml",complete:function(t,a){"success"===a&&(o(t.responseXML,i),e(r).triggerHandler("jqGridImportComplete",[t,i]),e.isFunction(i.importComplete)&&i.importComplete(t)),t=null}},i.ajaxOptions));break;case"xmlstring":if(i.impstring&&"string"==typeof i.impstring){var s=e.parseXML(i.impstring);s&&(o(s,i),e(r).triggerHandler("jqGridImportComplete",[s,i]),e.isFunction(i.importComplete)&&i.importComplete(s))}break;case"json":e.ajax(e.extend({url:i.impurl,type:i.mtype,data:i.impData,dataType:"json",complete:function(t){try{a(t.responseText,i),e(r).triggerHandler("jqGridImportComplete",[t,i]),e.isFunction(i.importComplete)&&i.importComplete(t)}catch(o){}t=null}},i.ajaxOptions));break;case"jsonstring":i.impstring&&"string"==typeof i.impstring&&(a(i.impstring,i),e(r).triggerHandler("jqGridImportComplete",[i.impstring,i]),e.isFunction(i.importComplete)&&i.importComplete(i.impstring))}}}),e.jgrid.extend({jqGridExport:function(t){t=e.extend({exptype:"xmlstring",root:"grid",ident:"\t",addOptions:{}},t||{});var i=null;return this.each(function(){if(this.grid){var r,o=e.extend(!0,{},e(this).jqGrid("getGridParam"),t.addOptions);if(o.rownumbers&&(o.colNames.splice(0,1),o.colModel.splice(0,1)),o.multiselect&&(o.colNames.splice(0,1),o.colModel.splice(0,1)),o.subGrid&&(o.colNames.splice(0,1),o.colModel.splice(0,1)),o.knv=null,o.treeGrid)for(r in o.treeReader)o.treeReader.hasOwnProperty(r)&&(o.colNames.splice(o.colNames.length-1),o.colModel.splice(o.colModel.length-1));switch(t.exptype){case"xmlstring":i="<"+t.root+">"+jqGridUtils.jsonToXML(o,{xmlDecl:""})+"</"+t.root+">";break;case"jsonstring":i=jqGridUtils.stringify(o),t.root&&(i="{"+t.root+":"+i+"}")}}}),i},excelExport:function(t){return t=e.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},t||{}),this.each(function(){if(this.grid){var i;if("remote"===t.exptype){var r=e.extend({},this.p.postData);r[t.oper]=t.tag;var o=jQuery.param(r);i=-1!==t.url.indexOf("?")?t.url+"&"+o:t.url+"?"+o,window.location=i}}})}})}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e()}(function(){"use strict";return window.jqGridUtils={stringify:function(e){return JSON.stringify(e,function(e,t){return"function"==typeof t?t.toString():t})},parse:function(str){return JSON.parse(str,function(key,value){return"string"==typeof value&&-1!==value.indexOf("function")?eval("("+value+")"):value})},encode:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},jsonToXML:function(e,t){var i=$.extend({xmlDecl:'<?xml version="1.0" encoding="UTF-8" ?>\n',attr_prefix:"-",encode:!0},t||{}),r=this,o=function(e,t){return"#text"===e?i.encode?r.encode(t):t:"function"==typeof t?"<"+e+"><![CDATA["+t+"]]></"+e+">\n":""===t?"<"+e+">__EMPTY_STRING_</"+e+">\n":"<"+e+">"+(i.encode?r.encode(t):t)+"</"+e+">\n"},a=function(e,t){for(var i=[],r=0;r<t.length;r++){var n=t[r];"undefined"==typeof n||null==n?i[i.length]="<"+e+" />":"object"==typeof n&&n.constructor==Array?i[i.length]=a(e,n):"object"==typeof n?i[i.length]=s(e,n):i[i.length]=o(e,n)}return i.length||(i[0]="<"+e+">__EMPTY_ARRAY_</"+e+">\n"),i.join("")},s=function(e,t){var n=[],l=[];for(var d in t)if(t.hasOwnProperty(d)){var p=t[d];d.charAt(0)!==i.attr_prefix?null==p?n[n.length]="<"+d+" />":"object"==typeof p&&p.constructor===Array?n[n.length]=a(d,p):"object"==typeof p?n[n.length]=s(d,p):n[n.length]=o(d,p):l[l.length]=" "+d.substring(1)+'="'+(i.encode?r.encode(p):p)+'"'}var c=l.join(""),u=n.join("");return null==e||(u=n.length>0?u.match(/\n/)?"<"+e+c+">\n"+u+"</"+e+">\n":"<"+e+c+">"+u+"</"+e+">\n":"<"+e+c+" />\n"),u},n=s(null,e);return i.xmlDecl+n},xmlToJSON:function(root,options){var o=$.extend({force_array:[],attr_prefix:"-"},options||{});if(root){var __force_array={};if(o.force_array)for(var i=0;i<o.force_array.length;i++)__force_array[o.force_array[i]]=1;"string"==typeof root&&(root=$.parseXML(root)),root.documentElement&&(root=root.documentElement);var addNode=function(hash,key,cnts,val){if("string"==typeof val)if(-1!==val.indexOf("function"))val=eval("("+val+")");else switch(val){case"__EMPTY_ARRAY_":val=[];break;case"__EMPTY_STRING_":val="";break;case"false":val=!1;break;case"true":val=!0}__force_array[key]?(1===cnts&&(hash[key]=[]),hash[key][hash[key].length]=val):1===cnts?hash[key]=val:2===cnts?hash[key]=[hash[key],val]:hash[key][hash[key].length]=val},parseElement=function(e){if(7!==e.nodeType){if(3===e.nodeType||4===e.nodeType){var t=e.nodeValue.match(/[^\x00-\x20]/);if(null==t)return;return e.nodeValue}var i,r,a,s,n={};if(e.attributes&&e.attributes.length)for(i={},r=0;r<e.attributes.length;r++)a=e.attributes[r].nodeName,"string"==typeof a&&(s=e.attributes[r].nodeValue,s&&(a=o.attr_prefix+a,"undefined"==typeof n[a]&&(n[a]=0),n[a]++,addNode(i,a,n[a],s)));if(e.childNodes&&e.childNodes.length){var l=!0;for(i&&(l=!1),r=0;r<e.childNodes.length&&l;r++){var d=e.childNodes[r].nodeType;3!==d&&4!==d&&(l=!1)}if(l)for(i||(i=""),r=0;r<e.childNodes.length;r++)i+=e.childNodes[r].nodeValue;else for(i||(i={}),r=0;r<e.childNodes.length;r++)a=e.childNodes[r].nodeName,"string"==typeof a&&(s=parseElement(e.childNodes[r]),s&&("undefined"==typeof n[a]&&(n[a]=0),n[a]++,addNode(i,a,n[a],s)))}return i}},json=parseElement(root);if(__force_array[root.nodeName]&&(json=[json]),11!==root.nodeType){var tmp={};tmp[root.nodeName]=json,json=tmp}return json}}},window.jqGridUtils}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./grid.base","jquery-ui/dialog","jquery-ui/draggable","jquery-ui/droppable","jquery-ui/resizable","jquery-ui/sortable","./addons/ui.multiselect"],e):e(jQuery)}(function($){"use strict";if($.jgrid.msie&&8===$.jgrid.msiever()&&($.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"===e.style.display}),$.jgrid._multiselect=!1,$.ui&&$.ui.multiselect){if($.ui.multiselect.prototype._setSelected){var setSelected=$.ui.multiselect.prototype._setSelected;$.ui.multiselect.prototype._setSelected=function(e,t){var i=setSelected.call(this,e,t);if(t&&this.selectedList){var r=this.element;this.selectedList.find("li").each(function(){$(this).data("optionLink")&&$(this).data("optionLink").remove().appendTo(r)})}return i}}$.ui.multiselect.prototype.destroy&&($.ui.multiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===$.Widget?$.widget.prototype.destroy.apply(this,arguments):$.Widget.prototype.destroy.apply(this,arguments)}),$.jgrid._multiselect=!0}$.jgrid.extend({sortableColumns:function(e){return this.each(function(){function t(){i.p.disableClick=!0}var i=this,r=$.jgrid.jqID(i.p.id),o={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+r+"_cb,#jqgh_"+r+"_rn,#jqgh_"+r+"_subgrid),:hidden)",placeholder:{element:function(e){var t=$(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0];return t},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},update:function(e,t){var r=$(t.item).parent(),o=$(">th",r),a=i.p.colModel,s={},n=i.p.id+"_";$.each(a,function(e){s[this.name]=e});var l=[];o.each(function(){var e=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(n,"");s.hasOwnProperty(e)&&l.push(s[e])}),$(i).jqGrid("remapColumns",l,!0,!0),$.isFunction(i.p.sortable.update)&&i.p.sortable.update(l),setTimeout(function(){i.p.disableClick=!1},50)}};if(i.p.sortable.options?$.extend(o,i.p.sortable.options):$.isFunction(i.p.sortable)&&(i.p.sortable={update:i.p.sortable}),o.start){var a=o.start;o.start=function(e,i){t(),a.call(this,e,i)}}else o.start=t;i.p.sortable.exclude&&(o.items+=":not("+i.p.sortable.exclude+")");var s=e.sortable(o),n=s.data("sortable")||s.data("uiSortable");null!=n&&(n.data("sortable").floating=!0)})},columnChooser:function(e){function t(e,t,i){var r,o;return t>=0?(r=e.slice(),o=r.splice(t,Math.max(e.length-t,t)),t>e.length&&(t=e.length),r[t]=i,r.concat(o)):e}function i(e,t){e&&("string"==typeof e?$.fn[e]&&$.fn[e].apply(t,$.makeArray(arguments).slice(2)):$.isFunction(e)&&e.apply(t,$.makeArray(arguments).slice(2)))}var r,o,a,s,n,l,d,p=this,c={},u=[],h=p.jqGrid("getGridParam","colModel"),g=p.jqGrid("getGridParam","colNames"),f=function(e){return $.ui.multiselect.prototype&&e.data($.ui.multiselect.prototype.widgetFullName||$.ui.multiselect.prototype.widgetName)||e.data("ui-multiselect")||e.data("multiselect")},m=$.jgrid.getRegional(this[0],"col");if(!$("#colchooser_"+$.jgrid.jqID(p[0].p.id)).length){if(r=$('<div id="colchooser_'+p[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),o=$("select",r),e=$.extend({width:400,height:240,classname:null,done:function(e){e&&p.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(e){var t={};return t[e.bSubmit]=function(){e.apply_perm(),e.cleanup(!1)},t[e.bCancel]=function(){e.cleanup(!0)},$.extend(!0,{buttons:t,close:function(){e.cleanup(!0)},modal:e.modal||!1,resizable:e.resizable||!0,width:e.width+70,resize:function(){var e=f(o),t=e.container.closest(".ui-dialog-content");t.length>0&&"object"==typeof t[0].style?t[0].style.width="":t.css("width",""),e.selectedList.height(Math.max(e.selectedContainer.height()-e.selectedActions.outerHeight()-1,1)),e.availableList.height(Math.max(e.availableContainer.height()-e.availableActions.outerHeight()-1,1))}},e.dialog_opts||{})},apply_perm:function(){var i=[];$("option",o).each(function(){$(this).is(":selected")?p.jqGrid("showCol",h[this.value].name):p.jqGrid("hideCol",h[this.value].name)}),$("option[selected]",o).each(function(){i.push(parseInt(this.value,10))}),$.each(i,function(){delete c[h[parseInt(this,10)].name]}),$.each(c,function(){var e=parseInt(this,10);i=t(i,e,e)}),e.done&&e.done.call(p,i),p.jqGrid("setGridWidth",p[0].p.width,p[0].p.shrinkToFit)},cleanup:function(t){i(e.dlog,r,"destroy"),i(e.msel,o,"destroy"),r.remove(),t&&e.done&&e.done.call(p)},msel_opts:{}},m,e||{}),$.ui&&$.ui.multiselect&&$.ui.multiselect.defaults){if(!$.jgrid._multiselect)return void alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");e.msel_opts=$.extend($.ui.multiselect.defaults,e.msel_opts)}e.caption&&r.attr("title",e.caption),e.classname&&(r.addClass(e.classname),o.addClass(e.classname)),e.width&&($(">div",r).css({width:e.width,margin:"0 auto"}),o.css("width",e.width)),e.height&&($(">div",r).css("height",e.height),o.css("height",e.height-10)),o.empty(),$.each(h,function(e){return c[this.name]=e,this.hidedlg?void(this.hidden||u.push(e)):void o.append("<option value='"+e+"' "+(this.hidden?"":"selected='selected'")+">"+$.jgrid.stripHtml(g[e])+"</option>")}),a=$.isFunction(e.dlog_opts)?e.dlog_opts.call(p,e):e.dlog_opts,i(e.dlog,r,a),s=$.isFunction(e.msel_opts)?e.msel_opts.call(p,e):e.msel_opts,i(e.msel,o,s),n=$("#colchooser_"+$.jgrid.jqID(p[0].p.id)),n.css({margin:"auto"}),n.find(">div").css({width:"100%",height:"100%",margin:"auto"}),l=f(o),l.container.css({width:"100%",height:"100%",margin:"auto"}),l.selectedContainer.css({width:100*l.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),l.availableContainer.css({width:100-100*l.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),l.selectedList.css("height","auto"),l.availableList.css("height","auto"),d=Math.max(l.selectedList.height(),l.availableList.height()),d=Math.min(d,$(window).height()),l.selectedList.css("height",d),l.availableList.css("height",d)}},sortableRows:function(e){return this.each(function(){var t=this;t.grid&&(t.p.treeGrid||$.fn.sortable&&(e=$.extend({cursor:"move",axis:"y",items:" > .jqgrow"},e||{}),e.start&&$.isFunction(e.start)?(e._start_=e.start,delete e.start):e._start_=!1,e.update&&$.isFunction(e.update)?(e._update_=e.update,delete e.update):e._update_=!1,e.start=function(i,r){if($(r.item).css("border-width","0"),$("td",r.item).each(function(e){this.style.width=t.grid.cols[e].style.width}),t.p.subGrid){var o=$(r.item).attr("id");try{$(t).jqGrid("collapseSubGridRow",o)}catch(a){}}e._start_&&e._start_.apply(this,[i,r])},e.update=function(i,r){$(r.item).css("border-width",""),t.p.rownumbers===!0&&$("td.jqgrid-rownum",t.rows).each(function(e){$(this).html(e+1+(parseInt(t.p.page,10)-1)*parseInt(t.p.rowNum,10))}),e._update_&&e._update_.apply(this,[i,r])},$("tbody:first",t).sortable(e),$("tbody:first > .jqgrow",t).disableSelection()))})},gridDnD:function(e){return this.each(function(){function t(){var e=$.data(o,"dnd");$("tr.jqgrow:not(.ui-draggable)",o).draggable($.isFunction(e.drag)?e.drag.call($(o),e):e.drag)}var i,r,o=this;if(o.grid&&!o.p.treeGrid&&$.fn.draggable&&$.fn.droppable){var a="<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>";if(void 0===$("#jqgrid_dnd")[0]&&$("body").append(a),"string"==typeof e&&"updateDnD"===e&&o.p.jqgdnd===!0)return void t();if(e=$.extend({drag:function(e){return $.extend({start:function(t,i){var r,a;if(o.p.subGrid){a=$(i.helper).attr("id");try{$(o).jqGrid("collapseSubGridRow",a)}catch(s){}}for(r=0;r<$.data(o,"dnd").connectWith.length;r++)0===$($.data(o,"dnd").connectWith[r]).jqGrid("getGridParam","reccount")&&$($.data(o,"dnd").connectWith[r]).jqGrid("addRowData","jqg_empty_row",{});i.helper.addClass("ui-state-highlight"),$("td",i.helper).each(function(e){this.style.width=o.grid.headers[e].width+"px"}),e.onstart&&$.isFunction(e.onstart)&&e.onstart.call($(o),t,i)},stop:function(t,i){var r,a;for(i.helper.dropped&&!e.dragcopy&&(a=$(i.helper).attr("id"),void 0===a&&(a=$(this).attr("id")),$(o).jqGrid("delRowData",a)),r=0;r<$.data(o,"dnd").connectWith.length;r++)$($.data(o,"dnd").connectWith[r]).jqGrid("delRowData","jqg_empty_row");e.onstop&&$.isFunction(e.onstop)&&e.onstop.call($(o),t,i)}},e.drag_opts||{})},drop:function(e){return $.extend({accept:function(e){if(!$(e).hasClass("jqgrow"))return e;var t=$(e).closest("table.ui-jqgrid-btable");if(t.length>0&&void 0!==$.data(t[0],"dnd")){var i=$.data(t[0],"dnd").connectWith;return-1!==$.inArray("#"+$.jgrid.jqID(this.id),i)}return!1},drop:function(t,i){if($(i.draggable).hasClass("jqgrow")){var r=$(i.draggable).attr("id"),a=i.draggable.parent().parent().jqGrid("getRowData",r);if(!e.dropbyname){var s,n,l=0,d={},p=$("#"+$.jgrid.jqID(this.id)).jqGrid("getGridParam","colModel");try{for(n in a)a.hasOwnProperty(n)&&(s=p[l].name,"cb"!==s&&"rn"!==s&&"subgrid"!==s&&a.hasOwnProperty(n)&&p[l]&&(d[s]=a[n]),l++);a=d}catch(c){}}if(i.helper.dropped=!0,e.beforedrop&&$.isFunction(e.beforedrop)){var u=e.beforedrop.call(this,t,i,a,$("#"+$.jgrid.jqID(o.p.id)),$(this));void 0!==u&&null!==u&&"object"==typeof u&&(a=u)}if(i.helper.dropped){var h;e.autoid&&($.isFunction(e.autoid)?h=e.autoid.call(this,a):(h=Math.ceil(1e3*Math.random()),h=e.autoidprefix+h)),$("#"+$.jgrid.jqID(this.id)).jqGrid("addRowData",h,a,e.droppos)}e.ondrop&&$.isFunction(e.ondrop)&&e.ondrop.call(this,t,i,a)}}},e.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},e||{}),e.connectWith)for(e.connectWith=e.connectWith.split(","),e.connectWith=$.map(e.connectWith,function(e){return $.trim(e)}),$.data(o,"dnd",e),0===o.p.reccount||o.p.jqgdnd||t(),o.p.jqgdnd=!0,i=0;i<e.connectWith.length;i++)r=e.connectWith[i],$(r).droppable($.isFunction(e.drop)?e.drop.call($(o),e):e.drop)}})},gridResize:function(opts){return this.each(function(){var $t=this,gID=$.jgrid.jqID($t.p.id),req;if($t.grid&&$.fn.resizable){if(opts=$.extend({},opts||{}),opts.alsoResize?(opts._alsoResize_=opts.alsoResize,delete opts.alsoResize):opts._alsoResize_=!1,opts.stop&&$.isFunction(opts.stop)?(opts._stop_=opts.stop,delete opts.stop):opts._stop_=!1,opts.stop=function(e,t){$($t).jqGrid("setGridParam",{height:$("#gview_"+gID+" .ui-jqgrid-bdiv").height()}),$($t).jqGrid("setGridWidth",t.size.width,opts.shrinkToFit),opts._stop_&&opts._stop_.call($t,e,t),$t.p.caption&&$("#gbox_"+gID).css({height:"auto"}),$t.p.frozenColumns&&(req&&clearTimeout(req),req=setTimeout(function(){req&&clearTimeout(req),$("#"+gID).jqGrid("destroyFrozenColumns"),$("#"+gID).jqGrid("setFrozenColumns")}))},opts._alsoResize_){var optstest="{'#gview_"+gID+" .ui-jqgrid-bdiv':true,'"+opts._alsoResize_+"':true}";opts.alsoResize=eval("("+optstest+")")}else opts.alsoResize=$(".ui-jqgrid-bdiv","#gview_"+gID);delete opts._alsoResize_,$("#gbox_"+gID).resizable(opts)}})}})});
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","../grid.base"],e):e(jQuery)}(function(e){e.jgrid=e.jgrid||{},e.jgrid.hasOwnProperty("regional")||(e.jgrid.regional=[]),e.jgrid.regional.cn={defaults:{recordtext:"{0} - {1}　共 {2} 条",emptyrecords:"无数据显示",loadtext:"读取中...",savetext:"Saving...",pgtext:" {0} 共 {1} 页",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",pagerCaption:"Grid::Page Settings",pageText:"Page:",recordPage:"Records per Page",nomorerecs:"No more records...",scrollPullup:"Pull up to load more...",scrollPulldown:"Pull down to refresh...",scrollRefresh:"Release to refresh..."},search:{caption:"搜索...",Find:"查找",Reset:"重置",odata:[{oper:"eq",text:"等于　　"},{oper:"ne",text:"不等　　"},{oper:"lt",text:"小于　　"},{oper:"le",text:"小于等于"},{oper:"gt",text:"大于　　"},{oper:"ge",text:"大于等于"},{oper:"bw",text:"开始于"},{oper:"bn",text:"不开始于"},{oper:"in",text:"属于　　"},{oper:"ni",text:"不属于"},{oper:"ew",text:"结束于"},{oper:"en",text:"不结束于"},{oper:"cn",text:"包含　　"},{oper:"nc",text:"不包含"},{oper:"nu",text:"不存在"},{oper:"nn",text:"存在"}],groupOps:[{op:"AND",text:"所有"},{op:"OR",text:"任一"}],operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"添加记录",editCaption:"编辑记录",bSubmit:"提交",bCancel:"取消",bClose:"关闭",saveData:"数据已改变，是否保存？",bYes:"是",bNo:"否",bExit:"取消",msg:{required:"此字段必需",number:"请输入有效数字",minValue:"输值必须大于等于 ",maxValue:"输值必须小于等于 ",email:"这不是有效的e-mail地址",integer:"请输入有效整数",date:"请输入有效时间",url:"无效网址。前缀必须为 ('http://' 或 'https://')",nodefined:" 未定义！",novalue:" 需要返回值！",customarray:"自定义函数需要返回数组！",customfcheck:"必须有自定义函数!"}},view:{caption:"查看记录",bClose:"关闭"},del:{caption:"删除",msg:"删除所选记录？",bSubmit:"删除",bCancel:"取消"},nav:{edittext:"",edittitle:"编辑所选记录",addtext:"",addtitle:"添加新记录",deltext:"",deltitle:"删除所选记录",searchtext:"",searchtitle:"查找",refreshtext:"",refreshtitle:"刷新表格",alertcap:"注意",alerttext:"请选择记录",viewtext:"",viewtitle:"查看所选记录",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing",selectcaption:"Actions..."},col:{caption:"选择列",bSubmit:"确定",bCancel:"取消"},errors:{errcap:"错误",nourl:"没有设置url",norecords:"没有要处理的记录",model:"colNames 和 colModel 长度不等！"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["日","一","二","三","四","五","六","星期日","星期一","星期二","星期三","星期四","星期五","星期六"],monthNames:["一","二","三","四","五","六","七","八","九","十","十一","十二","一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],AmPm:["am","pm","上午","下午"],S:function(e){return e<11||e>13?["st","nd","rd","th"][Math.min((e-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"Y-m-d",parseRe:/[#%\\\/:_;.,\t\s-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:!1,userLocalTime:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0},idName:"id"}}});
!function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var s=e([0]),i=-1,n=this.length;++i<n&&(s.context=s[0]=this[i])&&t.call(s[0],i,s)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function s(t){var s=e(document.createTextNode(""));t.before(s),s.before(t),s.remove()}function i(e){function t(e){return z[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function n(e,t){for(var s=0,i=t.length;s<i;s+=1)if(a(e,t[s]))return s;return-1}function o(){var t=e(j);t.appendTo(document.body);var s={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),s}function a(e,s){return e===s||e!==t&&s!==t&&(null!==e&&null!==s&&(e.constructor===String?e+""==s+"":s.constructor===String&&s+""==e+""))}function r(e,t,s){var i,n,o;if(null===e||e.length<1)return[];for(i=e.split(t),n=0,o=i.length;n<o;n+=1)i[n]=s(i[n]);return i}function l(e){return e.outerWidth(!1)-e.width()}function c(s){var i="keyup-change-value";s.on("keydown",function(){e.data(s,i)===t&&e.data(s,i,s.val())}),s.on("keyup",function(){var n=e.data(s,i);n!==t&&s.val()!==n&&(e.removeData(s,i),s.trigger("keyup-change"))})}function h(s){s.on("mousemove",function(s){var i=F;i!==t&&i.x===s.pageX&&i.y===s.pageY||e(s.target).trigger("mousemove-filtered",s)})}function u(e,s,i){i=i||t;var n;return function(){var t=arguments;window.clearTimeout(n),n=window.setTimeout(function(){s.apply(i,t)},e)}}function d(e,t){var s=u(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){n(e.target,t.get())>=0&&s(e)})}function p(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,s=e[0],i=e.val().length;e.focus();var n=s.offsetWidth>0||s.offsetHeight>0;n&&s===document.activeElement&&(s.setSelectionRange?s.setSelectionRange(i,i):s.createTextRange&&(t=s.createTextRange(),t.collapse(!1),t.select()))},0)}function f(t){t=e(t)[0];var s=0,i=0;if("selectionStart"in t)s=t.selectionStart,i=t.selectionEnd-s;else if("selection"in document){t.focus();var n=document.selection.createRange();i=document.selection.createRange().text.length,n.moveStart("character",-t.value.length),s=n.text.length-i}return{offset:s,length:i}}function g(e){e.preventDefault(),e.stopPropagation()}function m(e){e.preventDefault(),e.stopImmediatePropagation()}function v(t){if(!M){var s=t[0].currentStyle||window.getComputedStyle(t[0],null);M=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:s.fontSize,fontFamily:s.fontFamily,fontStyle:s.fontStyle,fontWeight:s.fontWeight,letterSpacing:s.letterSpacing,textTransform:s.textTransform,whiteSpace:"nowrap"}),M.attr("class","select2-sizer"),e(document.body).append(M)}return M.text(t.val()),M.width()}function b(t,s,i){var n,o,a=[];n=e.trim(t.attr("class")),n&&(n=""+n,e(n.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&a.push(this)})),n=e.trim(s.attr("class")),n&&(n=""+n,e(n.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(o=i(this),o&&a.push(o))})),t.attr("class",a.join(" "))}function w(e,t,s,n){var o=i(e.toUpperCase()).indexOf(i(t.toUpperCase())),a=t.length;return o<0?void s.push(n(e)):(s.push(n(e.substring(0,o))),s.push("<span class='select2-match'>"),s.push(n(e.substring(o,o+a))),s.push("</span>"),void s.push(n(e.substring(o+a,e.length))))}function S(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function C(s){var i,n=null,o=s.quietMillis||100,a=s.url,r=this;return function(l){window.clearTimeout(i),i=window.setTimeout(function(){var i=s.data,o=a,c=s.transport||e.fn.select2.ajaxDefaults.transport,h={type:s.type||"GET",cache:s.cache||!1,jsonpCallback:s.jsonpCallback||t,dataType:s.dataType||"json"},u=e.extend({},e.fn.select2.ajaxDefaults.params,h);i=i?i.call(r,l.term,l.page,l.context):null,o="function"==typeof o?o.call(r,l.term,l.page,l.context):o,n&&"function"==typeof n.abort&&n.abort(),s.params&&(e.isFunction(s.params)?e.extend(u,s.params.call(r)):e.extend(u,s.params)),e.extend(u,{url:o,dataType:s.dataType,data:i,success:function(e){var t=s.results(e,l.page,l);l.callback(t)},error:function(e,t,s){var i={hasError:!0,jqXHR:e,textStatus:t,errorThrown:s};l.callback(i)}}),n=c.call(r,u)},o)}}function y(t){var s,i,n=t,o=function(e){return""+e.text};e.isArray(n)&&(i=n,n={results:i}),e.isFunction(n)===!1&&(i=n,n=function(){return i});var a=n();return a.text&&(o=a.text,e.isFunction(o)||(s=a.text,o=function(e){return e[s]})),function(t){var s,i=t.term,a={results:[]};return""===i?void t.callback(n()):(s=function(n,a){var r,l;if(n=n[0],n.children){r={};for(l in n)n.hasOwnProperty(l)&&(r[l]=n[l]);r.children=[],e(n.children).each2(function(e,t){s(t,r.children)}),(r.children.length||t.matcher(i,o(r),n))&&a.push(r)}else t.matcher(i,o(n),n)&&a.push(n)},e(n().results).each2(function(e,t){s(t,a.results)}),void t.callback(a))}}function x(s){var i=e.isFunction(s);return function(n){var o=n.term,a={results:[]},r=i?s(n):s;e.isArray(r)&&(e(r).each(function(){var e=this.text!==t,s=e?this.text:this;(""===o||n.matcher(o,s))&&a.results.push(e?this:{id:this,text:this})}),n.callback(a))}}function E(t,s){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(s+" must be a string, function, or falsy value")}function T(t,s){if(e.isFunction(t)){var i=Array.prototype.slice.call(arguments,2);return t.apply(s,i)}return t}function O(t){var s=0;return e.each(t,function(e,t){t.children?s+=O(t.children):s++}),s}function I(e,s,i,n){var o,r,l,c,h,u=e,d=!1;if(!n.createSearchChoice||!n.tokenSeparators||n.tokenSeparators.length<1)return t;for(;;){for(r=-1,l=0,c=n.tokenSeparators.length;l<c&&(h=n.tokenSeparators[l],r=e.indexOf(h),!(r>=0));l++);if(r<0)break;if(o=e.substring(0,r),e=e.substring(r+h.length),o.length>0&&(o=n.createSearchChoice.call(this,o,s),o!==t&&null!==o&&n.id(o)!==t&&null!==n.id(o))){for(d=!1,l=0,c=s.length;l<c;l++)if(a(n.id(o),n.id(s[l]))){d=!0;break}d||i(o)}}return u!==e?e:void 0}function P(){var t=this;e.each(arguments,function(e,s){t[s].remove(),t[s]=null})}function k(t,s){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,s),i}if(window.Select2===t){var R,A,D,L,M,H,N,F={x:0,y:0},U={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case U.LEFT:case U.RIGHT:case U.UP:case U.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case U.SHIFT:case U.CTRL:case U.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&e<=123}},j="<div class='select2-measure-scrollbar'></div>",z={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};H=e(document),L=function(){var e=1;return function(){return e++}}(),R=k(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(s){var i,n,a=".select2-results";this.opts=s=this.prepareOpts(s),this.id=s.id,s.element.data("select2")!==t&&null!==s.element.data("select2")&&s.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=e("<span>",{role:"status","aria-live":"polite",style:"display:none"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(s.element.attr("id")||"autogen"+L()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",s.element.attr("title")),this.body=e(document.body),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style","width:100%"),this.container.css(T(s.containerCss,this.opts.element)),this.container.addClass(T(s.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",g),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(s.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",g),this.results=i=this.container.find(a),this.search=n=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",g),h(this.results),this.dropdown.on("mousemove-filtered",a,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",a,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",a,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",a,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(e){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),d(80,this.results),this.dropdown.on("scroll-debounced",a,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&i.mousewheel(function(e,t,s,n){var o=i.scrollTop();n>0&&o-n<=0?(i.scrollTop(0),g(e)):n<0&&i.get(0).scrollHeight-i.scrollTop()+n<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),g(e))}),c(n),n.on("keyup-change input paste",this.bind(this.updateResults)),n.on("focus",function(){n.addClass("select2-focused")}),n.on("blur",function(){n.removeClass("select2-focused")}),this.dropdown.on("mouseup",a,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.lastSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==s.maximumInputLength&&this.search.attr("maxlength",s.maximumInputLength);var r=s.element.prop("disabled");r===t&&(r=!1),this.enable(!r);var l=s.element.prop("readonly");l===t&&(l=!1),this.readonly(l),N=N||o(),this.autofocus=s.element.prop("autofocus"),s.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",s.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,s=e.data("select2"),i=this;this.close(),e.length&&e[0].detachEvent&&i._sync&&e.each(function(){i._sync&&this.detachEvent("onpropertychange",i._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,s!==t&&(s.container.remove(),s.liveRegion.remove(),s.dropdown.remove(),e.removeData("select2").off(".select2"),e.is("input[type='hidden']")?e.css("display",""):(e.show().prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())),P.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:a(e.attr("locked"),"locked")||a(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(s){var i,n,o,l,c=this;if(i=s.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=n=s.element),n&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in s)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),s.debug=s.debug||e.fn.select2.defaults.debug,s.debug&&console&&console.warn&&(null!=s.id&&console.warn("Select2: The `id` option has been removed in Select2 4.0.0, consider renaming your `id` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=s.text&&console.warn("Select2: The `text` option has been removed in Select2 4.0.0, consider renaming your `text` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=s.sortResults&&console.warn("Select2: the `sortResults` option has been renamed to `sorter` in Select2 4.0.0. "),null!=s.selectOnBlur&&console.warn("Select2: The `selectOnBlur` option has been renamed to `selectOnClose` in Select2 4.0.0."),null!=s.ajax&&null!=s.ajax.results&&console.warn("Select2: The `ajax.results` option has been renamed to `ajax.processResults` in Select2 4.0.0."),null!=s.formatNoResults&&console.warn("Select2: The `formatNoResults` option has been renamed to `language.noResults` in Select2 4.0.0."),null!=s.formatSearching&&console.warn("Select2: The `formatSearching` option has been renamed to `language.searching` in Select2 4.0.0."),null!=s.formatInputTooShort&&console.warn("Select2: The `formatInputTooShort` option has been renamed to `language.inputTooShort` in Select2 4.0.0."),null!=s.formatInputTooLong&&console.warn("Select2: The `formatInputTooLong` option has been renamed to `language.inputTooLong` in Select2 4.0.0."),null!=s.formatLoading&&console.warn("Select2: The `formatLoading` option has been renamed to `language.loadingMore` in Select2 4.0.0."),null!=s.formatSelectionTooBig&&console.warn("Select2: The `formatSelectionTooBig` option has been renamed to `language.maximumSelected` in Select2 4.0.0."),s.element.data("select2Tags")&&console.warn("Select2: The `data-select2-tags` attribute has been renamed to `data-tags` in Select2 4.0.0.")),null!=s.element.data("tags")){var h=s.element.data("tags");e.isArray(h)||(h=[]),s.element.data("select2Tags",h)}if(null!=s.sorter&&(s.sortResults=s.sorter),null!=s.selectOnClose&&(s.selectOnBlur=s.selectOnClose),null!=s.ajax&&e.isFunction(s.ajax.processResults)&&(s.ajax.results=s.ajax.processResults),null!=s.language){var u=s.language;e.isFunction(u.noMatches)&&(s.formatNoMatches=u.noMatches),e.isFunction(u.searching)&&(s.formatSearching=u.searching),e.isFunction(u.inputTooShort)&&(s.formatInputTooShort=u.inputTooShort),e.isFunction(u.inputTooLong)&&(s.formatInputTooLong=u.inputTooLong),e.isFunction(u.loadingMore)&&(s.formatLoading=u.loadingMore),e.isFunction(u.maximumSelected)&&(s.formatSelectionTooBig=u.maximumSelected)}if(s=e.extend({},{populateResults:function(i,n,o){var a,r=this.opts.id,l=this.liveRegion;(a=function(i,n,h){var u,d,p,f,g,m,v,b,w,S;i=s.sortResults(i,n,o);var C=[];for(u=0,d=i.length;u<d;u+=1)p=i[u],g=p.disabled===!0,f=!g&&r(p)!==t,m=p.children&&p.children.length>0,v=e("<li></li>"),v.addClass("select2-results-dept-"+h),v.addClass("select2-result"),v.addClass(f?"select2-result-selectable":"select2-result-unselectable"),g&&v.addClass("select2-disabled"),m&&v.addClass("select2-result-with-children"),v.addClass(c.opts.formatResultCssClass(p)),v.attr("role","presentation"),b=e(document.createElement("div")),b.addClass("select2-result-label"),b.attr("id","select2-result-label-"+L()),b.attr("role","option"),S=s.formatResult(p,b,o,c.opts.escapeMarkup),S!==t&&(b.html(S),v.append(b)),m&&(w=e("<ul></ul>"),w.addClass("select2-result-sub"),a(p.children,w,h+1),v.append(w)),v.data("select2-data",p),C.push(v[0]);n.append(C),l.text(s.formatMatches(i.length))})(n,i,0)}},e.fn.select2.defaults,s),"function"!=typeof s.id&&(o=s.id,s.id=function(e){return e[o]}),e.isArray(s.element.data("select2Tags"))){if("tags"in s)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+s.element.attr("id");s.tags=s.element.data("select2Tags")}if(n?(s.query=this.bind(function(e){var s,n,o,a={results:[],more:!1},r=e.term;o=function(t,s){var i;t.is("option")?e.matcher(r,t.text(),t)&&s.push(c.optionToData(t)):t.is("optgroup")&&(i=c.optionToData(t),t.children().each2(function(e,t){o(t,i.children)}),i.children.length>0&&s.push(i))},s=i.children(),this.getPlaceholder()!==t&&s.length>0&&(n=this.getPlaceholderOption(),n&&(s=s.not(n))),s.each2(function(e,t){o(t,a.results)}),e.callback(a)}),s.id=function(e){return e.id}):"query"in s||("ajax"in s?(l=s.element.data("ajax-url"),l&&l.length>0&&(s.ajax.url=l),s.query=C.call(s.element,s.ajax)):"data"in s?s.query=y(s.data):"tags"in s&&(s.query=h(s.tags),s.createSearchChoice===t&&(s.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),s.initSelection===t&&(s.initSelection=function(t,i){var n=[];e(r(t.val(),s.separator,s.transformVal)).each(function(){var t={id:this,text:this},i=s.tags;e.isFunction(i)&&(i=i()),e(i).each(function(){if(a(this.id,t.id))return t=this,!1}),n.push(t)}),i(n)}))),"function"!=typeof s.query)throw"query function not defined for Select2 "+s.element.attr("id");if("top"===s.createSearchChoicePosition)s.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===s.createSearchChoicePosition)s.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof s.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return s},monitorSource:function(){var s,i=this.opts.element,n=this;i.on("change.select2",this.bind(function(e){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var e=i.prop("disabled");e===t&&(e=!1),this.enable(!e);var s=i.prop("readonly");s===t&&(s=!1),this.readonly(s),this.container&&(b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(T(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(this.opts.dropdownCssClass,this.opts.element)))}),i.length&&i[0].attachEvent&&i.each(function(){this.attachEvent("onpropertychange",n._sync)}),s=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,s!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new s(function(t){e.each(t,n._sync)}),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var s=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(s),!s.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,s,i,n,o,a=this.dropdown,r=this.container,l=r.offset(),c=r.outerHeight(!1),h=r.outerWidth(!1),u=a.outerHeight(!1),d=e(window),p=d.width(),f=d.height(),g=d.scrollLeft()+p,m=d.scrollTop()+f,v=l.top+c,b=l.left,w=v+u<=m,S=l.top-u>=d.scrollTop(),C=a.outerWidth(!1),y=function(){return b+C<=g},x=function(){return l.left+g+r.outerWidth(!1)>C},E=a.hasClass("select2-drop-above");E?(s=!0,!S&&w&&(i=!0,s=!1)):(s=!1,!w&&S&&(i=!0,s=!0)),i&&(a.hide(),l=this.container.offset(),c=this.container.outerHeight(!1),h=this.container.outerWidth(!1),u=a.outerHeight(!1),g=d.scrollLeft()+p,m=d.scrollTop()+f,v=l.top+c,b=l.left,C=a.outerWidth(!1),a.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=e(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),C=a.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:N.width),C>h?h=C:C=h,u=a.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(t=this.body.offset(),v-=t.top,b-=t.left),!y()&&x()&&(b=l.left+this.container.outerWidth(!1)-C),n={left:b,width:h},s?(this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above"),u=a.outerHeight(!1),n.top=l.top-u,n.bottom="auto"):(n.top=v,n.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above")),n=e.extend(n,T(this.opts.dropdownCss,this.opts.element)),a.css(n)},shouldOpen:function(){var t;return!this.opened()&&(this._enabled!==!1&&this._readonly!==!0&&(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),H.on("mousemove.select2Event",function(e){F.x=e.pageX,F.y=e.pageY}),!0)},opening:function(){var t,i=this.containerEventName,n="scroll."+i,o="resize."+i,a="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),t=e("#select2-drop-mask"),0===t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(i){s(t);var n,o=e("#select2-drop");o.length>0&&(n=o.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close(),i.preventDefault(),i.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var r=this;this.container.parents().add(window).each(function(){e(this).on(o+" "+n+" "+a,function(e){r.opened()&&r.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,s="scroll."+t,i="resize."+t,n="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(s).off(i).off(n)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),H.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.search.removeAttr("aria-activedescendant"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},prefillNextSearchTerm:function(){if(""!==this.search.val())return!1;var e=this.opts.nextSearchTerm(this.data(),this.lastSearchTerm);return e!==t&&(this.search.val(e),this.search.select(),!0)},getMaximumSelectionSize:function(){return T(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,s,i,n,o,a,r,l,c=this.results;if(s=this.highlight(),!(s<0)){if(0==s)return void c.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),i=e(t[s]),l=(i.offset()||{}).top||0,n=l+i.outerHeight(!0),s===t.length-1&&(r=c.find("li.select2-more-results"),r.length>0&&(n=r.offset().top+r.outerHeight(!0))),o=c.offset().top+c.outerHeight(!1),n>o&&c.scrollTop(c.scrollTop()+(n-o)),a=l-c.offset().top,a<0&&"none"!=i.css("display")&&c.scrollTop(c.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var s=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<s.length;){i+=t;var n=e(s[i]);if(n.hasClass("select2-result-selectable")&&!n.hasClass("select2-disabled")&&!n.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var s,i,o=this.findHighlightableChoices();return 0===arguments.length?n(o.filter(".select2-highlighted")[0],o.get()):(t>=o.length&&(t=o.length-1),t<0&&(t=0),this.removeHighlight(),s=e(o[t]),s.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",s.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(s.text()),i=s.data("select2-data"),void(i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var s=e(t.target).closest(".select2-result-selectable");if(s.length>0&&!s.is(".select2-highlighted")){
var i=this.findHighlightableChoices();this.highlight(i.index(s))}else 0==s.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,s=t.find("li.select2-more-results"),i=this.resultsPage+1,n=this,o=this.search.val(),a=this.context;0!==s.length&&(e=s.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(s.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:a,matcher:this.opts.matcher,callback:this.bind(function(e){n.opened()&&(n.opts.populateResults.call(this,t,e.results,{term:o,page:i,context:a}),n.postprocessResults(e,!1,!1),e.more===!0?(s.detach().appendTo(t).html(n.opts.escapeMarkup(T(n.opts.formatLoadMore,n.opts.element,i+1))),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):s.remove(),n.positionDropdown(),n.resultsPage=i,n.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(s){function i(){c.removeClass("select2-active"),d.positionDropdown(),h.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?d.liveRegion.text(h.text()):d.liveRegion.text(d.opts.formatMatches(h.find('.select2-result-selectable:not(".select2-selected")').length))}function n(e){h.html(e),i()}var o,r,l,c=this.search,h=this.results,u=this.opts,d=this,p=c.val(),f=e.data(this.container,"select2-last-term");if((s===!0||!f||!a(p,f))&&(e.data(this.container,"select2-last-term",p),s===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var g=this.getMaximumSelectionSize();if(g>=1&&(o=this.data(),e.isArray(o)&&o.length>=g&&E(u.formatSelectionTooBig,"formatSelectionTooBig")))return void n("<li class='select2-selection-limit'>"+T(u.formatSelectionTooBig,u.element,g)+"</li>");if(c.val().length<u.minimumInputLength)return n(E(u.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+T(u.formatInputTooShort,u.element,c.val(),u.minimumInputLength)+"</li>":""),void(s&&this.showSearch&&this.showSearch(!0));if(u.maximumInputLength&&c.val().length>u.maximumInputLength)return void n(E(u.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+T(u.formatInputTooLong,u.element,c.val(),u.maximumInputLength)+"</li>":"");u.formatSearching&&0===this.findHighlightableChoices().length&&n("<li class='select2-searching'>"+T(u.formatSearching,u.element)+"</li>"),c.addClass("select2-active"),this.removeHighlight(),r=this.tokenize(),r!=t&&null!=r&&c.val(r),this.resultsPage=1,u.query({element:u.element,term:c.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(o){var r;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(o.hasError!==t&&E(u.formatAjaxError,"formatAjaxError"))return void n("<li class='select2-ajax-error'>"+T(u.formatAjaxError,u.element,o.jqXHR,o.textStatus,o.errorThrown)+"</li>");if(this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&""!==c.val()&&(r=this.opts.createSearchChoice.call(d,c.val(),o.results),r!==t&&null!==r&&d.id(r)!==t&&null!==d.id(r)&&0===e(o.results).filter(function(){return a(d.id(this),d.id(r))}).length&&this.opts.createSearchChoicePosition(o.results,r)),0===o.results.length&&E(u.formatNoMatches,"formatNoMatches"))return n("<li class='select2-no-results'>"+T(u.formatNoMatches,u.element,c.val())+"</li>"),void(this.showSearch&&this.showSearch(c.val()));h.empty(),d.opts.populateResults.call(this,h,o.results,{term:c.val(),page:this.resultsPage,context:null}),o.more===!0&&E(u.formatLoadMore,"formatLoadMore")&&(h.append("<li class='select2-more-results'>"+u.escapeMarkup(T(u.formatLoadMore,u.element,this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(o,s),i(),this.opts.element.trigger({type:"select2-loaded",items:o})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){p(this.search)},selectHighlighted:function(e){if(this._touchMoved)return void this.clearTouchMoved();var t=this.highlight(),s=this.results.find(".select2-highlighted"),i=s.closest(".select2-result").data("select2-data");i?(this.highlight(t),this.onSelect(i,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var s=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&s||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(s.text())&&""===s.val())return s}},initContainerWidth:function(){function t(){var t,s,i,n,o,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(t=this.opts.element.attr("style"),"string"==typeof t)for(s=t.split(";"),n=0,o=s.length;n<o;n+=1)if(a=s[n].replace(/\s/g,""),i=a.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==i&&i.length>=1)return i[1];return"resolve"===this.opts.width?(t=this.opts.element.css("width"),t.indexOf("%")>0?t:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var s=t.call(this);null!==s&&this.container.css("width",s)}}),A=k(R,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var t,s,i;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),t=this.search.get(0),t.createTextRange?(s=t.createTextRange(),s.collapse(!1),s.select()):t.setSelectionRange&&(i=this.search.val().length,t.setSelectionRange(i,i))),this.prefillNextSearchTerm(),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),P.call(this,"selection","focusser")},initContainer:function(){var t,i,n=this.container,o=this.dropdown,a=L();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+a),this.focusser.attr("aria-labelledby","select2-chosen-"+a),this.results.attr("id","select2-results-"+a),this.search.attr("aria-owns","select2-results-"+a),this.focusser.attr("id","s2id_autogen"+a),i=e("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.focusser.prev().text(i.text()).attr("for",this.focusser.attr("id"));var r=this.opts.element.attr("title");this.opts.element.attr("title",r||i.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode){if(e.which===U.PAGE_UP||e.which===U.PAGE_DOWN)return void g(e);switch(e.which){case U.UP:case U.DOWN:return this.moveHighlight(e.which===U.UP?-1:1),void g(e);case U.ENTER:return this.selectHighlighted(),void g(e);case U.TAB:return void this.selectHighlighted({noFocus:!0});case U.ESC:return this.cancel(e),void g(e)}}})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.results&&this.results.length>1&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==U.TAB&&!U.isControl(e)&&!U.isFunctionKey(e)&&e.which!==U.ESC){if(this.opts.openOnEnter===!1&&e.which===U.ENTER)return void g(e);if(e.which==U.DOWN||e.which==U.UP||e.which==U.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void g(e)}return e.which==U.DELETE||e.which==U.BACKSPACE?(this.opts.allowClear&&this.clear(),void g(e)):void 0}})),c(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),m(e),this.close(),this.selection&&this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(i){s(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),g(i)})),o.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){g(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(t){var s=this.selection.data("select2-data");if(s){var i=e.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var n=this.getPlaceholderOption();this.opts.element.val(n?n.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(s),choice:s}),this.triggerChange({removed:s}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(s){s!==t&&null!==s&&(e.updateSelection(s),e.close(),e.setPlaceholder(),e.lastSearchTerm=e.search.val())})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()!==t&&((e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val())},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),s=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=e.find("option").filter(function(){return this.selected&&!this.disabled});t(s.optionToData(i))}:"data"in t&&(t.initSelection=t.initSelection||function(s,i){var n=s.val(),o=null;t.query({matcher:function(e,s,i){var r=a(n,t.id(i));return r&&(o=i),r},callback:e.isFunction(i)?function(){i(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,s){var i=0,n=this;if(this.findHighlightableChoices().each2(function(e,t){if(a(n.id(t.data("select2-data")),n.opts.element.val()))return i=e,!1}),s!==!1&&(t===!0&&i>=0?this.highlight(i):this.highlight(0)),t===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(O(e.results)>=o)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var s=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.lastSearchTerm=this.search.val(),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),a(s,this.id(e))||this.triggerChange({added:e,removed:i})}},updateSelection:function(e){var s,i,n=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),n.empty(),null!==e&&(s=this.opts.formatSelection(e,n,this.opts.escapeMarkup)),s!==t&&n.append(s),i=this.opts.formatSelectionCssClass(e,n),i!==t&&n.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,s=!1,i=null,n=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(s=arguments[1],this.opts.debug&&console&&console.warn&&console.warn('Select2: The second option to `select2("val")` is not supported in Select2 4.0.0. The `change` event will always be triggered in 4.0.0.')),this.select)this.opts.debug&&console&&console.warn&&console.warn('Select2: Setting the value on a <select> using `select2("val")` is no longer supported in 4.0.0. You can use the `.val(newValue).trigger("change")` method provided by jQuery instead.'),this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return i=n.optionToData(t),!1}),this.updateSelection(i),this.setPlaceholder(),s&&this.triggerChange({added:i,removed:o});else{if(!e&&0!==e)return void this.clear(s);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){n.opts.element.val(e?n.id(e):""),n.updateSelection(e),n.setPlaceholder(),s&&n.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var s,i=!1;return 0===arguments.length?(s=this.selection.data("select2-data"),s==t&&(s=null),s):(arguments.length>1&&(i=arguments[1]),void(e?(s=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),i&&this.triggerChange({added:e,removed:s})):this.clear(i)))}}),D=k(R,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),s=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){i.push(s.optionToData(t))}),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(s,i){var n=r(s.val(),t.separator,t.transformVal),o=[];t.query({matcher:function(s,i,r){var l=e.grep(n,function(e){return a(e,t.id(r))}).length;return l&&o.push(r),l},callback:e.isFunction(i)?function(){for(var e=[],s=0;s<n.length;s++)for(var r=n[s],l=0;l<o.length;l++){var c=o[l];if(a(r,t.id(c))){e.push(c),o.splice(l,1);break}}i(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),P.call(this,"searchContainer","selection")},initContainer:function(){var t,s=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(s);var i=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(t){i.search[0].focus(),i.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+L()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var s=t.find(".select2-search-choice-focus"),i=s.prev(".select2-search-choice:not(.select2-locked)"),n=s.next(".select2-search-choice:not(.select2-locked)"),o=f(this.search);if(s.length&&(e.which==U.LEFT||e.which==U.RIGHT||e.which==U.BACKSPACE||e.which==U.DELETE||e.which==U.ENTER)){var a=s;return e.which==U.LEFT&&i.length?a=i:e.which==U.RIGHT?a=n.length?n:null:e.which===U.BACKSPACE?this.unselect(s.first())&&(this.search.width(10),a=i.length?i:n):e.which==U.DELETE?this.unselect(s.first())&&(this.search.width(10),a=n.length?n:null):e.which==U.ENTER&&(a=null),this.selectChoice(a),g(e),void(a&&a.length||this.open())}if((e.which===U.BACKSPACE&&1==this.keydowns||e.which==U.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void g(e);if(this.selectChoice(null),this.opened())switch(e.which){case U.UP:case U.DOWN:return this.moveHighlight(e.which===U.UP?-1:1),void g(e);case U.ENTER:return this.selectHighlighted(),void g(e);case U.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case U.ESC:return this.cancel(e),void g(e)}if(e.which!==U.TAB&&!U.isControl(e)&&!U.isFunctionKey(e)&&e.which!==U.BACKSPACE&&e.which!==U.ESC){if(e.which===U.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),e.which!==U.PAGE_UP&&e.which!==U.PAGE_DOWN||g(e),e.which===U.ENTER&&g(e)}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",s,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",s,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(s){s!==t&&null!==s&&(e.updateSelection(s),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),s=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(s>0?s:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.prefillNextSearchTerm(),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var s={},i=[],n=this;e(t).each(function(){n.id(this)in s||(s[n.id(this)]=0,i.push(this))}),this.selection.find(".select2-search-choice").remove(),this.addSelectedChoice(i),n.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.lastSearchTerm=this.search.val(),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.prefillNextSearchTerm()&&this.updateResults(),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(t){var s=this.getVal(),i=this;e(t).each(function(){s.push(i.createChoice(this))}),this.setVal(s)},createChoice:function(s){var i,n,o=!s.locked,a=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=o?a:r,c=this.id(s);return i=this.opts.formatSelection(s,l.find("div"),this.opts.escapeMarkup),i!=t&&l.find("div").replaceWith(e("<div></div>").html(i)),n=this.opts.formatSelectionCssClass(s,l.find("div")),n!=t&&l.addClass(n),o&&l.find(".select2-search-choice-close").on("mousedown",g).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),g(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",s),l.insertBefore(this.searchContainer),c},unselect:function(t){var s,i,o=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(s=t.data("select2-data")){var a=e.Event("select2-removing");if(a.val=this.id(s),a.choice=s,this.opts.element.trigger(a),a.isDefaultPrevented())return!1;for(;(i=n(this.id(s),o))>=0;)o.splice(i,1),this.setVal(o),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(s),choice:s}),this.triggerChange({removed:s}),!0}},postprocessResults:function(e,t,s){var i=this.getVal(),o=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),r=this;o.each2(function(e,t){var s=r.id(t.data("select2-data"));n(s,i)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),a.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),this.highlight()==-1&&s!==!1&&this.opts.closeOnSelect===!0&&r.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&E(r.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+T(r.opts.formatNoMatches,r.opts.element,r.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var e,t,s,i,n,o=l(this.search);e=v(this.search)+10,t=this.search.offset().left,s=this.selection.width(),i=this.selection.offset().left,n=s-(t-i)-o,n<e&&(n=s-o),n<40&&(n=s-o),n<=0&&(n=e),this.search.width(Math.floor(n))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),r(e,this.opts.separator,this.opts.transformVal))},setVal:function(t){if(this.select)this.select.val(t);else{var s=[],i={};e(t).each(function(){this in i||(s.push(this),i[this]=0)}),this.opts.element.val(0===s.length?"":s.join(this.opts.separator))}},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),s=0;s<t.length;s++)for(var i=0;i<e.length;i++)if(a(this.opts.id(t[s]),this.opts.id(e[i]))){t.splice(s,1),s--,e.splice(i,1);break}return{added:t,removed:e}},val:function(s,i){var n,o=this;if(0===arguments.length)return this.getVal();if(n=this.data(),n.length||(n=[]),!s&&0!==s)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:n}));if(this.setVal(s),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(n,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var s=e.map(t,o.id);o.setVal(s),o.updateSelection(t),o.clearSearch(),i&&o.triggerChange(o.buildChangeDetails(n,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],s=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(s.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,s){var i,n,o=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(n=this.data(),t||(t=[]),i=e.map(t,function(e){return o.opts.id(e)}),this.setVal(i),this.updateSelection(t),this.clearSearch(),s&&this.triggerChange(this.buildChangeDetails(n,this.data())),void 0)}}),e.fn.select2=function(){var s,i,o,a,r,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],h=["opened","isFocused","container","dropdown"],u=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])s=0===l.length?{}:e.extend({},l[0]),s.element=e(this),"select"===s.element.get(0).tagName.toLowerCase()?r=s.element.prop("multiple"):(r=s.multiple||!1,"tags"in s&&(s.multiple=r=!0)),i=r?new window.Select2["class"].multi:new window.Select2["class"].single,i.init(s);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(n(l[0],c)<0)throw"Unknown method: "+l[0];if(a=t,i=e(this).data("select2"),i===t)return;if(o=l[0],"container"===o?a=i.container:"dropdown"===o?a=i.dropdown:(d[o]&&(o=d[o]),a=i[o].apply(i,l.slice(1))),n(l[0],h)>=0||n(l[0],u)>=0&&1==l.length)return!1}}),a===t?this:a},e.fn.select2.defaults={debug:!1,width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,s,i){var n=[];return w(this.text(e),s.term,n,i),n.join("")},transformVal:function(t){return e.trim(t)},formatSelection:function(e,s,i){return e?i(this.text(e)):t},sortResults:function(e,t,s){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(e,s){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},text:function(t){return t&&this.data&&this.data.text?e.isFunction(this.data.text)?this.data.text(t):t[this.data.text]:t.text},matcher:function(e,t){return i(""+t).toUpperCase().indexOf(i(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:I,escapeMarkup:S,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(e,s){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){var t="ontouchstart"in window||navigator.msMaxTouchPoints>0;return!t||!(e.opts.minimumResultsForSearch<0)}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found";
},formatAjaxError:function(e,t,s){return"Loading failed"},formatInputTooShort:function(e,t){var s=t-e.length;return"Please enter "+s+" or more character"+(1==s?"":"s")},formatInputTooLong:function(e,t){var s=e.length-t;return"Please delete "+s+" character"+(1==s?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Loading more results…"},formatSearching:function(){return"Searching…"}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.en),e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:C,local:y,tags:x},util:{debounce:u,markMatch:w,escapeMarkup:S,stripDiacritics:i},"class":{"abstract":R,single:A,multi:D}}}}(jQuery);
!function(t){"use strict";t.extend(t.fn.select2.defaults,{formatNoMatches:function(){return"没有找到匹配项"},formatInputTooShort:function(t,n){var o=n-t.length;return"请再输入"+o+"个字符"},formatInputTooLong:function(t,n){var o=t.length-n;return"请删掉"+o+"个字符"},formatSelectionTooBig:function(t){return"你只能选择最多"+t+"项"},formatLoadMore:function(t){return"加载结果中..."},formatSearching:function(){return"搜索中..."}})}(jQuery);
!function(e,o){var t=/[<>&\r\n"']/gm,a={"<":"lt;",">":"gt;","&":"amp;","\r":"#13;","\n":"#10;",'"':"quot;","'":"#39;"};e.extend({fileDownload:function(i,n){function r(){var o=u.cookieValue;"string"==typeof o&&(o=o.toLowerCase());var t=u.cookieName.toLowerCase()+"="+o;if(document.cookie.toLowerCase().indexOf(t)>-1){v.onSuccess(i);var a=u.cookieName+"=; path="+u.cookiePath+"; expires="+new Date(0).toUTCString()+";";return u.cookieDomain&&(a+=" domain="+u.cookieDomain+";"),document.cookie=a,void c(!1)}if(w||k)try{var n=w?w.document:l(k);if(n&&null!==n.body&&n.body.innerHTML.length){var d=!0;if(T&&T.length){var s=e(n.body).contents().first();try{s.length&&s[0]===T[0]&&(d=!1)}catch(p){if(!p||p.number!=-2146828218)throw p;d=!0}}if(d)return void setTimeout(function(){v.onFail(n.body.innerHTML,i),c(!0)},100)}}catch(m){return v.onFail("",i,m),void c(!0)}setTimeout(r,u.checkInterval)}function l(e){var o=e[0].contentWindow||e[0].contentDocument;return o.document&&(o=o.document),o}function c(e){setTimeout(function(){w&&(p&&w.close(),s&&w.focus&&(w.focus(),e&&w.close()))},0)}function d(e){return e.replace(t,function(e){return"&"+a[e]})}var s,p,m,u=e.extend({preparingMessageHtml:null,failMessageHtml:null,androidPostUnsupportedMessageHtml:"Unfortunately your Android browser doesn't support this type of file download. Please try again with a different browser.",dialogOptions:{modal:!0},prepareCallback:function(e){},successCallback:function(e){},abortCallback:function(e){},failCallback:function(e,o,t){},httpMethod:"GET",data:null,checkInterval:100,cookieName:"fileDownload",cookieValue:"true",cookiePath:"/",cookieDomain:null,popupWindowTitle:"Initiating file download...",encodeHTMLEntities:!0},n),g=new e.Deferred,f=(navigator.userAgent||navigator.vendor||o.opera).toLowerCase();/ip(ad|hone|od)/.test(f)?s=!0:f.indexOf("android")!==-1?p=!0:m=/avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|playbook|silk|iemobile|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(f)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(f.substr(0,4));var h=u.httpMethod.toUpperCase();if(p&&"GET"!==h&&u.androidPostUnsupportedMessageHtml)return e().dialog?e("<div>").html(u.androidPostUnsupportedMessageHtml).dialog(u.dialogOptions):alert(u.androidPostUnsupportedMessageHtml),g.reject();var b=null,v={onPrepare:function(o){u.preparingMessageHtml?b=e("<div>").html(u.preparingMessageHtml).dialog(u.dialogOptions):u.prepareCallback&&u.prepareCallback(o)},onSuccess:function(e){b&&b.dialog("close"),u.successCallback(e),g.resolve(e)},onAbort:function(e){b&&b.dialog("close"),u.abortCallback(e),g.reject(e)},onFail:function(o,t,a){b&&b.dialog("close"),u.failMessageHtml&&e("<div>").html(u.failMessageHtml).dialog(u.dialogOptions),u.failCallback(o,t,a),g.reject(o,t)}};v.onPrepare(i),null!==u.data&&"string"!=typeof u.data&&(u.data=e.param(u.data));var k,w,y,T;if("GET"===h){if(null!==u.data){var x=i.indexOf("?");x!==-1?"&"!==i.substring(i.length-1)&&(i+="&"):i+="?",i+=u.data}s||p?(w=o.open(i),w.document.title=u.popupWindowTitle,o.focus()):m?o.location(i):k=e("<iframe>").hide().prop("src",i).appendTo("body")}else{var C="";null!==u.data&&e.each(u.data.replace(/\+/g," ").split("&"),function(){var e=this.split("="),o=e[0];e.shift();var t=e.join("=");e=[o,t];var a=u.encodeHTMLEntities?d(decodeURIComponent(e[0])):decodeURIComponent(e[0]);if(a){var i=u.encodeHTMLEntities?d(decodeURIComponent(e[1])):decodeURIComponent(e[1]);C+='<input type="hidden" name="'+a+'" value="'+i+'" />'}}),m?(T=e("<form>").appendTo("body"),T.hide().prop("method",u.httpMethod).prop("action",i).html(C)):(s?(w=o.open("about:blank"),w.document.title=u.popupWindowTitle,y=w.document,o.focus()):(k=e("<iframe style='display: none' src='about:blank'></iframe>").appendTo("body"),y=l(k)),y.write("<html><head></head><body><form method='"+u.httpMethod+"' action='"+i+"'>"+C+"</form>"+u.popupWindowTitle+"</body></html>"),T=e(y).find("form")),T.submit()}setTimeout(r,u.checkInterval);var M=g.promise();return M.abort=function(){c(),k.attr("src","").html(""),v.onAbort(i)},M}})}(jQuery,this||window);
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t;return function e(t,n,o){function i(a,c){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!c&&l)return l(a,!0);if(r)return r(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return i(n||e)},u,u.exports,e,t,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e,n){function o(t,e){for(;t&&t.nodeType!==i;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var i=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=o},{}],2:[function(t,e,n){function o(t,e,n,o,r){var a=i.apply(this,arguments);return t.addEventListener(n,a,r),{destroy:function(){t.removeEventListener(n,a,r)}}}function i(t,e,n,o){return function(n){n.delegateTarget=r(n.target,e),n.delegateTarget&&o.call(t,n)}}var r=t("./closest");e.exports=o},{"./closest":1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,n){function o(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!c.string(e))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(t))return i(t,e,n);if(c.nodeList(t))return r(t,e,n);if(c.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return l(document.body,t,e,n)}var c=t("./is"),l=t("delegate");e.exports=o},{"./is":3,delegate:2}],5:[function(t,e,n){function o(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var o=window.getSelection(),i=document.createRange();i.selectNodeContents(t),o.removeAllRanges(),o.addRange(i),e=o.toString()}return e}e.exports=o},{}],6:[function(t,e,n){function o(){}o.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function o(){i.off(t,o),e.apply(n,arguments)}var i=this;return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,i=n.length;for(o;o<i;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],i=[];if(o&&e)for(var r=0,a=o.length;r<a;r++)o[r].fn!==e&&o[r].fn._!==e&&i.push(o[r]);return i.length?n[t]=i:delete n[t],this}},e.exports=o},{}],7:[function(e,n,o){!function(i,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if(void 0!==o)r(n,e("select"));else{var a={exports:{}};r(a,i.select),i.clipboardAction=a.exports}}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=function(){function t(e){o(this,t),this.resolveOptions(e),this.initSelection()}return a(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,i["default"])(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i["default"])(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=c})},{select:5}],8:[function(e,n,o){!function(i,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if(void 0!==o)r(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var a={exports:{}};r(a,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=a.exports}}(this,function(t,e,n,o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var s=i(e),u=i(n),f=i(o),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),p=function(t){function e(t,n){r(this,e);var o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.resolveOptions(n),o.listenClick(t),o}return c(e,t),h(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===d(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,f["default"])(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s["default"]({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return l("action",t)}},{key:"defaultTarget",value:function(t){var e=l("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return l("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(u["default"]);t.exports=p})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});
!function(t,o){"use strict";"function"==typeof define&&define.amd?define(["jquery"],o):"object"==typeof exports?module.exports=o(require("jquery")):t.bootbox=o(t.jQuery)}(this,function t(o,e){"use strict";function n(t){var o=h[d.locale];return o?o[t]:h.en[t]}function a(t,e,n){t.stopPropagation(),t.preventDefault();var a=o.isFunction(n)&&n(t)===!1;a||e.modal("hide")}function r(t){var o,e=0;for(o in t)e++;return e}function c(t,e){var n=0;o.each(t,function(t,o){e(t,o,n++)})}function i(t){var e,n;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=o.extend({},d,t),t.buttons||(t.buttons={}),t.backdrop=!!t.backdrop&&"static",e=t.buttons,n=r(e),c(e,function(t,a,r){if(o.isFunction(a)&&(a=e[t]={callback:a}),"object"!==o.type(a))throw new Error("button with key "+t+" must be an object");a.label||(a.label=t),a.className||(n<=2&&r===n-1?a.className="btn-primary":a.className="btn-default")}),t}function l(t,o){var e=t.length,n={};if(e<1||e>2)throw new Error("Invalid argument length");return 2===e||"string"==typeof t[0]?(n[o[0]]=t[0],n[o[1]]=t[1]):n=t[0],n}function s(t,e,n){return o.extend(!0,{},t,l(e,n))}function u(t,o,e,n){var a={className:"bootbox-"+t,buttons:p.apply(null,o)};return b(s(a,n,e),o)}function p(){for(var t={},o=0,e=arguments.length;o<e;o++){var a=arguments[o],r=a.toLowerCase(),c=a.toUpperCase();t[r]={label:n(c)}}return t}function b(t,o){var n={};return c(o,function(t,o){n[o]=!0}),c(t.buttons,function(t){if(n[t]===e)throw new Error("button key "+t+" is not allowed (options are "+o.join("\n")+")")}),t}var f={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},d={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0,container:"body"},m={};m.alert=function(){var t;if(t=u("alert",["ok"],["message","callback"],arguments),t.callback&&!o.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!o.isFunction(t.callback)||t.callback()},m.dialog(t)},m.confirm=function(){var t;if(t=u("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback(!1)},t.buttons.confirm.callback=function(){return t.callback(!0)},!o.isFunction(t.callback))throw new Error("confirm requires a callback");return m.dialog(t)},m.prompt=function(){var t,n,a,r,i,l,u;r=o(f.form),n={className:"bootbox-prompt",buttons:p("cancel","confirm"),value:"",inputType:"text"},t=b(s(n,arguments,["title","callback"]),["cancel","confirm"]),l=t.show===e||t.show;var d=["date","time","number"],h=document.createElement("input");if(h.setAttribute("type",t.inputType),d[t.inputType]&&(t.inputType=h.type),t.message=r,t.buttons.cancel.callback=t.onEscape=function(){return t.callback(null)},t.buttons.confirm.callback=function(){var e;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":e=i.val();break;case"checkbox":var n=i.find("input:checked");e=[],c(n,function(t,n){e.push(o(n).val())})}return t.callback(e)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!o.isFunction(t.callback))throw new Error("prompt requires a callback");if(!f.inputs[t.inputType])throw new Error("invalid prompt type");switch(i=o(f.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":i.val(t.value);break;case"select":var v={};if(u=t.inputOptions||[],!u.length)throw new Error("prompt with select requires options");c(u,function(t,n){var a=i;if(n.value===e||n.text===e)throw new Error("given options in wrong format");n.group&&(v[n.group]||(v[n.group]=o("<optgroup/>").attr("label",n.group)),a=v[n.group]),a.append("<option value='"+n.value+"'>"+n.text+"</option>")}),c(v,function(t,o){i.append(o)}),i.val(t.value);break;case"checkbox":var C=o.isArray(t.value)?t.value:[t.value];if(u=t.inputOptions||[],!u.length)throw new Error("prompt with checkbox requires options");if(!u[0].value||!u[0].text)throw new Error("given options in wrong format");i=o("<div/>"),c(u,function(e,n){var a=o(f.inputs[t.inputType]);a.find("input").attr("value",n.value),a.find("label").append(n.text),c(C,function(t,o){o===n.value&&a.find("input").prop("checked",!0)}),i.append(a)})}return t.placeholder&&i.attr("placeholder",t.placeholder),t.pattern&&i.attr("pattern",t.pattern),r.append(i),r.on("submit",function(t){t.preventDefault(),a.find(".btn-primary").click()}),a=m.dialog(t),a.off("shown.bs.modal"),a.on("shown.bs.modal",function(){i.focus()}),l===!0&&a.modal("show"),a},m.dialog=function(t){t=i(t);var e=o(f.dialog),n=e.find(".modal-body"),r=t.buttons,l="",s={onEscape:t.onEscape};if(c(r,function(t,o){l+="<button data-bb-handler='"+t+"' type='button' class='btn "+o.className+"'>"+o.label+"</button>",s[t]=o.callback}),n.find(".bootbox-body").html(t.message),t.animate===!0&&e.addClass("fade"),t.className&&e.addClass(t.className),t.title&&n.before(f.header),t.closeButton){var u=o(f.closeButton);t.title?e.find(".modal-header").prepend(u):u.css("margin-top","-10px").prependTo(n)}return t.title&&e.find(".modal-title").html(t.title),l.length&&(n.after(f.footer),e.find(".modal-footer").html(l)),e.on("hidden.bs.modal",function(t){t.target===this&&e.remove()}),e.on("shown.bs.modal",function(){e.find(".btn-primary:first").focus()}),e.on("escape.close.bb",function(t){s.onEscape&&a(t,e,s.onEscape)}),e.on("click",".modal-footer button",function(t){var n=o(this).data("bb-handler");a(t,e,s[n])}),e.on("click",".bootbox-close-button",function(t){a(t,e,s.onEscape)}),e.on("keyup",function(t){27===t.which&&e.trigger("escape.close.bb")}),o(t.container).append(e),e.modal({backdrop:t.backdrop,keyboard:!1,show:!1}),t.show&&e.modal("show"),e},m.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],o.extend(d,t)},m.hideAll=function(){o(".bootbox").modal("hide")};var h={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"确定",CANCEL:"取消",CONFIRM:"确定"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return m.init=function(e){return t(e||o)},m});